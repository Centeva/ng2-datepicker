!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("moment"),require("jquery"));else if("function"==typeof define&&define.amd)define(["@angular/core","@angular/common","@angular/forms","moment","jquery"],t);else{var n="object"==typeof exports?t(require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("moment"),require("jquery")):t(e["@angular/core"],e["@angular/common"],e["@angular/forms"],e.moment,e.jquery);for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(this,function(e,t,n,a,o){return function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var a=t[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,__webpack_require__),a.loaded=!0,a.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="/",__webpack_require__(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),a=e[t[0]];return function(e,t,o){a.apply(this,[e,t,o].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){"use strict";var a=n(1);t.DatePickerModule=a.DatePickerModule},function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(2),i=n(3),d=n(4),c=n(5),l=n(18),s=n(7),p=n(9),h=function(){function DatePickerModule(){}return DatePickerModule=a([r.NgModule({exports:[c.DatePickerComponent,l.DualPickerComponent],declarations:[c.DatePickerComponent,l.DualPickerComponent,s.CalendarComponent,p.CalendarGridComponent],imports:[i.CommonModule,d.FormsModule]}),o("design:paramtypes",[])],DatePickerModule)}();t.DatePickerModule=h},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=this&&this.__decorate||function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(2),d=n(6),c=n(7),l=n(8),s=n(10),p=n(4),h=n(14);!function(e){e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden"}(t.DatePickerMode||(t.DatePickerMode={}));var u=t.DatePickerMode,m=function(e){function DatePickerComponent(t,n){var a=this;e.call(this),this.myElement=t,this.renderer=n,this.CalendarMode=l.CalendarMode,this.DatePickerMode=u,this.dateChange=new i.EventEmitter,this.mode=u.Hidden,this.dateClickListener=function(e){var t=d(e);return function(){a.setDate(t)}},this.monthChangeListener=function(){a.changeMode(l.CalendarMode.Calendar)},this.yearChangeListener=function(){a.changeMode(l.CalendarMode.Calendar)}}return a(DatePickerComponent,e),Object.defineProperty(DatePickerComponent.prototype,"date",{get:function(){return this.dateValue},set:function(e){e instanceof d&&e.isValid()&&(this.input.nativeElement.value=e.format("MM/DD/YYYY"),this.dateValue=e,this.dateChange.emit(e)),this.propagateChange(e)},enumerable:!0,configurable:!0}),DatePickerComponent.prototype.onDateStringChange=function(e){var t=d(new Date(e));this.dateValue.set(t.toObject()),this.dateChange.emit(this.dateValue),t.isValid()?this.cal.date=this.dateValue:this.cal.date=d(),this.propagateChange(e),this.renderCalendar()},DatePickerComponent.prototype.changeGlobalMode=function(e){switch(this.mode=e,this.mode){case u.Visible:this.checkDate(),this.changeMode(l.CalendarMode.Calendar),s(this.myElement.nativeElement).addClass("ct-dp-active");break;case u.Hidden:s(this.myElement.nativeElement).removeClass("ct-dp-active")}},DatePickerComponent.prototype.checkDate=function(){this.date instanceof d&&this.date.isValid()||(this.date=d(),this.touched())},DatePickerComponent.prototype.touched=function(){this.propagateTouched(this.date)},DatePickerComponent.prototype.blur=function(e){9==(e.which||e.keyCode)&&this.changeGlobalMode(u.Hidden)},DatePickerComponent.prototype.changeMode=function(e){switch(this.cal.changeMode(e),e){case l.CalendarMode.Calendar:this.renderCalendar()}},DatePickerComponent.prototype.goPrev=function(){this.cal.mode==l.CalendarMode.Calendar?(this.cal.date.month(this.cal.date.month()-1),this.renderCalendar()):this.cal.goPrev()},DatePickerComponent.prototype.goNext=function(){this.cal.mode==l.CalendarMode.Calendar?(this.cal.date.month(this.cal.date.month()+1),this.renderCalendar()):this.cal.goNext()},DatePickerComponent.prototype.ngOnInit=function(){this.date instanceof d&&this.date.isValid()?this.cal.date=d(this.date):this.cal.date=d(),this.cal.subscribeToChangeMonth(this.monthChangeListener),this.cal.subscribeToChangeYear(this.yearChangeListener)},DatePickerComponent.prototype.ngOnChanges=function(e){console.log("ngOnChanges")},DatePickerComponent.prototype.ngAfterViewInit=function(){var e=this;this.renderCalendar(),this.input.nativeElement.style["z-index"]=this.zIndexVal,this.input.nativeElement.addEventListener("focus",function(){e.changeGlobalMode(u.Visible)}),this.input.nativeElement.addEventListener("blur",function(t){e.blur(t)}),this.input.nativeElement.addEventListener("keyup",function(t){e.onDateStringChange(e.input.nativeElement.value)})},DatePickerComponent.prototype.setDate=function(e){switch(this.mode){case u.Visible:this.touched(),this.date=e,this.changeGlobalMode(u.Hidden)}this.renderCalendar()},DatePickerComponent.prototype.ngOnDestroy=function(){},DatePickerComponent.prototype.renderCalendar=function(){this.cal.renderCalendar(this.dateClickListener,this.date,this.date,this.minDateVal,this.maxDateVal)},DatePickerComponent.prototype.writeValue=function(e){e&&(this.date=e)},DatePickerComponent.prototype.validate=function(e){return e.value instanceof d&&e.value.isValid()?this.minDateVal&&this.minDateVal.isAfter(e.value)?"Date cannot be before "+this.minDateVal.format("mm/DD/yyyy"):this.maxDateVal&&this.maxDateVal.isBefore(e.value)?"Date cannot be after "+this.maxDateVal.format("mm/DD/yyyy"):null:"Invalid Date"},o([i.Output(),r("design:type",Object)],DatePickerComponent.prototype,"dateChange",void 0),o([i.Input(),r("design:type",Object)],DatePickerComponent.prototype,"date",null),o([i.ContentChild("date"),r("design:type","function"==typeof(t="undefined"!=typeof i.ElementRef&&i.ElementRef)&&t||Object)],DatePickerComponent.prototype,"input",void 0),o([i.ViewChild(c.CalendarComponent),r("design:type","function"==typeof(h="undefined"!=typeof c.CalendarComponent&&c.CalendarComponent)&&h||Object)],DatePickerComponent.prototype,"cal",void 0),DatePickerComponent=o([i.Component({selector:"ct-date-picker",template:n(15),styles:[n(16),n(17)],encapsulation:i.ViewEncapsulation.None,providers:[{provide:p.NG_VALUE_ACCESSOR,useExisting:i.forwardRef(function(){return DatePickerComponent}),multi:!0},{provide:p.NG_VALIDATORS,useExisting:i.forwardRef(function(){return DatePickerComponent}),multi:!0}]}),r("design:paramtypes",["function"==typeof(m="undefined"!=typeof i.ElementRef&&i.ElementRef)&&m||Object,"function"==typeof(f="undefined"!=typeof i.Renderer&&i.Renderer)&&f||Object])],DatePickerComponent);var t,h,m,f}(h.DatePickerBase);t.DatePickerComponent=m},function(e,t){e.exports=a},function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(2),i=n(6),d=n(8),c=n(9),l=function(){function CalendarComponent(){this.CalendarMode=d.CalendarMode,this.mode=d.CalendarMode.Calendar,this.months=[],this.years=[],this.monthListeners=[],this.yearListeners=[],this.generateMonthData()}return Object.defineProperty(CalendarComponent.prototype,"yearData",{get:function(){return this.years},enumerable:!0,configurable:!0}),CalendarComponent.prototype.ngOnInit=function(){},CalendarComponent.prototype.ngOnDestroy=function(){},CalendarComponent.prototype.subscribeToChangeMonth=function(e){this.monthListeners.push(e)},CalendarComponent.prototype.subscribeToChangeYear=function(e){this.yearListeners.push(e)},CalendarComponent.prototype.changeMode=function(e){switch(this.mode=e,e){case d.CalendarMode.Year:this.generateYearData(this.date.year())}},CalendarComponent.prototype.generateMonthData=function(){var e=i(new Date);e.month(0);var t=i(new Date);for(t.month(0);e.year()===t.year();)this.months.push(t.format("MMM")),t.month(t.month()+1)},CalendarComponent.prototype.generateYearData=function(e){this.years=[];for(var t=e-CalendarComponent.halfNumYearsShown,n=0;n<CalendarComponent.numYearsShown;n++)this.years.push(t+n)},CalendarComponent.prototype.goPrev=function(){switch(this.mode){case d.CalendarMode.Calendar:break;case d.CalendarMode.Month:break;case d.CalendarMode.Year:this.generateYearData(this.years[CalendarComponent.halfNumYearsShown]-CalendarComponent.numYearsShown)}},CalendarComponent.prototype.goNext=function(){switch(this.mode){case d.CalendarMode.Calendar:break;case d.CalendarMode.Month:break;case d.CalendarMode.Year:this.generateYearData(this.years[CalendarComponent.halfNumYearsShown]+CalendarComponent.numYearsShown)}},CalendarComponent.prototype.renderCalendar=function(e,t,n,a,o){this.grid.renderCalendar(this.date,e,t,n,a,o)},CalendarComponent.prototype.setMonth=function(e){this.date.month(e);for(var t=0,n=this.monthListeners;t<n.length;t++){var a=n[t];a()}},CalendarComponent.prototype.setYear=function(e){this.date.year(e);for(var t=0,n=this.yearListeners;t<n.length;t++){var a=n[t];a()}},CalendarComponent.numYearsShown=15,CalendarComponent.halfNumYearsShown=Math.floor(CalendarComponent.numYearsShown/2),a([r.ViewChild(c.CalendarGridComponent),o("design:type","function"==typeof(e="undefined"!=typeof c.CalendarGridComponent&&c.CalendarGridComponent)&&e||Object)],CalendarComponent.prototype,"grid",void 0),CalendarComponent=a([r.Component({selector:"ct-calendar",template:n(12),styles:[n(13)],encapsulation:r.ViewEncapsulation.None}),o("design:paramtypes",[])],CalendarComponent);var e}();t.CalendarComponent=l},function(e,t){"use strict";!function(e){e[e.Calendar=0]="Calendar",e[e.Month=1]="Month",e[e.Year=2]="Year"}(t.CalendarMode||(t.CalendarMode={}));t.CalendarMode},function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(2),i=n(6),d=n(10),c=function(){function CalendarGridComponent(e,t){this.myElement=e,this.renderer=t}return CalendarGridComponent.prototype.ngOnInit=function(){},CalendarGridComponent.prototype.ngOnDestroy=function(){},CalendarGridComponent.prototype.renderCalendar=function(e,t,n,a,o,r){var c=i(e);c.date(1);for(var l=d("<div class='ct-dp-cal-header'></div>"),s=0;s<7;s++){c.day(s);var p=d("<div></div>");p.text(c.format("dd")),p.attr("ct-cal-dp-day",s.toString()),p.addClass("ct-dp-cal-day"),l.append(p)}c.date(1);for(var h=d("<div class='ct-dp-cal-body'></div>"),s=0;s<c.day();s++){var p=d("<div></div>");p.attr("ct-dp-cal-day",s.toString()),p.addClass("ct-dp-cal-day"),h.append(p)}for(;c.month()===e.month();){var p=d("<button></button>");p.text(c.date().toString()),p.attr("ct-dp-cal-day",c.date().toString()),p.attr("tabIndex","-1"),p.addClass("ct-dp-cal-day"),(n&&c.isSame(n,"day")||a&&c.isSame(a,"day"))&&p.addClass("active"),a&&n&&c.isBetween(a,n)&&p.addClass("between"),(r&&o&&c.isBefore(o)||c.isAfter(r))&&p.attr("disabled","disabled"),p.click(t(c)),c.date(c.date()+1),h.append(p)}d(this.myElement.nativeElement).empty(),l.appendTo(this.myElement.nativeElement),h.appendTo(this.myElement.nativeElement)},CalendarGridComponent.prototype.renderCalendarRenderer=function(e,t,n,a){var o=i(e.date);o.date(1),this.renderer.selectRootElement(this.myElement.nativeElement);var r=this.renderer.createElement(this.myElement.nativeElement,"div");this.renderer.setElementClass(r,".ct-dp-cal-header",!0);var d=this.renderer.createElement(this.myElement.nativeElement,"div");this.renderer.setElementClass(r,".ct-dp-cal-body",!0);for(var c=0;c<7;c++){o.day(c);var l=this.renderer.createElement(r,"div");this.renderer.setText(l,o.format("dd")),this.renderer.setElementAttribute(l,"ct-cal-dp-day",c.toString()),this.renderer.setElementClass(l,"ct-dp-cal-day",!0)}o.date(1);for(var c=0;c<o.day();c++){var l=this.renderer.createElement(d,"div");this.renderer.setElementAttribute(l,"ct-dp-cal-day",c.toString()),this.renderer.setElementClass(l,"ct-dp-cal-day",!0)}for(;o.month()===e.date.month();){var l=this.renderer.createElement(d,"button");this.renderer.setText(l,o.date().toString()),this.renderer.setElementAttribute(l,"ct-dp-cal-day",o.date().toString()),this.renderer.setElementAttribute(l,"tabindex","-1"),this.renderer.setElementClass(l,"ct-dp-cal-day",!0),(n&&o.isSame(n,"day")||a&&o.isSame(a,"day"))&&this.renderer.setElementClass(l,"active",!0),a&&n&&o.isBetween(a,n)&&this.renderer.setElementClass(l,"between",!0),this.renderer.listen(l,"click",t(o)),o.date(o.date()+1)}},CalendarGridComponent=a([r.Component({selector:"ct-calendar-grid",template:"",styles:[n(11)],encapsulation:r.ViewEncapsulation.None}),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.ElementRef&&r.ElementRef)&&e||Object,"function"==typeof(t="undefined"!=typeof r.Renderer&&r.Renderer)&&t||Object])],CalendarGridComponent);var e,t}();t.CalendarGridComponent=c},function(e,t){e.exports=o},function(e,t){e.exports=""},function(e,t){e.exports='<div class="ct-dp-cal" [ngClass]="{\'hidden\': mode != CalendarMode.Calendar}">\r\n    <ct-calendar-grid></ct-calendar-grid>\r\n</div>\r\n<div class="ct-dp-months" [ngClass]="{\'hidden\': mode != CalendarMode.Month}">\r\n    <template ngFor let-item [ngForOf]="months" [ngForTrackBy]="myTrackBy" let-i="index"><!--\r\n        --><button tabindex="-1" class="ct-dp-btn ct-dp-month" (click)="setMonth(i)">{{item}}</button>\r\n    </template>\r\n</div>\r\n<div class="ct-dp-years" [ngClass]="{\'hidden\': mode != CalendarMode.Year}">\r\n    <template ngFor let-item [ngForOf]="years" [ngForTrackBy]="myTrackBy" let-i="index"><!--\r\n        --><button tabindex="-1" class="ct-dp-btn ct-dp-year" (click)="setYear(item)">{{item}}</button>\r\n    </template>\r\n</div>'},11,function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(2),i=n(6),d=n(8),c=function(){function DatePickerBase(){this.CalendarMode=d.CalendarMode,this.propagateChange=function(){},this.propagateTouched=function(){},this.validateFn=function(){},this.shadowZIndex=100,this.zIndexVal=101,this.minDateVal=null,this.maxDateVal=null}return Object.defineProperty(DatePickerBase.prototype,"zIndex",{set:function(e){this.shadowZIndex=e,this.zIndexVal=e+1},enumerable:!0,configurable:!0}),Object.defineProperty(DatePickerBase.prototype,"minDate",{set:function(e){var t=i(e);t.isValid()?this.minDateVal=i(e):this.minDateVal=null},enumerable:!0,configurable:!0}),Object.defineProperty(DatePickerBase.prototype,"maxDate",{set:function(e){var t=i(e);t.isValid()?this.maxDateVal=i(e):this.maxDateVal=null},enumerable:!0,configurable:!0}),DatePickerBase.prototype.registerOnChange=function(e){this.propagateChange=e},DatePickerBase.prototype.registerOnTouched=function(e){this.propagateTouched=e},a([r.Input("zIndex"),o("design:type",Number),o("design:paramtypes",[Number])],DatePickerBase.prototype,"zIndex",null),a([r.Input("minDate"),o("design:type",Object),o("design:paramtypes",[Object])],DatePickerBase.prototype,"minDate",null),a([r.Input("maxDate"),o("design:type",Object),o("design:paramtypes",[Object])],DatePickerBase.prototype,"maxDate",null),DatePickerBase}();t.DatePickerBase=c},function(e,t){e.exports='<ng-content></ng-content>\r\n<div class="ct-dp-shadow-box" (click)="changeGlobalMode(DatePickerMode.Hidden)" *ngIf="mode != DatePickerMode.Hidden" [style.z-index]="shadowZIndex">\r\n</div>\r\n<div class="ct-dp-picker" [class.hidden]="mode == DatePickerMode.Hidden" [style.z-index]="zIndexVal">\r\n    <div class="ct-dp-caret-1"></div>\r\n    <div class="ct-dp-caret-2"></div>\r\n    <div class="ct-dp-header"><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-prev  ct-dp-btn" (click)="goPrev()" [disabled]="cal.mode == CalendarMode.Month">&lt;</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-month ct-dp-btn" (click)="changeMode(CalendarMode.Month)">{{cal.date.format("MMMM")}}</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-year  ct-dp-btn" (click)="changeMode(CalendarMode.Year)">{{cal.date.format("YYYY")}}</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-next  ct-dp-btn" (click)="goNext()" [disabled]="cal.mode == CalendarMode.Month">&gt;</button>\r\n    </div>\r\n    <ct-calendar></ct-calendar>\r\n</div>'},11,function(e,t){e.exports='.ct-dp-active input{position:relative}.ct-dp-shadow-box{position:fixed;top:0;right:0;bottom:0;left:0;background-color:transparent}.ct-dp-picker{width:220px;border:1px solid #808080;box-sizing:content-box;position:absolute;background-color:white;margin-top:14px;transition:.5s}.ct-dp-picker.ct-dp-dualpicker{width:440px}.ct-dp-picker.ct-dp-picker-to{margin-left:15px}.ct-dp-caret-2,.ct-dp-caret-1{bottom:100%;left:10%;border:solid transparent;height:0;width:0;position:absolute;pointer-events:none;transition:.5s}.ct-dp-caret-2{border-color:rgba(136,183,213,0);border-bottom-color:white;border-width:14px;margin-left:-14px}.ct-dp-caret-1{border-color:rgba(194,225,245,0);border-bottom-color:#808080;border-width:16px;margin-left:-16px}.ct-dp-header{border-bottom:1px solid #808080}.ct-dp-cal{padding:5px;width:220px;float:left}.ct-dp-cal-inactive{visibility:hidden}.ct-dp-cal-header{color:#808080}.ct-dp-cal-day{width:30px;height:30px;float:left;text-align:center}.ct-dp-cal-day:disabled{color:#bfbfbf}.ct-dp-cal-day.active{background-color:lightblue}.ct-dp-cal-day.between{background-color:lightgray}.ct-dp-months,.ct-dp-years{width:220px;float:left;padding:5px}.ct-dp-month,.ct-dp-year{width:33.33%;float:left;text-align:center}.ct-dp-btn{padding:4px;background-color:white;border:none}.ct-dp-btn:hover{background-color:#999}.ct-dp-btn[disabled]:hover{background-color:white}.ct-dp-btn[disabled]{color:white}.ct-dp-picker .ct-dp-btn-prev,.ct-dp-picker .ct-dp-btn-next{width:10%}.ct-dp-picker .ct-dp-btn-month{width:50%;font-weight:500}.ct-dp-picker .ct-dp-btn-year{width:30%;font-weight:500}.ct-dp-picker.ct-dp-dualpicker .ct-dp-btn-prev,.ct-dp-picker.ct-dp-dualpicker .ct-dp-btn-next{width:5%}.ct-dp-picker.ct-dp-dualpicker .ct-dp-btn-month{width:25%}.ct-dp-picker.ct-dp-dualpicker .ct-dp-btn-year{width:15%}.clearfix,.ct-dp-cal:after,.ct-dp-months:after,.ct-dp-years:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.no-button,.ct-dp-cal-day{background:transparent;border:none !important}.pull-right{float:right}.hidden{display:none !important}'},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=this&&this.__decorate||function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(2),d=n(6),c=n(10),l=n(7),s=n(8),p=n(4),h=n(14);!function(e){e[e.To=0]="To",e[e.From=1]="From",e[e.Hidden=2]="Hidden"}(t.DualPickerMode||(t.DualPickerMode={}));var u=t.DualPickerMode,m=function(e){function DualPickerComponent(t){var n=this;e.call(this),this.myElement=t,this.CalendarMode=s.CalendarMode,this.DualPickerMode=u,this.dateFromChange=new i.EventEmitter,this.dateToChange=new i.EventEmitter,this.mode=u.Hidden,this.timerId=null,this.month1ChangeListener=function(){n.shiftCal2(),n.changeMode(s.CalendarMode.Calendar,n.cal1),n.changeMode(s.CalendarMode.Calendar,n.cal2)},this.month2ChangeListener=function(){n.shiftCal1(),n.changeMode(s.CalendarMode.Calendar,n.cal1),n.changeMode(s.CalendarMode.Calendar,n.cal2)},this.year1ChangeListener=function(){n.shiftCal2(),n.changeMode(s.CalendarMode.Calendar,n.cal1),n.changeMode(s.CalendarMode.Calendar,n.cal2)},this.year2ChangeListener=function(){n.shiftCal1(),n.changeMode(s.CalendarMode.Calendar,n.cal1),n.changeMode(s.CalendarMode.Calendar,n.cal2)},this.dateClickListener=function(e){var t=d(e);return function(){n.setDate(t)}}}return a(DualPickerComponent,e),Object.defineProperty(DualPickerComponent.prototype,"dateFrom",{get:function(){return this.dateFromValue},set:function(e){e instanceof d&&e.isValid()&&(this.inputFrom.nativeElement.value=e.format("MM/DD/YYYY"),this.dateFromValue=e,this.dateFromChange.emit(e)),this.propagateChange({dateFrom:this.dateFrom,dateTo:this.dateTo})},enumerable:!0,configurable:!0}),Object.defineProperty(DualPickerComponent.prototype,"dateTo",{get:function(){return this.dateToValue},set:function(e){e instanceof d&&e.isValid()&&(this.inputTo.nativeElement.value=e.format("MM/DD/YYYY"),this.dateToValue=e,this.dateToChange.emit(e)),this.propagateChange({dateFrom:this.dateFrom,dateTo:this.dateTo})},enumerable:!0,configurable:!0}),DualPickerComponent.prototype.changeGlobalMode=function(e,t){var n=this;void 0===t&&(t=!1),null!=this.timerId&&clearTimeout(this.timerId),t?this.timerId=setTimeout(function(){n.changeGlobalModeFn(e)},400):this.changeGlobalModeFn(e)},DualPickerComponent.prototype.changeGlobalModeFn=function(e){switch(this.mode=e,this.mode){case u.To:this.checkDate();var t=c(this.inputTo.nativeElement).position().left;c(this.myElement.nativeElement).find(".ct-dp-caret").css({left:t}),c(this.myElement.nativeElement).addClass("ct-dp-active");break;case u.From:this.checkDate();var n=c(this.inputFrom.nativeElement).position().left;c(this.myElement.nativeElement).find(".ct-dp-caret").css({left:n}),c(this.myElement.nativeElement).addClass("ct-dp-active");break;case u.Hidden:c(this.myElement.nativeElement).removeClass("ct-dp-active")}this.changeMode(s.CalendarMode.Calendar,this.cal1),this.changeMode(s.CalendarMode.Calendar,this.cal2)},DualPickerComponent.prototype.onDateFromStringChange=function(e){var t=d(new Date(e));t.isValid()&&(this.dateFromValue.set(t.toObject()),this.correctDateTo(),this.cal1.date=this.dateFromValue,this.shiftCal2(),this.dateFromChange.emit(this.dateFromValue),this.renderCalendar())},DualPickerComponent.prototype.onDateToStringChange=function(e){var t=d(new Date(e));t.isValid()&&(this.dateToValue.set(t.toObject()),this.correctDateFrom(),this.cal2.date=this.dateToValue,this.shiftCal1(),this.dateToChange.emit(this.dateToValue),this.renderCalendar())},DualPickerComponent.prototype.shiftCal1=function(){this.cal1.date=d(this.cal2.date),this.cal1.date.subtract({month:1})},DualPickerComponent.prototype.shiftCal2=function(){this.cal2.date=d(this.cal1.date),this.cal2.date.add({month:1})},DualPickerComponent.prototype.blur=function(e){9==(e.which||e.keyCode)&&this.changeGlobalMode(u.Hidden)},DualPickerComponent.prototype.changeMode=function(e,t){switch(t.changeMode(e),e){case s.CalendarMode.Calendar:this.renderCalendar()}},DualPickerComponent.prototype.goPrev=function(){this.cal1.mode==s.CalendarMode.Calendar&&this.cal2.mode==s.CalendarMode.Calendar?(this.cal1.date.month(this.cal1.date.month()-1),this.shiftCal2(),this.renderCalendar()):(this.cal1.goPrev(),this.cal2.goPrev())},DualPickerComponent.prototype.goNext=function(){this.cal1.mode==s.CalendarMode.Calendar&&this.cal2.mode==s.CalendarMode.Calendar?(this.cal1.date.month(this.cal1.date.month()+1),this.shiftCal2(),this.renderCalendar()):(this.cal1.goNext(),this.cal2.goNext())},DualPickerComponent.prototype.touched=function(){this.propagateTouched({dateFrom:this.dateFrom,dateTo:this.dateTo})},DualPickerComponent.prototype.ngOnInit=function(){this.cal1.date=d(this.dateFrom),this.shiftCal2(),this.cal1.subscribeToChangeMonth(this.month1ChangeListener),this.cal2.subscribeToChangeMonth(this.month2ChangeListener),this.cal1.subscribeToChangeYear(this.year1ChangeListener),this.cal2.subscribeToChangeYear(this.year2ChangeListener)},DualPickerComponent.prototype.ngAfterViewInit=function(){var e=this;this.renderCalendar(),this.inputTo.nativeElement.style["z-index"]=this.zIndexVal,this.inputFrom.nativeElement.style["z-index"]=this.zIndexVal,this.inputFrom.nativeElement.addEventListener("focus",function(){e.changeGlobalMode(u.From)}),this.inputTo.nativeElement.addEventListener("focus",function(){e.changeGlobalMode(u.To)}),this.inputFrom.nativeElement.addEventListener("blur",function(t){e.blur(t)}),this.inputTo.nativeElement.addEventListener("blur",function(t){e.blur(t)}),this.inputFrom.nativeElement.addEventListener("keyup",function(t){e.onDateFromStringChange(e.inputFrom.nativeElement.value)}),this.inputTo.nativeElement.addEventListener("keyup",function(t){e.onDateToStringChange(e.inputTo.nativeElement.value)})},DualPickerComponent.prototype.ngOnChanges=function(e){},DualPickerComponent.prototype.ngOnDestroy=function(){},DualPickerComponent.prototype.writeValue=function(e){e&&(this.dateTo=e.dateTo,this.dateFrom=e.dateFrom)},DualPickerComponent.prototype.validate=function(e){return e.value.dateFrom instanceof d&&e.value.dateFrom.isValid()?this.minDateVal&&this.minDateVal.isAfter(e.value.dateFrom)?"Date cannot be before "+this.minDateVal.format("mm/DD/yyyy"):this.maxDateVal&&this.maxDateVal.isBefore(e.value.dateFrom)?"Date cannot be after "+this.maxDateVal.format("mm/DD/yyyy"):e.value.dateTo instanceof d&&e.value.dateTo.isValid()?this.minDateVal&&this.minDateVal.isAfter(e.value.dateTo)?"Date cannot be before "+this.minDateVal.format("mm/DD/yyyy"):this.maxDateVal&&this.maxDateVal.isBefore(e.value.dateTo)?"Date cannot be after "+this.maxDateVal.format("mm/DD/yyyy"):null:"Invalid Date":"Invalid Date"},DualPickerComponent.prototype.checkDate=function(){this.dateFrom instanceof d&&this.dateFrom.isValid()||(this.dateFrom=d(),this.touched())},DualPickerComponent.prototype.renderCalendar=function(){this.cal1.renderCalendar(this.dateClickListener,this.dateTo,this.dateFrom,this.minDateVal,this.maxDateVal),this.cal2.renderCalendar(this.dateClickListener,this.dateTo,this.dateFrom,this.minDateVal,this.maxDateVal)},DualPickerComponent.prototype.setDate=function(e){switch(this.mode){case u.From:this.dateFrom=e,this.correctDateTo(),this.changeGlobalMode(u.To);break;case u.To:this.dateTo=e,this.correctDateFrom(),this.changeGlobalMode(u.Hidden,!0)}this.touched(),this.renderCalendar()},DualPickerComponent.prototype.correctDateTo=function(){this.dateTo&&this.dateFrom.isAfter(this.dateTo)&&(this.dateTo=d(this.dateFrom),this.dateTo.add({day:1}))},DualPickerComponent.prototype.correctDateFrom=function(){this.dateFrom&&this.dateTo.isBefore(this.dateFrom)&&(this.dateFrom=d(this.dateTo),this.dateFrom.subtract({day:1}))},o([i.Output(),r("design:type",Object)],DualPickerComponent.prototype,"dateFromChange",void 0),o([i.Output(),r("design:type",Object)],DualPickerComponent.prototype,"dateToChange",void 0),o([i.Input(),r("design:type",Object)],DualPickerComponent.prototype,"dateFrom",null),o([i.Input(),r("design:type",Object)],DualPickerComponent.prototype,"dateTo",null),o([i.ContentChild("dateTo",l.CalendarComponent),r("design:type","function"==typeof(t="undefined"!=typeof i.ElementRef&&i.ElementRef)&&t||Object)],DualPickerComponent.prototype,"inputTo",void 0),o([i.ContentChild("dateFrom",l.CalendarComponent),r("design:type","function"==typeof(h="undefined"!=typeof i.ElementRef&&i.ElementRef)&&h||Object)],DualPickerComponent.prototype,"inputFrom",void 0),o([i.ViewChild("cal1",l.CalendarComponent),r("design:type","function"==typeof(m="undefined"!=typeof l.CalendarComponent&&l.CalendarComponent)&&m||Object)],DualPickerComponent.prototype,"cal1",void 0),o([i.ViewChild("cal2",l.CalendarComponent),r("design:type","function"==typeof(f="undefined"!=typeof l.CalendarComponent&&l.CalendarComponent)&&f||Object)],DualPickerComponent.prototype,"cal2",void 0),DualPickerComponent=o([i.Component({selector:"ct-dual-picker",template:n(19),styles:[n(20),n(17)],encapsulation:i.ViewEncapsulation.None,providers:[{provide:p.NG_VALUE_ACCESSOR,useExisting:i.forwardRef(function(){return DualPickerComponent}),multi:!0},{provide:p.NG_VALIDATORS,useExisting:i.forwardRef(function(){return DualPickerComponent}),multi:!0}]}),r("design:paramtypes",["function"==typeof(C="undefined"!=typeof i.ElementRef&&i.ElementRef)&&C||Object])],DualPickerComponent);var t,h,m,f,C}(h.DatePickerBase);t.DualPickerComponent=m},function(e,t){e.exports='<ng-content></ng-content>\r\n<div class="ct-dp-shadow-box" (click)="changeGlobalMode(DualPickerMode.Hidden)" *ngIf="mode != DualPickerMode.Hidden" [style.z-index]="shadowZIndex">\r\n</div>\r\n<div class="ct-dp-picker ct-dp-dualpicker" [class.hidden]="mode == DualPickerMode.Hidden" [class.ct-dp-picker-to]="mode == DualPickerMode.To" [style.z-index]="zIndexVal">\r\n    <div class="ct-dp-caret ct-dp-caret-1"></div>\r\n    <div class="ct-dp-caret ct-dp-caret-2"></div>\r\n    <div class="ct-dp-header"><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-prev  ct-dp-btn" (click)="goPrev()" [disabled]="cal1.mode == CalendarMode.Month || cal2.mode == CalendarMode.Month">&lt;</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-month ct-dp-btn" [disabled]="cal2.mode != CalendarMode.Calendar" (click)="changeMode(CalendarMode.Month, cal1)">{{cal1.date.format("MMMM")}}</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-year  ct-dp-btn" [disabled]="cal2.mode != CalendarMode.Calendar" (click)="changeMode(CalendarMode.Year, cal1)">{{cal1.date.format("YYYY")}}</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-next  ct-dp-btn" [disabled]="true"></button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-prev  ct-dp-btn" [disabled]="true"></button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-month ct-dp-btn" [disabled]="cal1.mode != CalendarMode.Calendar" (click)="changeMode(CalendarMode.Month, cal2)">{{cal2.date.format("MMMM")}}</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-year  ct-dp-btn" [disabled]="cal1.mode != CalendarMode.Calendar" (click)="changeMode(CalendarMode.Year, cal2)">{{cal2.date.format("YYYY")}}</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-next  ct-dp-btn" (click)="goNext()" [disabled]="this.cal1.mode == CalendarMode.Month || this.cal2.mode == CalendarMode.Month">&gt;</button>\r\n    </div>\r\n    <ct-calendar #cal1 [ngClass]="{\'ct-dp-cal-inactive\': cal2.mode != CalendarMode.Calendar}"></ct-calendar>\r\n    <ct-calendar #cal2 [ngClass]="{\'ct-dp-cal-inactive\': cal1.mode != CalendarMode.Calendar}"></ct-calendar>\r\n</div>';
},11]))});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9jdG5nLnVtZC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMGRjMThlOTBiZjA3NTE2OWI4NzMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0ZXBpY2tlci5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiQGFuZ3VsYXIvY29yZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBhbmd1bGFyL2NvbW1vblwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBhbmd1bGFyL2Zvcm1zXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibW9tZW50XCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbGVuZGFyL2NhbGVuZGFyLmNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NhbGVuZGFyLW1vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbGVuZGFyLWdyaWQvY2FsZW5kYXItZ3JpZC5jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwianF1ZXJ5XCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbGVuZGFyLWdyaWQvY2FsZW5kYXItZ3JpZC5jb21wb25lbnQubGVzcyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FsZW5kYXIvY2FsZW5kYXIuY29tcG9uZW50Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9kYXRlcGlja2VyLWJhc2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5jb21wb25lbnQuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbW1vbi5sZXNzIiwid2VicGFjazovLy8uL3NyYy9kdWFscGlja2VyL2R1YWxwaWNrZXIuY29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9kdWFscGlja2VyL2R1YWxwaWNrZXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsImEiLCJpIiwidGhpcyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX18iLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNl9fIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xMF9fIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsIl9tIiwiYXJncyIsInNsaWNlIiwiZm4iLCJiIiwiYXBwbHkiLCJjb25jYXQiLCJkYXRlcGlja2VyX21vZHVsZV8xIiwiRGF0ZVBpY2tlck1vZHVsZSIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwidGFyZ2V0Iiwia2V5IiwiZGVzYyIsImQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiZGVmaW5lUHJvcGVydHkiLCJfX21ldGFkYXRhIiwiayIsInYiLCJtZXRhZGF0YSIsImNvcmVfMSIsImNvbW1vbl8xIiwiZm9ybXNfMSIsImRhdGVwaWNrZXJfY29tcG9uZW50XzEiLCJkdWFscGlja2VyX2NvbXBvbmVudF8xIiwiY2FsZW5kYXJfY29tcG9uZW50XzEiLCJjYWxlbmRhcl9ncmlkX2NvbXBvbmVudF8xIiwiTmdNb2R1bGUiLCJEYXRlUGlja2VyQ29tcG9uZW50IiwiRHVhbFBpY2tlckNvbXBvbmVudCIsImRlY2xhcmF0aW9ucyIsIkNhbGVuZGFyQ29tcG9uZW50IiwiQ2FsZW5kYXJHcmlkQ29tcG9uZW50IiwiaW1wb3J0cyIsIkNvbW1vbk1vZHVsZSIsIkZvcm1zTW9kdWxlIiwiX19leHRlbmRzIiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIm1vbWVudCIsImNhbGVuZGFyX21vZGVfMSIsIiQiLCJkYXRlcGlja2VyX2Jhc2VfMSIsIkRhdGVQaWNrZXJNb2RlIiwiX3N1cGVyIiwibXlFbGVtZW50IiwicmVuZGVyZXIiLCJfdGhpcyIsIkNhbGVuZGFyTW9kZSIsImRhdGVDaGFuZ2UiLCJFdmVudEVtaXR0ZXIiLCJtb2RlIiwiSGlkZGVuIiwiZGF0ZUNsaWNrTGlzdGVuZXIiLCJkYXRlIiwic2V0RGF0ZSIsIm1vbnRoQ2hhbmdlTGlzdGVuZXIiLCJjaGFuZ2VNb2RlIiwiQ2FsZW5kYXIiLCJ5ZWFyQ2hhbmdlTGlzdGVuZXIiLCJnZXQiLCJkYXRlVmFsdWUiLCJzZXQiLCJ2YWwiLCJpc1ZhbGlkIiwiaW5wdXQiLCJuYXRpdmVFbGVtZW50IiwidmFsdWUiLCJmb3JtYXQiLCJlbWl0IiwicHJvcGFnYXRlQ2hhbmdlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIm9uRGF0ZVN0cmluZ0NoYW5nZSIsIkRhdGUiLCJ0b09iamVjdCIsImNhbCIsInJlbmRlckNhbGVuZGFyIiwiY2hhbmdlR2xvYmFsTW9kZSIsIlZpc2libGUiLCJjaGVja0RhdGUiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwidG91Y2hlZCIsInByb3BhZ2F0ZVRvdWNoZWQiLCJibHVyIiwiZXZlbnQiLCJ3aGljaCIsImtleUNvZGUiLCJnb1ByZXYiLCJtb250aCIsImdvTmV4dCIsIm5nT25Jbml0Iiwic3Vic2NyaWJlVG9DaGFuZ2VNb250aCIsInN1YnNjcmliZVRvQ2hhbmdlWWVhciIsIm5nT25DaGFuZ2VzIiwiaW5wdXRzIiwiY29uc29sZSIsImxvZyIsIm5nQWZ0ZXJWaWV3SW5pdCIsInN0eWxlIiwiekluZGV4VmFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm5nT25EZXN0cm95IiwibWluRGF0ZVZhbCIsIm1heERhdGVWYWwiLCJ3cml0ZVZhbHVlIiwidmFsaWRhdGUiLCJpc0FmdGVyIiwiaXNCZWZvcmUiLCJPdXRwdXQiLCJJbnB1dCIsIkNvbnRlbnRDaGlsZCIsIl9hIiwiRWxlbWVudFJlZiIsIlZpZXdDaGlsZCIsIl9iIiwiQ29tcG9uZW50Iiwic2VsZWN0b3IiLCJ0ZW1wbGF0ZSIsInN0eWxlcyIsImVuY2Fwc3VsYXRpb24iLCJWaWV3RW5jYXBzdWxhdGlvbiIsIk5vbmUiLCJwcm92aWRlcnMiLCJwcm92aWRlIiwiTkdfVkFMVUVfQUNDRVNTT1IiLCJ1c2VFeGlzdGluZyIsImZvcndhcmRSZWYiLCJtdWx0aSIsIk5HX1ZBTElEQVRPUlMiLCJfYyIsIl9kIiwiUmVuZGVyZXIiLCJEYXRlUGlja2VyQmFzZSIsIm1vbnRocyIsInllYXJzIiwibW9udGhMaXN0ZW5lcnMiLCJ5ZWFyTGlzdGVuZXJzIiwiZ2VuZXJhdGVNb250aERhdGEiLCJsaXN0ZW5lciIsInB1c2giLCJZZWFyIiwiZ2VuZXJhdGVZZWFyRGF0YSIsInllYXIiLCJ5IiwiaGFsZk51bVllYXJzU2hvd24iLCJudW1ZZWFyc1Nob3duIiwiTW9udGgiLCJjbGlja0NhbGxiYWNrIiwiZGF0ZVRvIiwiZGF0ZUZyb20iLCJtaW5EYXRlIiwibWF4RGF0ZSIsImdyaWQiLCJzZXRNb250aCIsImluZGV4IiwiX2kiLCJzZXRZZWFyIiwiTWF0aCIsImZsb29yIiwiaGVhZGVyIiwiZGF5IiwiZWwiLCJ0ZXh0IiwiYXR0ciIsInRvU3RyaW5nIiwiYXBwZW5kIiwiYm9keSIsImlzU2FtZSIsImlzQmV0d2VlbiIsImNsaWNrIiwiZW1wdHkiLCJhcHBlbmRUbyIsInJlbmRlckNhbGVuZGFyUmVuZGVyZXIiLCJzZWxlY3RSb290RWxlbWVudCIsImhlYWRlckVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0RWxlbWVudENsYXNzIiwiY2FsRWxlbWVudCIsInNldFRleHQiLCJzZXRFbGVtZW50QXR0cmlidXRlIiwibGlzdGVuIiwidmFsaWRhdGVGbiIsInNoYWRvd1pJbmRleCIsInJlZ2lzdGVyT25DaGFuZ2UiLCJyZWdpc3Rlck9uVG91Y2hlZCIsIk51bWJlciIsIkR1YWxQaWNrZXJNb2RlIiwiZGF0ZUZyb21DaGFuZ2UiLCJkYXRlVG9DaGFuZ2UiLCJ0aW1lcklkIiwibW9udGgxQ2hhbmdlTGlzdGVuZXIiLCJzaGlmdENhbDIiLCJjYWwxIiwiY2FsMiIsIm1vbnRoMkNoYW5nZUxpc3RlbmVyIiwic2hpZnRDYWwxIiwieWVhcjFDaGFuZ2VMaXN0ZW5lciIsInllYXIyQ2hhbmdlTGlzdGVuZXIiLCJkYXRlRnJvbVZhbHVlIiwiaW5wdXRGcm9tIiwiZGF0ZVRvVmFsdWUiLCJpbnB1dFRvIiwiZGVsYXkiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2hhbmdlR2xvYmFsTW9kZUZuIiwiVG8iLCJsIiwicG9zaXRpb24iLCJsZWZ0IiwiZmluZCIsImNzcyIsIkZyb20iLCJsZnJvbSIsIm9uRGF0ZUZyb21TdHJpbmdDaGFuZ2UiLCJjb3JyZWN0RGF0ZVRvIiwib25EYXRlVG9TdHJpbmdDaGFuZ2UiLCJjb3JyZWN0RGF0ZUZyb20iLCJzdWJ0cmFjdCIsImFkZCIsIl9lIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLG1CQUFBQyxVQUFBLGdCQUFBQyxRQUNBQSxPQUFBRCxRQUFBRCxFQUFBRyxRQUFBLGlCQUFBQSxRQUFBLG1CQUFBQSxRQUFBLGtCQUFBQSxRQUFBLFVBQUFBLFFBQUEsZUFDQSxzQkFBQUMsZ0JBQUFDLElBQ0FELFFBQUEsc0VBQUFKLE9BQ0EsQ0FDQSxHQUFBTSxHQUFBLGdCQUFBTCxTQUFBRCxFQUFBRyxRQUFBLGlCQUFBQSxRQUFBLG1CQUFBQSxRQUFBLGtCQUFBQSxRQUFBLFVBQUFBLFFBQUEsV0FBQUgsRUFBQUQsRUFBQSxpQkFBQUEsRUFBQSxtQkFBQUEsRUFBQSxrQkFBQUEsRUFBQSxPQUFBQSxFQUFBLE9BQ0EsUUFBQVEsS0FBQUQsSUFBQSxn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LE1sQndrQ3BGbEgsRUFBVyxxQkFBdUcsbUJBQXhFK00sRUFBa0MsbUJBQXRCM00sR0FBTytGLFlBQThCL0YsRUFBTytGLGFBQThCNEcsR0FBT3hPLFVBQ3hJc0Msb0JBRUgsSUFBSXFGLEdBQUlHLEVBQUllLEVBQUlDLEVBQUkwRixHa0J4a0NnQnBMLEVBQUE0RixlQUE1QnZLLEdBQUE2RCxvQkFBbUJBLEdsQitrQzFCLFNBQVM1RCxFQUFRRCxHbUJqbkN2QkMsRUFBQUQsUUFBQTtFbkJ1bkNBIiwiZmlsZSI6ImN0bmcudW1kLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiQGFuZ3VsYXIvY29yZVwiKSwgcmVxdWlyZShcIkBhbmd1bGFyL2NvbW1vblwiKSwgcmVxdWlyZShcIkBhbmd1bGFyL2Zvcm1zXCIpLCByZXF1aXJlKFwibW9tZW50XCIpLCByZXF1aXJlKFwianF1ZXJ5XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcIkBhbmd1bGFyL2NvcmVcIiwgXCJAYW5ndWxhci9jb21tb25cIiwgXCJAYW5ndWxhci9mb3Jtc1wiLCBcIm1vbWVudFwiLCBcImpxdWVyeVwiXSwgZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZmFjdG9yeShyZXF1aXJlKFwiQGFuZ3VsYXIvY29yZVwiKSwgcmVxdWlyZShcIkBhbmd1bGFyL2NvbW1vblwiKSwgcmVxdWlyZShcIkBhbmd1bGFyL2Zvcm1zXCIpLCByZXF1aXJlKFwibW9tZW50XCIpLCByZXF1aXJlKFwianF1ZXJ5XCIpKSA6IGZhY3Rvcnkocm9vdFtcIkBhbmd1bGFyL2NvcmVcIl0sIHJvb3RbXCJAYW5ndWxhci9jb21tb25cIl0sIHJvb3RbXCJAYW5ndWxhci9mb3Jtc1wiXSwgcm9vdFtcIm1vbWVudFwiXSwgcm9vdFtcImpxdWVyeVwiXSk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzJfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzZfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xMF9fKSB7XG5yZXR1cm4gXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIkBhbmd1bGFyL2NvcmVcIiksIHJlcXVpcmUoXCJAYW5ndWxhci9jb21tb25cIiksIHJlcXVpcmUoXCJAYW5ndWxhci9mb3Jtc1wiKSwgcmVxdWlyZShcIm1vbWVudFwiKSwgcmVxdWlyZShcImpxdWVyeVwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJAYW5ndWxhci9jb3JlXCIsIFwiQGFuZ3VsYXIvY29tbW9uXCIsIFwiQGFuZ3VsYXIvZm9ybXNcIiwgXCJtb21lbnRcIiwgXCJqcXVlcnlcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGZhY3RvcnkocmVxdWlyZShcIkBhbmd1bGFyL2NvcmVcIiksIHJlcXVpcmUoXCJAYW5ndWxhci9jb21tb25cIiksIHJlcXVpcmUoXCJAYW5ndWxhci9mb3Jtc1wiKSwgcmVxdWlyZShcIm1vbWVudFwiKSwgcmVxdWlyZShcImpxdWVyeVwiKSkgOiBmYWN0b3J5KHJvb3RbXCJAYW5ndWxhci9jb3JlXCJdLCByb290W1wiQGFuZ3VsYXIvY29tbW9uXCJdLCByb290W1wiQGFuZ3VsYXIvZm9ybXNcIl0sIHJvb3RbXCJtb21lbnRcIl0sIHJvb3RbXCJqcXVlcnlcIl0pO1xuXHRcdGZvcih2YXIgaSBpbiBhKSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZXhwb3J0cyA6IHJvb3QpW2ldID0gYVtpXTtcblx0fVxufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8yX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfM19fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV82X18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMTBfXykge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKChmdW5jdGlvbihtb2R1bGVzKSB7XG5cdC8vIENoZWNrIGFsbCBtb2R1bGVzIGZvciBkZWR1cGxpY2F0ZWQgbW9kdWxlc1xuXHRmb3IodmFyIGkgaW4gbW9kdWxlcykge1xuXHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2R1bGVzLCBpKSkge1xuXHRcdFx0c3dpdGNoKHR5cGVvZiBtb2R1bGVzW2ldKSB7XG5cdFx0XHRjYXNlIFwiZnVuY3Rpb25cIjogYnJlYWs7XG5cdFx0XHRjYXNlIFwib2JqZWN0XCI6XG5cdFx0XHRcdC8vIE1vZHVsZSBjYW4gYmUgY3JlYXRlZCBmcm9tIGEgdGVtcGxhdGVcblx0XHRcdFx0bW9kdWxlc1tpXSA9IChmdW5jdGlvbihfbSkge1xuXHRcdFx0XHRcdHZhciBhcmdzID0gX20uc2xpY2UoMSksIGZuID0gbW9kdWxlc1tfbVswXV07XG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChhLGIsYykge1xuXHRcdFx0XHRcdFx0Zm4uYXBwbHkodGhpcywgW2EsYixjXS5jb25jYXQoYXJncykpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0obW9kdWxlc1tpXSkpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdC8vIE1vZHVsZSBpcyBhIGNvcHkgb2YgYW5vdGhlciBtb2R1bGVcblx0XHRcdFx0bW9kdWxlc1tpXSA9IG1vZHVsZXNbbW9kdWxlc1tpXV07XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gbW9kdWxlcztcbn0oW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0dmFyIGRhdGVwaWNrZXJfbW9kdWxlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG5cdGV4cG9ydHMuRGF0ZVBpY2tlck1vZHVsZSA9IGRhdGVwaWNrZXJfbW9kdWxlXzEuRGF0ZVBpY2tlck1vZHVsZTtcclxuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcblx0ICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcblx0fTtcclxuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcclxuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xyXG5cdH07XHJcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcblx0dmFyIGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxuXHR2YXIgZm9ybXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XHJcblx0dmFyIGRhdGVwaWNrZXJfY29tcG9uZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xyXG5cdHZhciBkdWFscGlja2VyX2NvbXBvbmVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XHJcblx0dmFyIGNhbGVuZGFyX2NvbXBvbmVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcclxuXHR2YXIgY2FsZW5kYXJfZ3JpZF9jb21wb25lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XHJcblx0dmFyIERhdGVQaWNrZXJNb2R1bGUgPSAoZnVuY3Rpb24gKCkge1xyXG5cdCAgICBmdW5jdGlvbiBEYXRlUGlja2VyTW9kdWxlKCkge1xyXG5cdCAgICB9XHJcblx0ICAgIERhdGVQaWNrZXJNb2R1bGUgPSBfX2RlY29yYXRlKFtcclxuXHQgICAgICAgIGNvcmVfMS5OZ01vZHVsZSh7XHJcblx0ICAgICAgICAgICAgZXhwb3J0czogW1xyXG5cdCAgICAgICAgICAgICAgICBkYXRlcGlja2VyX2NvbXBvbmVudF8xLkRhdGVQaWNrZXJDb21wb25lbnQsXHJcblx0ICAgICAgICAgICAgICAgIGR1YWxwaWNrZXJfY29tcG9uZW50XzEuRHVhbFBpY2tlckNvbXBvbmVudCxcclxuXHQgICAgICAgICAgICBdLFxyXG5cdCAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW1xyXG5cdCAgICAgICAgICAgICAgICBkYXRlcGlja2VyX2NvbXBvbmVudF8xLkRhdGVQaWNrZXJDb21wb25lbnQsXHJcblx0ICAgICAgICAgICAgICAgIGR1YWxwaWNrZXJfY29tcG9uZW50XzEuRHVhbFBpY2tlckNvbXBvbmVudCxcclxuXHQgICAgICAgICAgICAgICAgY2FsZW5kYXJfY29tcG9uZW50XzEuQ2FsZW5kYXJDb21wb25lbnQsXHJcblx0ICAgICAgICAgICAgICAgIGNhbGVuZGFyX2dyaWRfY29tcG9uZW50XzEuQ2FsZW5kYXJHcmlkQ29tcG9uZW50XSxcclxuXHQgICAgICAgICAgICBpbXBvcnRzOiBbY29tbW9uXzEuQ29tbW9uTW9kdWxlLCBmb3Jtc18xLkZvcm1zTW9kdWxlXVxyXG5cdCAgICAgICAgfSksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbXSlcclxuXHQgICAgXSwgRGF0ZVBpY2tlck1vZHVsZSk7XHJcblx0ICAgIHJldHVybiBEYXRlUGlja2VyTW9kdWxlO1xyXG5cdH0oKSk7XHJcblx0ZXhwb3J0cy5EYXRlUGlja2VyTW9kdWxlID0gRGF0ZVBpY2tlck1vZHVsZTtcclxuXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fO1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzNfXztcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV80X187XG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHR2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XHJcblx0ICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xyXG5cdCAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuXHQgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG5cdH07XHJcblx0dmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG5cdCAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG5cdH07XHJcblx0dmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XHJcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcclxuXHR9O1xyXG5cdHZhciBjb3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5cdHZhciBtb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG5cdHZhciBjYWxlbmRhcl9jb21wb25lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XHJcblx0dmFyIGNhbGVuZGFyX21vZGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XHJcblx0dmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcclxuXHR2YXIgZm9ybXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XHJcblx0dmFyIGRhdGVwaWNrZXJfYmFzZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XHJcblx0KGZ1bmN0aW9uIChEYXRlUGlja2VyTW9kZSkge1xyXG5cdCAgICBEYXRlUGlja2VyTW9kZVtEYXRlUGlja2VyTW9kZVtcIlZpc2libGVcIl0gPSAwXSA9IFwiVmlzaWJsZVwiO1xyXG5cdCAgICBEYXRlUGlja2VyTW9kZVtEYXRlUGlja2VyTW9kZVtcIkhpZGRlblwiXSA9IDFdID0gXCJIaWRkZW5cIjtcclxuXHR9KShleHBvcnRzLkRhdGVQaWNrZXJNb2RlIHx8IChleHBvcnRzLkRhdGVQaWNrZXJNb2RlID0ge30pKTtcclxuXHR2YXIgRGF0ZVBpY2tlck1vZGUgPSBleHBvcnRzLkRhdGVQaWNrZXJNb2RlO1xyXG5cdHZhciBEYXRlUGlja2VyQ29tcG9uZW50ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuXHQgICAgX19leHRlbmRzKERhdGVQaWNrZXJDb21wb25lbnQsIF9zdXBlcik7XHJcblx0ICAgIGZ1bmN0aW9uIERhdGVQaWNrZXJDb21wb25lbnQobXlFbGVtZW50LCByZW5kZXJlcikge1xyXG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHQgICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xyXG5cdCAgICAgICAgdGhpcy5teUVsZW1lbnQgPSBteUVsZW1lbnQ7XHJcblx0ICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XHJcblx0ICAgICAgICAvKiogRW51bSBBY2Nlc3NvcnMgZm9yIEhUTUwgKi9cclxuXHQgICAgICAgIHRoaXMuQ2FsZW5kYXJNb2RlID0gY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZTtcclxuXHQgICAgICAgIHRoaXMuRGF0ZVBpY2tlck1vZGUgPSBEYXRlUGlja2VyTW9kZTtcclxuXHQgICAgICAgIHRoaXMuZGF0ZUNoYW5nZSA9IG5ldyBjb3JlXzEuRXZlbnRFbWl0dGVyKCk7XHJcblx0ICAgICAgICB0aGlzLm1vZGUgPSBEYXRlUGlja2VyTW9kZS5IaWRkZW47XHJcblx0ICAgICAgICB0aGlzLmRhdGVDbGlja0xpc3RlbmVyID0gZnVuY3Rpb24gKGRhdGUpIHtcclxuXHQgICAgICAgICAgICB2YXIgZCA9IG1vbWVudChkYXRlKTtcclxuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICAgICAgICBfdGhpcy5zZXREYXRlKGQpO1xyXG5cdCAgICAgICAgICAgIH07XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgdGhpcy5tb250aENoYW5nZUxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICAgIF90aGlzLmNoYW5nZU1vZGUoY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhcik7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgdGhpcy55ZWFyQ2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgX3RoaXMuY2hhbmdlTW9kZShjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyKTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgIH1cclxuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGVcIiwge1xyXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZVZhbHVlO1xyXG5cdCAgICAgICAgfSxcclxuXHQgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG5cdCAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBtb21lbnQgJiYgdmFsLmlzVmFsaWQoKSkge1xyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmlucHV0Lm5hdGl2ZUVsZW1lbnQudmFsdWUgPSB2YWwuZm9ybWF0KFwiTU0vREQvWVlZWVwiKTtcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5kYXRlVmFsdWUgPSB2YWw7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuZGF0ZUNoYW5nZS5lbWl0KHZhbCk7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIHRoaXMucHJvcGFnYXRlQ2hhbmdlKHZhbCk7XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG5cdCAgICB9KTtcclxuXHQgICAgRGF0ZVBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUub25EYXRlU3RyaW5nQ2hhbmdlID0gZnVuY3Rpb24gKHZhbCkge1xyXG5cdCAgICAgICAgdmFyIG0gPSBtb21lbnQobmV3IERhdGUodmFsKSk7XHJcblx0ICAgICAgICB0aGlzLmRhdGVWYWx1ZS5zZXQobS50b09iamVjdCgpKTtcclxuXHQgICAgICAgIHRoaXMuZGF0ZUNoYW5nZS5lbWl0KHRoaXMuZGF0ZVZhbHVlKTtcclxuXHQgICAgICAgIGlmIChtLmlzVmFsaWQoKSkge1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2FsLmRhdGUgPSB0aGlzLmRhdGVWYWx1ZTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2Uge1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2FsLmRhdGUgPSBtb21lbnQoKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHRoaXMucHJvcGFnYXRlQ2hhbmdlKHZhbCk7XHJcblx0ICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcblx0ICAgIH07XHJcblx0ICAgIERhdGVQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLmNoYW5nZUdsb2JhbE1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xyXG5cdCAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcclxuXHQgICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XHJcblx0ICAgICAgICAgICAgY2FzZSBEYXRlUGlja2VyTW9kZS5WaXNpYmxlOlxyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmNoZWNrRGF0ZSgpO1xyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZU1vZGUoY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhcik7XHJcblx0ICAgICAgICAgICAgICAgICQodGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCkuYWRkQ2xhc3MoXCJjdC1kcC1hY3RpdmVcIik7XHJcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgICAgIGNhc2UgRGF0ZVBpY2tlck1vZGUuSGlkZGVuOlxyXG5cdCAgICAgICAgICAgICAgICAkKHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpLnJlbW92ZUNsYXNzKFwiY3QtZHAtYWN0aXZlXCIpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBEYXRlUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5jaGVja0RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICBpZiAoISh0aGlzLmRhdGUgaW5zdGFuY2VvZiBtb21lbnQpIHx8ICF0aGlzLmRhdGUuaXNWYWxpZCgpKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5kYXRlID0gbW9tZW50KCk7XHJcblx0ICAgICAgICAgICAgdGhpcy50b3VjaGVkKCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIERhdGVQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLnRvdWNoZWQgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICB0aGlzLnByb3BhZ2F0ZVRvdWNoZWQodGhpcy5kYXRlKTtcclxuXHQgICAgfTtcclxuXHQgICAgRGF0ZVBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUuYmx1ciA9IGZ1bmN0aW9uIChldmVudCkge1xyXG5cdCAgICAgICAgaWYgKChldmVudC53aGljaCB8fCBldmVudC5rZXlDb2RlKSA9PSA5KSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5jaGFuZ2VHbG9iYWxNb2RlKERhdGVQaWNrZXJNb2RlLkhpZGRlbik7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIERhdGVQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLmNoYW5nZU1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xyXG5cdCAgICAgICAgdGhpcy5jYWwuY2hhbmdlTW9kZShtb2RlKTtcclxuXHQgICAgICAgIHN3aXRjaCAobW9kZSkge1xyXG5cdCAgICAgICAgICAgIGNhc2UgY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhcjpcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG5cdCAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgRGF0ZVBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUuZ29QcmV2ID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgaWYgKHRoaXMuY2FsLm1vZGUgPT0gY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhcikge1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2FsLmRhdGUubW9udGgodGhpcy5jYWwuZGF0ZS5tb250aCgpIC0gMSk7XHJcblx0ICAgICAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5jYWwuZ29QcmV2KCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIERhdGVQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLmdvTmV4dCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIGlmICh0aGlzLmNhbC5tb2RlID09IGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuQ2FsZW5kYXIpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmNhbC5kYXRlLm1vbnRoKHRoaXMuY2FsLmRhdGUubW9udGgoKSArIDEpO1xyXG5cdCAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2Uge1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2FsLmdvTmV4dCgpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBEYXRlUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIGlmICh0aGlzLmRhdGUgaW5zdGFuY2VvZiBtb21lbnQgJiYgdGhpcy5kYXRlLmlzVmFsaWQoKSkge1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2FsLmRhdGUgPSBtb21lbnQodGhpcy5kYXRlKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2Uge1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2FsLmRhdGUgPSBtb21lbnQoKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHRoaXMuY2FsLnN1YnNjcmliZVRvQ2hhbmdlTW9udGgodGhpcy5tb250aENoYW5nZUxpc3RlbmVyKTtcclxuXHQgICAgICAgIHRoaXMuY2FsLnN1YnNjcmliZVRvQ2hhbmdlWWVhcih0aGlzLnllYXJDaGFuZ2VMaXN0ZW5lcik7XHJcblx0ICAgIH07XHJcblx0ICAgIERhdGVQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGlucHV0cykge1xyXG5cdCAgICAgICAgY29uc29sZS5sb2coJ25nT25DaGFuZ2VzJyk7XHJcblx0ICAgIH07XHJcblx0ICAgIERhdGVQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblx0ICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcblx0ICAgICAgICB0aGlzLmlucHV0Lm5hdGl2ZUVsZW1lbnQuc3R5bGVbJ3otaW5kZXgnXSA9IHRoaXMuekluZGV4VmFsO1xyXG5cdCAgICAgICAgdGhpcy5pbnB1dC5uYXRpdmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZnVuY3Rpb24gKCkgeyBfdGhpcy5jaGFuZ2VHbG9iYWxNb2RlKERhdGVQaWNrZXJNb2RlLlZpc2libGUpOyB9KTtcclxuXHQgICAgICAgIHRoaXMuaW5wdXQubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24gKGV2ZW50KSB7IF90aGlzLmJsdXIoZXZlbnQpOyB9KTtcclxuXHQgICAgICAgIHRoaXMuaW5wdXQubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uIChldmVudCkgeyBfdGhpcy5vbkRhdGVTdHJpbmdDaGFuZ2UoX3RoaXMuaW5wdXQubmF0aXZlRWxlbWVudC52YWx1ZSk7IH0pO1xyXG5cdCAgICB9O1xyXG5cdCAgICBEYXRlUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5zZXREYXRlID0gZnVuY3Rpb24gKGRhdGUpIHtcclxuXHQgICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XHJcblx0ICAgICAgICAgICAgY2FzZSBEYXRlUGlja2VyTW9kZS5WaXNpYmxlOlxyXG5cdCAgICAgICAgICAgICAgICB0aGlzLnRvdWNoZWQoKTtcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5kYXRlID0gZGF0ZTtcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VHbG9iYWxNb2RlKERhdGVQaWNrZXJNb2RlLkhpZGRlbik7XHJcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG5cdCAgICB9O1xyXG5cdCAgICBEYXRlUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uRGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgfTtcclxuXHQgICAgRGF0ZVBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyQ2FsZW5kYXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICB0aGlzLmNhbC5yZW5kZXJDYWxlbmRhcih0aGlzLmRhdGVDbGlja0xpc3RlbmVyLCB0aGlzLmRhdGUsIHRoaXMuZGF0ZSwgdGhpcy5taW5EYXRlVmFsLCB0aGlzLm1heERhdGVWYWwpO1xyXG5cdCAgICB9O1xyXG5cdCAgICBEYXRlUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS53cml0ZVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0ICAgICAgICBpZiAodmFsdWUpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmRhdGUgPSB2YWx1ZTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgRGF0ZVBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiAoYykge1xyXG5cdCAgICAgICAgaWYgKCEoYy52YWx1ZSBpbnN0YW5jZW9mIG1vbWVudCkgfHwgIWMudmFsdWUuaXNWYWxpZCgpKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIFwiSW52YWxpZCBEYXRlXCI7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBpZiAodGhpcy5taW5EYXRlVmFsICYmIHRoaXMubWluRGF0ZVZhbC5pc0FmdGVyKGMudmFsdWUpKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIFwiRGF0ZSBjYW5ub3QgYmUgYmVmb3JlIFwiICsgdGhpcy5taW5EYXRlVmFsLmZvcm1hdChcIm1tL0REL3l5eXlcIik7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBpZiAodGhpcy5tYXhEYXRlVmFsICYmIHRoaXMubWF4RGF0ZVZhbC5pc0JlZm9yZShjLnZhbHVlKSkge1xyXG5cdCAgICAgICAgICAgIHJldHVybiBcIkRhdGUgY2Fubm90IGJlIGFmdGVyIFwiICsgdGhpcy5tYXhEYXRlVmFsLmZvcm1hdChcIm1tL0REL3l5eXlcIik7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICByZXR1cm4gbnVsbDtcclxuXHQgICAgfTtcclxuXHQgICAgX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuT3V0cHV0KCksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCBPYmplY3QpXHJcblx0ICAgIF0sIERhdGVQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGVDaGFuZ2VcIiwgdm9pZCAwKTtcclxuXHQgICAgX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuSW5wdXQoKSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsIE9iamVjdClcclxuXHQgICAgXSwgRGF0ZVBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUsIFwiZGF0ZVwiLCBudWxsKTtcclxuXHQgICAgX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuQ29udGVudENoaWxkKCdkYXRlJyksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCAodHlwZW9mIChfYSA9IHR5cGVvZiBjb3JlXzEuRWxlbWVudFJlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgY29yZV8xLkVsZW1lbnRSZWYpID09PSAnZnVuY3Rpb24nICYmIF9hKSB8fCBPYmplY3QpXHJcblx0ICAgIF0sIERhdGVQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLCBcImlucHV0XCIsIHZvaWQgMCk7XHJcblx0ICAgIF9fZGVjb3JhdGUoW1xyXG5cdCAgICAgICAgY29yZV8xLlZpZXdDaGlsZChjYWxlbmRhcl9jb21wb25lbnRfMS5DYWxlbmRhckNvbXBvbmVudCksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCAodHlwZW9mIChfYiA9IHR5cGVvZiBjYWxlbmRhcl9jb21wb25lbnRfMS5DYWxlbmRhckNvbXBvbmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgY2FsZW5kYXJfY29tcG9uZW50XzEuQ2FsZW5kYXJDb21wb25lbnQpID09PSAnZnVuY3Rpb24nICYmIF9iKSB8fCBPYmplY3QpXHJcblx0ICAgIF0sIERhdGVQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLCBcImNhbFwiLCB2b2lkIDApO1xyXG5cdCAgICBEYXRlUGlja2VyQ29tcG9uZW50ID0gX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuQ29tcG9uZW50KHtcclxuXHQgICAgICAgICAgICBzZWxlY3RvcjogJ2N0LWRhdGUtcGlja2VyJyxcclxuXHQgICAgICAgICAgICB0ZW1wbGF0ZTogX193ZWJwYWNrX3JlcXVpcmVfXygxNSksXHJcblx0ICAgICAgICAgICAgc3R5bGVzOiBbX193ZWJwYWNrX3JlcXVpcmVfXygxNiksIF9fd2VicGFja19yZXF1aXJlX18oMTcpXSxcclxuXHQgICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBjb3JlXzEuVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuXHQgICAgICAgICAgICBwcm92aWRlcnM6IFtcclxuXHQgICAgICAgICAgICAgICAgeyBwcm92aWRlOiBmb3Jtc18xLk5HX1ZBTFVFX0FDQ0VTU09SLCB1c2VFeGlzdGluZzogY29yZV8xLmZvcndhcmRSZWYoZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZVBpY2tlckNvbXBvbmVudDsgfSksIG11bHRpOiB0cnVlIH0sXHJcblx0ICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogZm9ybXNfMS5OR19WQUxJREFUT1JTLCB1c2VFeGlzdGluZzogY29yZV8xLmZvcndhcmRSZWYoZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZVBpY2tlckNvbXBvbmVudDsgfSksIG11bHRpOiB0cnVlIH1cclxuXHQgICAgICAgICAgICBdXHJcblx0ICAgICAgICB9KSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFsodHlwZW9mIChfYyA9IHR5cGVvZiBjb3JlXzEuRWxlbWVudFJlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgY29yZV8xLkVsZW1lbnRSZWYpID09PSAnZnVuY3Rpb24nICYmIF9jKSB8fCBPYmplY3QsICh0eXBlb2YgKF9kID0gdHlwZW9mIGNvcmVfMS5SZW5kZXJlciAhPT0gJ3VuZGVmaW5lZCcgJiYgY29yZV8xLlJlbmRlcmVyKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfZCkgfHwgT2JqZWN0XSlcclxuXHQgICAgXSwgRGF0ZVBpY2tlckNvbXBvbmVudCk7XHJcblx0ICAgIHJldHVybiBEYXRlUGlja2VyQ29tcG9uZW50O1xyXG5cdCAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XHJcblx0fShkYXRlcGlja2VyX2Jhc2VfMS5EYXRlUGlja2VyQmFzZSkpO1xyXG5cdGV4cG9ydHMuRGF0ZVBpY2tlckNvbXBvbmVudCA9IERhdGVQaWNrZXJDb21wb25lbnQ7XHJcblxuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzZfXztcblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdHZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuXHQgICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuXHQgICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxuXHR9O1xyXG5cdHZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xyXG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XHJcblx0fTtcclxuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxuXHR2YXIgbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxuXHR2YXIgY2FsZW5kYXJfbW9kZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcclxuXHR2YXIgY2FsZW5kYXJfZ3JpZF9jb21wb25lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XHJcblx0dmFyIENhbGVuZGFyQ29tcG9uZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuXHQgICAgZnVuY3Rpb24gQ2FsZW5kYXJDb21wb25lbnQoKSB7XHJcblx0ICAgICAgICAvKiogQWNjZXNzb3IgdG8gdGhlIG1vZGUgZm9yIGh0bWwgKi9cclxuXHQgICAgICAgIHRoaXMuQ2FsZW5kYXJNb2RlID0gY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZTtcclxuXHQgICAgICAgIHRoaXMubW9kZSA9IGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuQ2FsZW5kYXI7XHJcblx0ICAgICAgICAvKiogQXJyYXkgb2YgbW9udGhzIHRvIHNob3cgd2hlbiBzZWxlY3RpbmcgYSBuZXcgbW9udGggKi9cclxuXHQgICAgICAgIHRoaXMubW9udGhzID0gW107XHJcblx0ICAgICAgICAvKiogQXJyYXkgb2YgeWVhcnMgdG8gc2hvdyB3aGVuIHNlbGVjdGluZyBhIG5ldyB5ZWFyICovXHJcblx0ICAgICAgICB0aGlzLnllYXJzID0gW107XHJcblx0ICAgICAgICAvKiogTGlzdGVuZXJzIGZvciBtb250aCBjaGFuZ2UgKi9cclxuXHQgICAgICAgIHRoaXMubW9udGhMaXN0ZW5lcnMgPSBbXTtcclxuXHQgICAgICAgIC8qKiBMaXN0ZW5lcnMgZm9yIHllYXIgY2hhbmdlICovXHJcblx0ICAgICAgICB0aGlzLnllYXJMaXN0ZW5lcnMgPSBbXTtcclxuXHQgICAgICAgIHRoaXMuZ2VuZXJhdGVNb250aERhdGEoKTtcclxuXHQgICAgfVxyXG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FsZW5kYXJDb21wb25lbnQucHJvdG90eXBlLCBcInllYXJEYXRhXCIsIHtcclxuXHQgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy55ZWFyczsgfSxcclxuXHQgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcblx0ICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuXHQgICAgfSk7XHJcblx0ICAgIDtcclxuXHQgICAgQ2FsZW5kYXJDb21wb25lbnQucHJvdG90eXBlLm5nT25Jbml0ID0gZnVuY3Rpb24gKCkgeyB9O1xyXG5cdCAgICBDYWxlbmRhckNvbXBvbmVudC5wcm90b3R5cGUubmdPbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7IH07XHJcblx0ICAgIENhbGVuZGFyQ29tcG9uZW50LnByb3RvdHlwZS5zdWJzY3JpYmVUb0NoYW5nZU1vbnRoID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcblx0ICAgICAgICB0aGlzLm1vbnRoTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG5cdCAgICB9O1xyXG5cdCAgICBDYWxlbmRhckNvbXBvbmVudC5wcm90b3R5cGUuc3Vic2NyaWJlVG9DaGFuZ2VZZWFyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcblx0ICAgICAgICB0aGlzLnllYXJMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcblx0ICAgIH07XHJcblx0ICAgIENhbGVuZGFyQ29tcG9uZW50LnByb3RvdHlwZS5jaGFuZ2VNb2RlID0gZnVuY3Rpb24gKG1vZGUpIHtcclxuXHQgICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XHJcblx0ICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcclxuXHQgICAgICAgICAgICBjYXNlIGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuWWVhcjpcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVllYXJEYXRhKHRoaXMuZGF0ZS55ZWFyKCkpO1xyXG5cdCAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgQ2FsZW5kYXJDb21wb25lbnQucHJvdG90eXBlLmdlbmVyYXRlTW9udGhEYXRhID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgdmFyIGRhdGUgPSBtb21lbnQobmV3IERhdGUoKSk7IC8vZG9lc24ndCBjaGFuZ2VcclxuXHQgICAgICAgIGRhdGUubW9udGgoMCk7XHJcblx0ICAgICAgICB2YXIgZCA9IG1vbWVudChuZXcgRGF0ZSgpKTtcclxuXHQgICAgICAgIGQubW9udGgoMCk7XHJcblx0ICAgICAgICB3aGlsZSAoZGF0ZS55ZWFyKCkgPT09IGQueWVhcigpKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5tb250aHMucHVzaChkLmZvcm1hdChcIk1NTVwiKSk7XHJcblx0ICAgICAgICAgICAgZC5tb250aChkLm1vbnRoKCkgKyAxKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgQ2FsZW5kYXJDb21wb25lbnQucHJvdG90eXBlLmdlbmVyYXRlWWVhckRhdGEgPSBmdW5jdGlvbiAoeWVhcikge1xyXG5cdCAgICAgICAgdGhpcy55ZWFycyA9IFtdO1xyXG5cdCAgICAgICAgdmFyIHkgPSB5ZWFyIC0gQ2FsZW5kYXJDb21wb25lbnQuaGFsZk51bVllYXJzU2hvd247XHJcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IENhbGVuZGFyQ29tcG9uZW50Lm51bVllYXJzU2hvd247IGkrKykge1xyXG5cdCAgICAgICAgICAgIHRoaXMueWVhcnMucHVzaCh5ICsgaSk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIENhbGVuZGFyQ29tcG9uZW50LnByb3RvdHlwZS5nb1ByZXYgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xyXG5cdCAgICAgICAgICAgIGNhc2UgY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhcjpcclxuXHQgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICAgICAgY2FzZSBjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLk1vbnRoOlxyXG5cdCAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICBjYXNlIGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuWWVhcjpcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVllYXJEYXRhKHRoaXMueWVhcnNbQ2FsZW5kYXJDb21wb25lbnQuaGFsZk51bVllYXJzU2hvd25dIC0gQ2FsZW5kYXJDb21wb25lbnQubnVtWWVhcnNTaG93bik7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIENhbGVuZGFyQ29tcG9uZW50LnByb3RvdHlwZS5nb05leHQgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xyXG5cdCAgICAgICAgICAgIGNhc2UgY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhcjpcclxuXHQgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICAgICAgY2FzZSBjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLk1vbnRoOlxyXG5cdCAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICBjYXNlIGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuWWVhcjpcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVllYXJEYXRhKHRoaXMueWVhcnNbQ2FsZW5kYXJDb21wb25lbnQuaGFsZk51bVllYXJzU2hvd25dICsgQ2FsZW5kYXJDb21wb25lbnQubnVtWWVhcnNTaG93bik7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIENhbGVuZGFyQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXJDYWxlbmRhciA9IGZ1bmN0aW9uIChjbGlja0NhbGxiYWNrLCBkYXRlVG8sIGRhdGVGcm9tLCBtaW5EYXRlLCBtYXhEYXRlKSB7XHJcblx0ICAgICAgICB0aGlzLmdyaWQucmVuZGVyQ2FsZW5kYXIodGhpcy5kYXRlLCBjbGlja0NhbGxiYWNrLCBkYXRlVG8sIGRhdGVGcm9tLCBtaW5EYXRlLCBtYXhEYXRlKTtcclxuXHQgICAgfTtcclxuXHQgICAgQ2FsZW5kYXJDb21wb25lbnQucHJvdG90eXBlLnNldE1vbnRoID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcblx0ICAgICAgICB0aGlzLmRhdGUubW9udGgoaW5kZXgpO1xyXG5cdCAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMubW9udGhMaXN0ZW5lcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcblx0ICAgICAgICAgICAgdmFyIGZuID0gX2FbX2ldO1xyXG5cdCAgICAgICAgICAgIGZuKCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIENhbGVuZGFyQ29tcG9uZW50LnByb3RvdHlwZS5zZXRZZWFyID0gZnVuY3Rpb24gKHllYXIpIHtcclxuXHQgICAgICAgIHRoaXMuZGF0ZS55ZWFyKHllYXIpO1xyXG5cdCAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMueWVhckxpc3RlbmVyczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuXHQgICAgICAgICAgICB2YXIgZm4gPSBfYVtfaV07XHJcblx0ICAgICAgICAgICAgZm4oKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgLyoqIERldGVybWluZXMgaG93IG1hbnkgeWVhciBidXR0b25zIGFyZSBzaG93bi4gKi9cclxuXHQgICAgQ2FsZW5kYXJDb21wb25lbnQubnVtWWVhcnNTaG93biA9IDE1O1xyXG5cdCAgICAvKiogY29udmVuaWVuY2UgdmFyaWFibGUgZm9yIGdlbmVyYXRpbmcgeWVhcnMgKi9cclxuXHQgICAgQ2FsZW5kYXJDb21wb25lbnQuaGFsZk51bVllYXJzU2hvd24gPSBNYXRoLmZsb29yKENhbGVuZGFyQ29tcG9uZW50Lm51bVllYXJzU2hvd24gLyAyKTtcclxuXHQgICAgX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuVmlld0NoaWxkKGNhbGVuZGFyX2dyaWRfY29tcG9uZW50XzEuQ2FsZW5kYXJHcmlkQ29tcG9uZW50KSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsICh0eXBlb2YgKF9hID0gdHlwZW9mIGNhbGVuZGFyX2dyaWRfY29tcG9uZW50XzEuQ2FsZW5kYXJHcmlkQ29tcG9uZW50ICE9PSAndW5kZWZpbmVkJyAmJiBjYWxlbmRhcl9ncmlkX2NvbXBvbmVudF8xLkNhbGVuZGFyR3JpZENvbXBvbmVudCkgPT09ICdmdW5jdGlvbicgJiYgX2EpIHx8IE9iamVjdClcclxuXHQgICAgXSwgQ2FsZW5kYXJDb21wb25lbnQucHJvdG90eXBlLCBcImdyaWRcIiwgdm9pZCAwKTtcclxuXHQgICAgQ2FsZW5kYXJDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcclxuXHQgICAgICAgIGNvcmVfMS5Db21wb25lbnQoe1xyXG5cdCAgICAgICAgICAgIHNlbGVjdG9yOiAnY3QtY2FsZW5kYXInLFxyXG5cdCAgICAgICAgICAgIHRlbXBsYXRlOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSxcclxuXHQgICAgICAgICAgICBzdHlsZXM6IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKV0sXHJcblx0ICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogY29yZV8xLlZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcclxuXHQgICAgICAgIH0pLCBcclxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgW10pXHJcblx0ICAgIF0sIENhbGVuZGFyQ29tcG9uZW50KTtcclxuXHQgICAgcmV0dXJuIENhbGVuZGFyQ29tcG9uZW50O1xyXG5cdCAgICB2YXIgX2E7XHJcblx0fSgpKTtcclxuXHRleHBvcnRzLkNhbGVuZGFyQ29tcG9uZW50ID0gQ2FsZW5kYXJDb21wb25lbnQ7XHJcblxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0KGZ1bmN0aW9uIChDYWxlbmRhck1vZGUpIHtcclxuXHQgICAgQ2FsZW5kYXJNb2RlW0NhbGVuZGFyTW9kZVtcIkNhbGVuZGFyXCJdID0gMF0gPSBcIkNhbGVuZGFyXCI7XHJcblx0ICAgIENhbGVuZGFyTW9kZVtDYWxlbmRhck1vZGVbXCJNb250aFwiXSA9IDFdID0gXCJNb250aFwiO1xyXG5cdCAgICBDYWxlbmRhck1vZGVbQ2FsZW5kYXJNb2RlW1wiWWVhclwiXSA9IDJdID0gXCJZZWFyXCI7XHJcblx0fSkoZXhwb3J0cy5DYWxlbmRhck1vZGUgfHwgKGV4cG9ydHMuQ2FsZW5kYXJNb2RlID0ge30pKTtcclxuXHR2YXIgQ2FsZW5kYXJNb2RlID0gZXhwb3J0cy5DYWxlbmRhck1vZGU7XHJcblxuXG4vKioqLyB9LFxuLyogOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0dmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG5cdCAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG5cdH07XHJcblx0dmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XHJcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcclxuXHR9O1xyXG5cdHZhciBjb3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5cdHZhciBtb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG5cdHZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XHJcblx0dmFyIENhbGVuZGFyR3JpZENvbXBvbmVudCA9IChmdW5jdGlvbiAoKSB7XHJcblx0ICAgIGZ1bmN0aW9uIENhbGVuZGFyR3JpZENvbXBvbmVudChteUVsZW1lbnQsIHJlbmRlcmVyKSB7XHJcblx0ICAgICAgICB0aGlzLm15RWxlbWVudCA9IG15RWxlbWVudDtcclxuXHQgICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcclxuXHQgICAgfVxyXG5cdCAgICBDYWxlbmRhckdyaWRDb21wb25lbnQucHJvdG90eXBlLm5nT25Jbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICB9O1xyXG5cdCAgICBDYWxlbmRhckdyaWRDb21wb25lbnQucHJvdG90eXBlLm5nT25EZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogUmVuZGVycyBhIGNhbGVuZGFyIGJhc2VkIG9uIHRoZSBkYXRlLCBzZWxlY3RpbmcgdGhlIHByb3BlciBmcm9tL3RvIGlmIHZpc2libGUuXHJcblx0ICAgICAqL1xyXG5cdCAgICBDYWxlbmRhckdyaWRDb21wb25lbnQucHJvdG90eXBlLnJlbmRlckNhbGVuZGFyID0gZnVuY3Rpb24gKGRhdGUsIGNsaWNrQ2FsbGJhY2ssIGRhdGVUbywgZGF0ZUZyb20sIG1pbkRhdGUsIG1heERhdGUpIHtcclxuXHQgICAgICAgIHZhciBkID0gbW9tZW50KGRhdGUpO1xyXG5cdCAgICAgICAgZC5kYXRlKDEpOyAvL3Jlc2V0IGRhdGUuXHJcblx0ICAgICAgICB2YXIgaGVhZGVyID0gJChcIjxkaXYgY2xhc3M9J2N0LWRwLWNhbC1oZWFkZXInPjwvZGl2PlwiKTtcclxuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcblx0ICAgICAgICAgICAgZC5kYXkoaSk7XHJcblx0ICAgICAgICAgICAgdmFyIGVsID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG5cdCAgICAgICAgICAgIGVsLnRleHQoZC5mb3JtYXQoXCJkZFwiKSk7XHJcblx0ICAgICAgICAgICAgZWwuYXR0cihcImN0LWNhbC1kcC1kYXlcIiwgaS50b1N0cmluZygpKTtcclxuXHQgICAgICAgICAgICBlbC5hZGRDbGFzcyhcImN0LWRwLWNhbC1kYXlcIik7XHJcblx0ICAgICAgICAgICAgaGVhZGVyLmFwcGVuZChlbCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBkLmRhdGUoMSk7IC8vcmVzZXQgZGF0ZS5cclxuXHQgICAgICAgIHZhciBib2R5ID0gJChcIjxkaXYgY2xhc3M9J2N0LWRwLWNhbC1ib2R5Jz48L2Rpdj5cIik7XHJcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGQuZGF5KCk7IGkrKykge1xyXG5cdCAgICAgICAgICAgIHZhciBlbCA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuXHQgICAgICAgICAgICBlbC5hdHRyKFwiY3QtZHAtY2FsLWRheVwiLCBpLnRvU3RyaW5nKCkpO1xyXG5cdCAgICAgICAgICAgIGVsLmFkZENsYXNzKFwiY3QtZHAtY2FsLWRheVwiKTtcclxuXHQgICAgICAgICAgICBib2R5LmFwcGVuZChlbCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICB3aGlsZSAoZC5tb250aCgpID09PSBkYXRlLm1vbnRoKCkpIHtcclxuXHQgICAgICAgICAgICB2YXIgZWwgPSAkKFwiPGJ1dHRvbj48L2J1dHRvbj5cIik7XHJcblx0ICAgICAgICAgICAgZWwudGV4dCgoZC5kYXRlKCkpLnRvU3RyaW5nKCkpO1xyXG5cdCAgICAgICAgICAgIGVsLmF0dHIoXCJjdC1kcC1jYWwtZGF5XCIsIGQuZGF0ZSgpLnRvU3RyaW5nKCkpO1xyXG5cdCAgICAgICAgICAgIGVsLmF0dHIoXCJ0YWJJbmRleFwiLCBcIi0xXCIpO1xyXG5cdCAgICAgICAgICAgIGVsLmFkZENsYXNzKFwiY3QtZHAtY2FsLWRheVwiKTtcclxuXHQgICAgICAgICAgICBpZiAoKGRhdGVUbyAmJiBkLmlzU2FtZShkYXRlVG8sIFwiZGF5XCIpKSB8fCAoZGF0ZUZyb20gJiYgZC5pc1NhbWUoZGF0ZUZyb20sIFwiZGF5XCIpKSkge1xyXG5cdCAgICAgICAgICAgICAgICBlbC5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgaWYgKGRhdGVGcm9tICYmIGRhdGVUbyAmJiBkLmlzQmV0d2VlbihkYXRlRnJvbSwgZGF0ZVRvKSkge1xyXG5cdCAgICAgICAgICAgICAgICBlbC5hZGRDbGFzcyhcImJldHdlZW5cIik7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIGlmIChtYXhEYXRlICYmIG1pbkRhdGUgJiYgZC5pc0JlZm9yZShtaW5EYXRlKSB8fCBkLmlzQWZ0ZXIobWF4RGF0ZSkpIHtcclxuXHQgICAgICAgICAgICAgICAgZWwuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIGVsLmNsaWNrKGNsaWNrQ2FsbGJhY2soZCkpO1xyXG5cdCAgICAgICAgICAgIGQuZGF0ZShkLmRhdGUoKSArIDEpO1xyXG5cdCAgICAgICAgICAgIGJvZHkuYXBwZW5kKGVsKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgICQodGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCkuZW1wdHkoKTtcclxuXHQgICAgICAgIGhlYWRlci5hcHBlbmRUbyh0aGlzLm15RWxlbWVudC5uYXRpdmVFbGVtZW50KTtcclxuXHQgICAgICAgIGJvZHkuYXBwZW5kVG8odGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCk7XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBEZXByZWNhdGVkIHVudGlsIHN1cHBvcnQgb2YgcmVuZGVyZXIgaXMgbW9yZSBzdGFibGUuXHJcblx0ICAgICAqL1xyXG5cdCAgICBDYWxlbmRhckdyaWRDb21wb25lbnQucHJvdG90eXBlLnJlbmRlckNhbGVuZGFyUmVuZGVyZXIgPSBmdW5jdGlvbiAoY2FsLCBjbGlja0NhbGxiYWNrLCBkYXRlVG8sIGRhdGVGcm9tKSB7XHJcblx0ICAgICAgICB2YXIgZCA9IG1vbWVudChjYWwuZGF0ZSk7XHJcblx0ICAgICAgICBkLmRhdGUoMSk7IC8vcmVzZXQgZGF0ZS5cclxuXHQgICAgICAgIHRoaXMucmVuZGVyZXIuc2VsZWN0Um9vdEVsZW1lbnQodGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCk7XHJcblx0ICAgICAgICB2YXIgaGVhZGVyRWxlbWVudCA9IHRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCh0aGlzLm15RWxlbWVudC5uYXRpdmVFbGVtZW50LCBcImRpdlwiKTtcclxuXHQgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKGhlYWRlckVsZW1lbnQsIFwiLmN0LWRwLWNhbC1oZWFkZXJcIiwgdHJ1ZSk7XHJcblx0ICAgICAgICB2YXIgY2FsRWxlbWVudCA9IHRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCh0aGlzLm15RWxlbWVudC5uYXRpdmVFbGVtZW50LCBcImRpdlwiKTtcclxuXHQgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKGhlYWRlckVsZW1lbnQsIFwiLmN0LWRwLWNhbC1ib2R5XCIsIHRydWUpO1xyXG5cdCAgICAgICAgLy9BZGQgbmFtZSBmb3IgZGF5IG9mIHdlZWtcclxuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcblx0ICAgICAgICAgICAgZC5kYXkoaSk7XHJcblx0ICAgICAgICAgICAgdmFyIGVsID0gdGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KGhlYWRlckVsZW1lbnQsIFwiZGl2XCIpO1xyXG5cdCAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0VGV4dChlbCwgZC5mb3JtYXQoXCJkZFwiKSk7XHJcblx0ICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50QXR0cmlidXRlKGVsLCBcImN0LWNhbC1kcC1kYXlcIiwgaS50b1N0cmluZygpKTtcclxuXHQgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRDbGFzcyhlbCwgXCJjdC1kcC1jYWwtZGF5XCIsIHRydWUpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZC5kYXRlKDEpOyAvL3Jlc2V0IGRhdGUuXHJcblx0ICAgICAgICAvL0FkZCBibGFuayBmaWxsZXIgZGF5cy5cclxuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZC5kYXkoKTsgaSsrKSB7XHJcblx0ICAgICAgICAgICAgdmFyIGVsID0gdGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KGNhbEVsZW1lbnQsIFwiZGl2XCIpO1xyXG5cdCAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgXCJjdC1kcC1jYWwtZGF5XCIsIGkudG9TdHJpbmcoKSk7XHJcblx0ICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50Q2xhc3MoZWwsIFwiY3QtZHAtY2FsLWRheVwiLCB0cnVlKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIC8vQWRkIGNhbGVuZGFyXHJcblx0ICAgICAgICB3aGlsZSAoZC5tb250aCgpID09PSBjYWwuZGF0ZS5tb250aCgpKSB7XHJcblx0ICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IHRoaXM7XHJcblx0ICAgICAgICAgICAgdmFyIGVsID0gdGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KGNhbEVsZW1lbnQsIFwiYnV0dG9uXCIpO1xyXG5cdCAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0VGV4dChlbCwgKGQuZGF0ZSgpKS50b1N0cmluZygpKTtcclxuXHQgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRBdHRyaWJ1dGUoZWwsIFwiY3QtZHAtY2FsLWRheVwiLCBkLmRhdGUoKS50b1N0cmluZygpKTtcclxuXHQgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRBdHRyaWJ1dGUoZWwsIFwidGFiaW5kZXhcIiwgXCItMVwiKTtcclxuXHQgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRDbGFzcyhlbCwgXCJjdC1kcC1jYWwtZGF5XCIsIHRydWUpO1xyXG5cdCAgICAgICAgICAgIGlmICgoZGF0ZVRvICYmIGQuaXNTYW1lKGRhdGVUbywgXCJkYXlcIikpIHx8IChkYXRlRnJvbSAmJiBkLmlzU2FtZShkYXRlRnJvbSwgXCJkYXlcIikpKSB7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKGVsLCBcImFjdGl2ZVwiLCB0cnVlKTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgaWYgKGRhdGVGcm9tICYmIGRhdGVUbyAmJiBkLmlzQmV0d2VlbihkYXRlRnJvbSwgZGF0ZVRvKSkge1xyXG5cdCAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRDbGFzcyhlbCwgXCJiZXR3ZWVuXCIsIHRydWUpO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmxpc3RlbihlbCwgXCJjbGlja1wiLCBjbGlja0NhbGxiYWNrKGQpKTtcclxuXHQgICAgICAgICAgICBkLmRhdGUoZC5kYXRlKCkgKyAxKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgQ2FsZW5kYXJHcmlkQ29tcG9uZW50ID0gX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuQ29tcG9uZW50KHtcclxuXHQgICAgICAgICAgICBzZWxlY3RvcjogJ2N0LWNhbGVuZGFyLWdyaWQnLFxyXG5cdCAgICAgICAgICAgIHRlbXBsYXRlOiAnJyxcclxuXHQgICAgICAgICAgICBzdHlsZXM6IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDExKV0sXHJcblx0ICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogY29yZV8xLlZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcclxuXHQgICAgICAgIH0pLCBcclxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgWyh0eXBlb2YgKF9hID0gdHlwZW9mIGNvcmVfMS5FbGVtZW50UmVmICE9PSAndW5kZWZpbmVkJyAmJiBjb3JlXzEuRWxlbWVudFJlZikgPT09ICdmdW5jdGlvbicgJiYgX2EpIHx8IE9iamVjdCwgKHR5cGVvZiAoX2IgPSB0eXBlb2YgY29yZV8xLlJlbmRlcmVyICE9PSAndW5kZWZpbmVkJyAmJiBjb3JlXzEuUmVuZGVyZXIpID09PSAnZnVuY3Rpb24nICYmIF9iKSB8fCBPYmplY3RdKVxyXG5cdCAgICBdLCBDYWxlbmRhckdyaWRDb21wb25lbnQpO1xyXG5cdCAgICByZXR1cm4gQ2FsZW5kYXJHcmlkQ29tcG9uZW50O1xyXG5cdCAgICB2YXIgX2EsIF9iO1xyXG5cdH0oKSk7XHJcblx0ZXhwb3J0cy5DYWxlbmRhckdyaWRDb21wb25lbnQgPSBDYWxlbmRhckdyaWRDb21wb25lbnQ7XHJcblxuXG4vKioqLyB9LFxuLyogMTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xMF9fO1xuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCJcIlxuXG4vKioqLyB9LFxuLyogMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJjdC1kcC1jYWxcXFwiIFtuZ0NsYXNzXT1cXFwieydoaWRkZW4nOiBtb2RlICE9IENhbGVuZGFyTW9kZS5DYWxlbmRhcn1cXFwiPlxcclxcbiAgICA8Y3QtY2FsZW5kYXItZ3JpZD48L2N0LWNhbGVuZGFyLWdyaWQ+XFxyXFxuPC9kaXY+XFxyXFxuPGRpdiBjbGFzcz1cXFwiY3QtZHAtbW9udGhzXFxcIiBbbmdDbGFzc109XFxcInsnaGlkZGVuJzogbW9kZSAhPSBDYWxlbmRhck1vZGUuTW9udGh9XFxcIj5cXHJcXG4gICAgPHRlbXBsYXRlIG5nRm9yIGxldC1pdGVtIFtuZ0Zvck9mXT1cXFwibW9udGhzXFxcIiBbbmdGb3JUcmFja0J5XT1cXFwibXlUcmFja0J5XFxcIiBsZXQtaT1cXFwiaW5kZXhcXFwiPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuIGN0LWRwLW1vbnRoXFxcIiAoY2xpY2spPVxcXCJzZXRNb250aChpKVxcXCI+e3tpdGVtfX08L2J1dHRvbj5cXHJcXG4gICAgPC90ZW1wbGF0ZT5cXHJcXG48L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVxcXCJjdC1kcC15ZWFyc1xcXCIgW25nQ2xhc3NdPVxcXCJ7J2hpZGRlbic6IG1vZGUgIT0gQ2FsZW5kYXJNb2RlLlllYXJ9XFxcIj5cXHJcXG4gICAgPHRlbXBsYXRlIG5nRm9yIGxldC1pdGVtIFtuZ0Zvck9mXT1cXFwieWVhcnNcXFwiIFtuZ0ZvclRyYWNrQnldPVxcXCJteVRyYWNrQnlcXFwiIGxldC1pPVxcXCJpbmRleFxcXCI+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4gY3QtZHAteWVhclxcXCIgKGNsaWNrKT1cXFwic2V0WWVhcihpdGVtKVxcXCI+e3tpdGVtfX08L2J1dHRvbj5cXHJcXG4gICAgPC90ZW1wbGF0ZT5cXHJcXG48L2Rpdj5cIjtcblxuLyoqKi8gfSxcbi8qIDEzICovXG4xMSxcbi8qIDE0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcblx0ICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcblx0fTtcclxuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcclxuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xyXG5cdH07XHJcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcblx0dmFyIG1vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XHJcblx0dmFyIGNhbGVuZGFyX21vZGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XHJcblx0dmFyIERhdGVQaWNrZXJCYXNlID0gKGZ1bmN0aW9uICgpIHtcclxuXHQgICAgZnVuY3Rpb24gRGF0ZVBpY2tlckJhc2UoKSB7XHJcblx0ICAgICAgICAvKiogRW51bSBBY2Nlc3NvcnMgZm9yIEhUTUwgKi9cclxuXHQgICAgICAgIHRoaXMuQ2FsZW5kYXJNb2RlID0gY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZTtcclxuXHQgICAgICAgIC8qKiBWYWxpZGF0aW9uIEZ1bmN0aW9ucyAqL1xyXG5cdCAgICAgICAgdGhpcy5wcm9wYWdhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7IH07XHJcblx0ICAgICAgICB0aGlzLnByb3BhZ2F0ZVRvdWNoZWQgPSBmdW5jdGlvbiAoKSB7IH07XHJcblx0ICAgICAgICB0aGlzLnZhbGlkYXRlRm4gPSBmdW5jdGlvbiAoKSB7IH07XHJcblx0ICAgICAgICB0aGlzLnNoYWRvd1pJbmRleCA9IDEwMDtcclxuXHQgICAgICAgIHRoaXMuekluZGV4VmFsID0gMTAxO1xyXG5cdCAgICAgICAgdGhpcy5taW5EYXRlVmFsID0gbnVsbDtcclxuXHQgICAgICAgIHRoaXMubWF4RGF0ZVZhbCA9IG51bGw7XHJcblx0ICAgIH1cclxuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXJCYXNlLnByb3RvdHlwZSwgXCJ6SW5kZXhcIiwge1xyXG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5zaGFkb3daSW5kZXggPSB2YWw7XHJcblx0ICAgICAgICAgICAgdGhpcy56SW5kZXhWYWwgPSB2YWwgKyAxLjA7XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG5cdCAgICB9KTtcclxuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXJCYXNlLnByb3RvdHlwZSwgXCJtaW5EYXRlXCIsIHtcclxuXHQgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG5cdCAgICAgICAgICAgIHZhciBkID0gbW9tZW50KHZhbCk7XHJcblx0ICAgICAgICAgICAgaWYgKGQuaXNWYWxpZCgpKSB7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMubWluRGF0ZVZhbCA9IG1vbWVudCh2YWwpO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICBlbHNlIHtcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5taW5EYXRlVmFsID0gbnVsbDtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG5cdCAgICB9KTtcclxuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXJCYXNlLnByb3RvdHlwZSwgXCJtYXhEYXRlXCIsIHtcclxuXHQgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG5cdCAgICAgICAgICAgIHZhciBkID0gbW9tZW50KHZhbCk7XHJcblx0ICAgICAgICAgICAgaWYgKGQuaXNWYWxpZCgpKSB7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMubWF4RGF0ZVZhbCA9IG1vbWVudCh2YWwpO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICBlbHNlIHtcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5tYXhEYXRlVmFsID0gbnVsbDtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG5cdCAgICB9KTtcclxuXHQgICAgRGF0ZVBpY2tlckJhc2UucHJvdG90eXBlLnJlZ2lzdGVyT25DaGFuZ2UgPSBmdW5jdGlvbiAoZm4pIHtcclxuXHQgICAgICAgIHRoaXMucHJvcGFnYXRlQ2hhbmdlID0gZm47XHJcblx0ICAgIH07XHJcblx0ICAgIERhdGVQaWNrZXJCYXNlLnByb3RvdHlwZS5yZWdpc3Rlck9uVG91Y2hlZCA9IGZ1bmN0aW9uIChmbikge1xyXG5cdCAgICAgICAgdGhpcy5wcm9wYWdhdGVUb3VjaGVkID0gZm47XHJcblx0ICAgIH07XHJcblx0ICAgIF9fZGVjb3JhdGUoW1xyXG5cdCAgICAgICAgY29yZV8xLklucHV0KCd6SW5kZXgnKSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsIE51bWJlciksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbTnVtYmVyXSlcclxuXHQgICAgXSwgRGF0ZVBpY2tlckJhc2UucHJvdG90eXBlLCBcInpJbmRleFwiLCBudWxsKTtcclxuXHQgICAgX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuSW5wdXQoJ21pbkRhdGUnKSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsIE9iamVjdCksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbT2JqZWN0XSlcclxuXHQgICAgXSwgRGF0ZVBpY2tlckJhc2UucHJvdG90eXBlLCBcIm1pbkRhdGVcIiwgbnVsbCk7XHJcblx0ICAgIF9fZGVjb3JhdGUoW1xyXG5cdCAgICAgICAgY29yZV8xLklucHV0KCdtYXhEYXRlJyksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCBPYmplY3QpLCBcclxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgW09iamVjdF0pXHJcblx0ICAgIF0sIERhdGVQaWNrZXJCYXNlLnByb3RvdHlwZSwgXCJtYXhEYXRlXCIsIG51bGwpO1xyXG5cdCAgICByZXR1cm4gRGF0ZVBpY2tlckJhc2U7XHJcblx0fSgpKTtcclxuXHRleHBvcnRzLkRhdGVQaWNrZXJCYXNlID0gRGF0ZVBpY2tlckJhc2U7XHJcblxuXG4vKioqLyB9LFxuLyogMTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8bmctY29udGVudD48L25nLWNvbnRlbnQ+XFxyXFxuPGRpdiBjbGFzcz1cXFwiY3QtZHAtc2hhZG93LWJveFxcXCIgKGNsaWNrKT1cXFwiY2hhbmdlR2xvYmFsTW9kZShEYXRlUGlja2VyTW9kZS5IaWRkZW4pXFxcIiAqbmdJZj1cXFwibW9kZSAhPSBEYXRlUGlja2VyTW9kZS5IaWRkZW5cXFwiIFtzdHlsZS56LWluZGV4XT1cXFwic2hhZG93WkluZGV4XFxcIj5cXHJcXG48L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVxcXCJjdC1kcC1waWNrZXJcXFwiIFtjbGFzcy5oaWRkZW5dPVxcXCJtb2RlID09IERhdGVQaWNrZXJNb2RlLkhpZGRlblxcXCIgW3N0eWxlLnotaW5kZXhdPVxcXCJ6SW5kZXhWYWxcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjdC1kcC1jYXJldC0xXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY3QtZHAtY2FyZXQtMlxcXCI+PC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImN0LWRwLWhlYWRlclxcXCI+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4tcHJldiAgY3QtZHAtYnRuXFxcIiAoY2xpY2spPVxcXCJnb1ByZXYoKVxcXCIgW2Rpc2FibGVkXT1cXFwiY2FsLm1vZGUgPT0gQ2FsZW5kYXJNb2RlLk1vbnRoXFxcIj4mbHQ7PC9idXR0b24+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4tbW9udGggY3QtZHAtYnRuXFxcIiAoY2xpY2spPVxcXCJjaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5Nb250aClcXFwiPnt7Y2FsLmRhdGUuZm9ybWF0KFxcXCJNTU1NXFxcIil9fTwvYnV0dG9uPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLXllYXIgIGN0LWRwLWJ0blxcXCIgKGNsaWNrKT1cXFwiY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuWWVhcilcXFwiPnt7Y2FsLmRhdGUuZm9ybWF0KFxcXCJZWVlZXFxcIil9fTwvYnV0dG9uPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLW5leHQgIGN0LWRwLWJ0blxcXCIgKGNsaWNrKT1cXFwiZ29OZXh0KClcXFwiIFtkaXNhYmxlZF09XFxcImNhbC5tb2RlID09IENhbGVuZGFyTW9kZS5Nb250aFxcXCI+Jmd0OzwvYnV0dG9uPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGN0LWNhbGVuZGFyPjwvY3QtY2FsZW5kYXI+XFxyXFxuPC9kaXY+XCI7XG5cbi8qKiovIH0sXG4vKiAxNiAqL1xuMTEsXG4vKiAxNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIi5jdC1kcC1hY3RpdmUgaW5wdXR7cG9zaXRpb246cmVsYXRpdmV9LmN0LWRwLXNoYWRvdy1ib3h7cG9zaXRpb246Zml4ZWQ7dG9wOjA7cmlnaHQ6MDtib3R0b206MDtsZWZ0OjA7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0uY3QtZHAtcGlja2Vye3dpZHRoOjIyMHB4O2JvcmRlcjoxcHggc29saWQgIzgwODA4MDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtY29sb3I6d2hpdGU7bWFyZ2luLXRvcDoxNHB4O3RyYW5zaXRpb246LjVzfS5jdC1kcC1waWNrZXIuY3QtZHAtZHVhbHBpY2tlcnt3aWR0aDo0NDBweH0uY3QtZHAtcGlja2VyLmN0LWRwLXBpY2tlci10b3ttYXJnaW4tbGVmdDoxNXB4fS5jdC1kcC1jYXJldC0yLC5jdC1kcC1jYXJldC0xe2JvdHRvbToxMDAlO2xlZnQ6MTAlO2JvcmRlcjpzb2xpZCB0cmFuc3BhcmVudDtoZWlnaHQ6MDt3aWR0aDowO3Bvc2l0aW9uOmFic29sdXRlO3BvaW50ZXItZXZlbnRzOm5vbmU7dHJhbnNpdGlvbjouNXN9LmN0LWRwLWNhcmV0LTJ7Ym9yZGVyLWNvbG9yOnJnYmEoMTM2LDE4MywyMTMsMCk7Ym9yZGVyLWJvdHRvbS1jb2xvcjp3aGl0ZTtib3JkZXItd2lkdGg6MTRweDttYXJnaW4tbGVmdDotMTRweH0uY3QtZHAtY2FyZXQtMXtib3JkZXItY29sb3I6cmdiYSgxOTQsMjI1LDI0NSwwKTtib3JkZXItYm90dG9tLWNvbG9yOiM4MDgwODA7Ym9yZGVyLXdpZHRoOjE2cHg7bWFyZ2luLWxlZnQ6LTE2cHh9LmN0LWRwLWhlYWRlcntib3JkZXItYm90dG9tOjFweCBzb2xpZCAjODA4MDgwfS5jdC1kcC1jYWx7cGFkZGluZzo1cHg7d2lkdGg6MjIwcHg7ZmxvYXQ6bGVmdH0uY3QtZHAtY2FsLWluYWN0aXZle3Zpc2liaWxpdHk6aGlkZGVufS5jdC1kcC1jYWwtaGVhZGVye2NvbG9yOiM4MDgwODB9LmN0LWRwLWNhbC1kYXl7d2lkdGg6MzBweDtoZWlnaHQ6MzBweDtmbG9hdDpsZWZ0O3RleHQtYWxpZ246Y2VudGVyfS5jdC1kcC1jYWwtZGF5OmRpc2FibGVke2NvbG9yOiNiZmJmYmZ9LmN0LWRwLWNhbC1kYXkuYWN0aXZle2JhY2tncm91bmQtY29sb3I6bGlnaHRibHVlfS5jdC1kcC1jYWwtZGF5LmJldHdlZW57YmFja2dyb3VuZC1jb2xvcjpsaWdodGdyYXl9LmN0LWRwLW1vbnRocywuY3QtZHAteWVhcnN7d2lkdGg6MjIwcHg7ZmxvYXQ6bGVmdDtwYWRkaW5nOjVweH0uY3QtZHAtbW9udGgsLmN0LWRwLXllYXJ7d2lkdGg6MzMuMzMlO2Zsb2F0OmxlZnQ7dGV4dC1hbGlnbjpjZW50ZXJ9LmN0LWRwLWJ0bntwYWRkaW5nOjRweDtiYWNrZ3JvdW5kLWNvbG9yOndoaXRlO2JvcmRlcjpub25lfS5jdC1kcC1idG46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojOTk5fS5jdC1kcC1idG5bZGlzYWJsZWRdOmhvdmVye2JhY2tncm91bmQtY29sb3I6d2hpdGV9LmN0LWRwLWJ0bltkaXNhYmxlZF17Y29sb3I6d2hpdGV9LmN0LWRwLXBpY2tlciAuY3QtZHAtYnRuLXByZXYsLmN0LWRwLXBpY2tlciAuY3QtZHAtYnRuLW5leHR7d2lkdGg6MTAlfS5jdC1kcC1waWNrZXIgLmN0LWRwLWJ0bi1tb250aHt3aWR0aDo1MCU7Zm9udC13ZWlnaHQ6NTAwfS5jdC1kcC1waWNrZXIgLmN0LWRwLWJ0bi15ZWFye3dpZHRoOjMwJTtmb250LXdlaWdodDo1MDB9LmN0LWRwLXBpY2tlci5jdC1kcC1kdWFscGlja2VyIC5jdC1kcC1idG4tcHJldiwuY3QtZHAtcGlja2VyLmN0LWRwLWR1YWxwaWNrZXIgLmN0LWRwLWJ0bi1uZXh0e3dpZHRoOjUlfS5jdC1kcC1waWNrZXIuY3QtZHAtZHVhbHBpY2tlciAuY3QtZHAtYnRuLW1vbnRoe3dpZHRoOjI1JX0uY3QtZHAtcGlja2VyLmN0LWRwLWR1YWxwaWNrZXIgLmN0LWRwLWJ0bi15ZWFye3dpZHRoOjE1JX0uY2xlYXJmaXgsLmN0LWRwLWNhbDphZnRlciwuY3QtZHAtbW9udGhzOmFmdGVyLC5jdC1kcC15ZWFyczphZnRlcnt2aXNpYmlsaXR5OmhpZGRlbjtkaXNwbGF5OmJsb2NrO2ZvbnQtc2l6ZTowO2NvbnRlbnQ6XFxcIiBcXFwiO2NsZWFyOmJvdGg7aGVpZ2h0OjB9Lm5vLWJ1dHRvbiwuY3QtZHAtY2FsLWRheXtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjpub25lICFpbXBvcnRhbnR9LnB1bGwtcmlnaHR7ZmxvYXQ6cmlnaHR9LmhpZGRlbntkaXNwbGF5Om5vbmUgIWltcG9ydGFudH1cIlxuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdHZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcclxuXHQgICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XHJcblx0ICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG5cdCAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcblx0fTtcclxuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcblx0ICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcblx0fTtcclxuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcclxuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xyXG5cdH07XHJcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcblx0dmFyIG1vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XHJcblx0dmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcclxuXHR2YXIgY2FsZW5kYXJfY29tcG9uZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xyXG5cdHZhciBjYWxlbmRhcl9tb2RlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xyXG5cdHZhciBmb3Jtc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxuXHR2YXIgZGF0ZXBpY2tlcl9iYXNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcclxuXHQvKipcclxuXHQgKiBEZWZpbmVzIHRoZSBtb2RlIG9mIHRoZSBwaWNrZXJcclxuXHQgKi9cclxuXHQoZnVuY3Rpb24gKER1YWxQaWNrZXJNb2RlKSB7XHJcblx0ICAgIC8qKiBBbGxvd3Mgc2VsZWN0aW9uIG9mIHRoZSB0byBkYXRlLiAqL1xyXG5cdCAgICBEdWFsUGlja2VyTW9kZVtEdWFsUGlja2VyTW9kZVtcIlRvXCJdID0gMF0gPSBcIlRvXCI7XHJcblx0ICAgIC8qKiBBbGxvd3Mgc2VsZWN0aW9uIG9mIHRoZSBmcm9tIGRhdGUuICovXHJcblx0ICAgIER1YWxQaWNrZXJNb2RlW0R1YWxQaWNrZXJNb2RlW1wiRnJvbVwiXSA9IDFdID0gXCJGcm9tXCI7XHJcblx0ICAgIC8qKiBNYWtlcyB0aGUgcGlja2VyIGhpZGRlbiwgZGVmYXVsdCBzdGF0ZS4gKi9cclxuXHQgICAgRHVhbFBpY2tlck1vZGVbRHVhbFBpY2tlck1vZGVbXCJIaWRkZW5cIl0gPSAyXSA9IFwiSGlkZGVuXCI7XHJcblx0fSkoZXhwb3J0cy5EdWFsUGlja2VyTW9kZSB8fCAoZXhwb3J0cy5EdWFsUGlja2VyTW9kZSA9IHt9KSk7XHJcblx0dmFyIER1YWxQaWNrZXJNb2RlID0gZXhwb3J0cy5EdWFsUGlja2VyTW9kZTtcclxuXHR2YXIgRHVhbFBpY2tlckNvbXBvbmVudCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcblx0ICAgIF9fZXh0ZW5kcyhEdWFsUGlja2VyQ29tcG9uZW50LCBfc3VwZXIpO1xyXG5cdCAgICBmdW5jdGlvbiBEdWFsUGlja2VyQ29tcG9uZW50KG15RWxlbWVudCkge1xyXG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHQgICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xyXG5cdCAgICAgICAgdGhpcy5teUVsZW1lbnQgPSBteUVsZW1lbnQ7XHJcblx0ICAgICAgICAvL0VudW0gZGVmaW5pdGlvbnMgZm9yIGFjY2VzcyBpbiB2aWV3XHJcblx0ICAgICAgICB0aGlzLkNhbGVuZGFyTW9kZSA9IGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGU7XHJcblx0ICAgICAgICB0aGlzLkR1YWxQaWNrZXJNb2RlID0gRHVhbFBpY2tlck1vZGU7XHJcblx0ICAgICAgICAvKiogRW1pdHRlciBmb3IgY2hhbmdlIChmcm9tKSovXHJcblx0ICAgICAgICB0aGlzLmRhdGVGcm9tQ2hhbmdlID0gbmV3IGNvcmVfMS5FdmVudEVtaXR0ZXIoKTtcclxuXHQgICAgICAgIC8qKiBFbWl0dGVyIGZvciBjaGFuZ2UgKHRvKSAqL1xyXG5cdCAgICAgICAgdGhpcy5kYXRlVG9DaGFuZ2UgPSBuZXcgY29yZV8xLkV2ZW50RW1pdHRlcigpO1xyXG5cdCAgICAgICAgLyoqIE1vZGUgKi9cclxuXHQgICAgICAgIHRoaXMubW9kZSA9IER1YWxQaWNrZXJNb2RlLkhpZGRlbjtcclxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgICogQ2hhbmdlcyB0aGUgZ2xvYmFsIG1vZGUgb2YgdGhlIHBpY2tlciAobm90IHRoZSBtb2RlIG9mIHRoZSBjYWxlbmRhcilcclxuXHQgICAgICAgICAqL1xyXG5cdCAgICAgICAgdGhpcy50aW1lcklkID0gbnVsbDtcclxuXHQgICAgICAgIHRoaXMubW9udGgxQ2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgX3RoaXMuc2hpZnRDYWwyKCk7XHJcblx0ICAgICAgICAgICAgX3RoaXMuY2hhbmdlTW9kZShjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyLCBfdGhpcy5jYWwxKTtcclxuXHQgICAgICAgICAgICBfdGhpcy5jaGFuZ2VNb2RlKGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuQ2FsZW5kYXIsIF90aGlzLmNhbDIpO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIHRoaXMubW9udGgyQ2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgX3RoaXMuc2hpZnRDYWwxKCk7XHJcblx0ICAgICAgICAgICAgX3RoaXMuY2hhbmdlTW9kZShjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyLCBfdGhpcy5jYWwxKTtcclxuXHQgICAgICAgICAgICBfdGhpcy5jaGFuZ2VNb2RlKGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuQ2FsZW5kYXIsIF90aGlzLmNhbDIpO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIHRoaXMueWVhcjFDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgICBfdGhpcy5zaGlmdENhbDIoKTtcclxuXHQgICAgICAgICAgICBfdGhpcy5jaGFuZ2VNb2RlKGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuQ2FsZW5kYXIsIF90aGlzLmNhbDEpO1xyXG5cdCAgICAgICAgICAgIF90aGlzLmNoYW5nZU1vZGUoY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhciwgX3RoaXMuY2FsMik7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgdGhpcy55ZWFyMkNoYW5nZUxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICAgIF90aGlzLnNoaWZ0Q2FsMSgpO1xyXG5cdCAgICAgICAgICAgIF90aGlzLmNoYW5nZU1vZGUoY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhciwgX3RoaXMuY2FsMSk7XHJcblx0ICAgICAgICAgICAgX3RoaXMuY2hhbmdlTW9kZShjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyLCBfdGhpcy5jYWwyKTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICB0aGlzLmRhdGVDbGlja0xpc3RlbmVyID0gZnVuY3Rpb24gKGRhdGUpIHtcclxuXHQgICAgICAgICAgICB2YXIgZCA9IG1vbWVudChkYXRlKTtcclxuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICAgICAgICBfdGhpcy5zZXREYXRlKGQpO1xyXG5cdCAgICAgICAgICAgIH07XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICB9XHJcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRlRnJvbVwiLCB7XHJcblx0ICAgICAgICAvKiogSW5wdXQgZGVmaW5pdGlvbiBmb3IgKGZyb20pICovXHJcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRlRnJvbVZhbHVlO1xyXG5cdCAgICAgICAgfSxcclxuXHQgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG5cdCAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBtb21lbnQgJiYgdmFsLmlzVmFsaWQoKSkge1xyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmlucHV0RnJvbS5uYXRpdmVFbGVtZW50LnZhbHVlID0gdmFsLmZvcm1hdChcIk1NL0REL1lZWVlcIik7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuZGF0ZUZyb21WYWx1ZSA9IHZhbDtcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5kYXRlRnJvbUNoYW5nZS5lbWl0KHZhbCk7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIHRoaXMucHJvcGFnYXRlQ2hhbmdlKHsgZGF0ZUZyb206IHRoaXMuZGF0ZUZyb20sIGRhdGVUbzogdGhpcy5kYXRlVG8gfSk7XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG5cdCAgICB9KTtcclxuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGVUb1wiLCB7XHJcblx0ICAgICAgICAvKiogSW5wdXQgZGVmaW5pdGlvbiBmb3IgKHRvKSAqL1xyXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZVRvVmFsdWU7XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcblx0ICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIG1vbWVudCAmJiB2YWwuaXNWYWxpZCgpKSB7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRUby5uYXRpdmVFbGVtZW50LnZhbHVlID0gdmFsLmZvcm1hdChcIk1NL0REL1lZWVlcIik7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuZGF0ZVRvVmFsdWUgPSB2YWw7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuZGF0ZVRvQ2hhbmdlLmVtaXQodmFsKTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgdGhpcy5wcm9wYWdhdGVDaGFuZ2UoeyBkYXRlRnJvbTogdGhpcy5kYXRlRnJvbSwgZGF0ZVRvOiB0aGlzLmRhdGVUbyB9KTtcclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcblx0ICAgIH0pO1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5jaGFuZ2VHbG9iYWxNb2RlID0gZnVuY3Rpb24gKG1vZGUsIGRlbGF5KSB7XHJcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cdCAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSBmYWxzZTsgfVxyXG5cdCAgICAgICAgaWYgKHRoaXMudGltZXJJZCAhPSBudWxsKSB7XHJcblx0ICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBpZiAoZGVsYXkpIHtcclxuXHQgICAgICAgICAgICB0aGlzLnRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgX3RoaXMuY2hhbmdlR2xvYmFsTW9kZUZuKG1vZGUpOyB9LCA0MDApO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5jaGFuZ2VHbG9iYWxNb2RlRm4obW9kZSk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLmNoYW5nZUdsb2JhbE1vZGVGbiA9IGZ1bmN0aW9uIChtb2RlKSB7XHJcblx0ICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xyXG5cdCAgICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcclxuXHQgICAgICAgICAgICBjYXNlIER1YWxQaWNrZXJNb2RlLlRvOlxyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmNoZWNrRGF0ZSgpO1xyXG5cdCAgICAgICAgICAgICAgICB2YXIgbCA9ICQodGhpcy5pbnB1dFRvLm5hdGl2ZUVsZW1lbnQpLnBvc2l0aW9uKCkubGVmdDtcclxuXHQgICAgICAgICAgICAgICAgJCh0aGlzLm15RWxlbWVudC5uYXRpdmVFbGVtZW50KS5maW5kKFwiLmN0LWRwLWNhcmV0XCIpLmNzcyh7IFwibGVmdFwiOiBsIH0pO1xyXG5cdCAgICAgICAgICAgICAgICAkKHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpLmFkZENsYXNzKFwiY3QtZHAtYWN0aXZlXCIpO1xyXG5cdCAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICBjYXNlIER1YWxQaWNrZXJNb2RlLkZyb206XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tEYXRlKCk7XHJcblx0ICAgICAgICAgICAgICAgIHZhciBsZnJvbSA9ICQodGhpcy5pbnB1dEZyb20ubmF0aXZlRWxlbWVudCkucG9zaXRpb24oKS5sZWZ0O1xyXG5cdCAgICAgICAgICAgICAgICAkKHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpLmZpbmQoXCIuY3QtZHAtY2FyZXRcIikuY3NzKHsgXCJsZWZ0XCI6IGxmcm9tIH0pO1xyXG5cdCAgICAgICAgICAgICAgICAkKHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpLmFkZENsYXNzKFwiY3QtZHAtYWN0aXZlXCIpO1xyXG5cdCAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICBjYXNlIER1YWxQaWNrZXJNb2RlLkhpZGRlbjpcclxuXHQgICAgICAgICAgICAgICAgJCh0aGlzLm15RWxlbWVudC5uYXRpdmVFbGVtZW50KS5yZW1vdmVDbGFzcyhcImN0LWRwLWFjdGl2ZVwiKTtcclxuXHQgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICB0aGlzLmNoYW5nZU1vZGUoY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhciwgdGhpcy5jYWwxKTtcclxuXHQgICAgICAgIHRoaXMuY2hhbmdlTW9kZShjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyLCB0aGlzLmNhbDIpO1xyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5vbkRhdGVGcm9tU3RyaW5nQ2hhbmdlID0gZnVuY3Rpb24gKHZhbCkge1xyXG5cdCAgICAgICAgdmFyIG0gPSBtb21lbnQobmV3IERhdGUodmFsKSk7XHJcblx0ICAgICAgICBpZiAobS5pc1ZhbGlkKCkpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmRhdGVGcm9tVmFsdWUuc2V0KG0udG9PYmplY3QoKSk7XHJcblx0ICAgICAgICAgICAgdGhpcy5jb3JyZWN0RGF0ZVRvKCk7XHJcblx0ICAgICAgICAgICAgdGhpcy5jYWwxLmRhdGUgPSB0aGlzLmRhdGVGcm9tVmFsdWU7XHJcblx0ICAgICAgICAgICAgdGhpcy5zaGlmdENhbDIoKTtcclxuXHQgICAgICAgICAgICB0aGlzLmRhdGVGcm9tQ2hhbmdlLmVtaXQodGhpcy5kYXRlRnJvbVZhbHVlKTtcclxuXHQgICAgICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLm9uRGF0ZVRvU3RyaW5nQ2hhbmdlID0gZnVuY3Rpb24gKHZhbCkge1xyXG5cdCAgICAgICAgdmFyIG0gPSBtb21lbnQobmV3IERhdGUodmFsKSk7XHJcblx0ICAgICAgICBpZiAobS5pc1ZhbGlkKCkpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmRhdGVUb1ZhbHVlLnNldChtLnRvT2JqZWN0KCkpO1xyXG5cdCAgICAgICAgICAgIHRoaXMuY29ycmVjdERhdGVGcm9tKCk7XHJcblx0ICAgICAgICAgICAgdGhpcy5jYWwyLmRhdGUgPSB0aGlzLmRhdGVUb1ZhbHVlO1xyXG5cdCAgICAgICAgICAgIHRoaXMuc2hpZnRDYWwxKCk7XHJcblx0ICAgICAgICAgICAgdGhpcy5kYXRlVG9DaGFuZ2UuZW1pdCh0aGlzLmRhdGVUb1ZhbHVlKTtcclxuXHQgICAgICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLnNoaWZ0Q2FsMSA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHRoaXMuY2FsMS5kYXRlID0gbW9tZW50KHRoaXMuY2FsMi5kYXRlKTtcclxuXHQgICAgICAgIHRoaXMuY2FsMS5kYXRlLnN1YnRyYWN0KHsgXCJtb250aFwiOiAxIH0pO1xyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5zaGlmdENhbDIgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICB0aGlzLmNhbDIuZGF0ZSA9IG1vbWVudCh0aGlzLmNhbDEuZGF0ZSk7XHJcblx0ICAgICAgICB0aGlzLmNhbDIuZGF0ZS5hZGQoeyBcIm1vbnRoXCI6IDEgfSk7XHJcblx0ICAgIH07XHJcblx0ICAgIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLmJsdXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHQgICAgICAgIGlmICgoZXZlbnQud2hpY2ggfHwgZXZlbnQua2V5Q29kZSkgPT0gOSkge1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2hhbmdlR2xvYmFsTW9kZShEdWFsUGlja2VyTW9kZS5IaWRkZW4pO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5jaGFuZ2VNb2RlID0gZnVuY3Rpb24gKG1vZGUsIGNhbCkge1xyXG5cdCAgICAgICAgY2FsLmNoYW5nZU1vZGUobW9kZSk7XHJcblx0ICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcclxuXHQgICAgICAgICAgICBjYXNlIGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuQ2FsZW5kYXI6XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKTtcclxuXHQgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLmdvUHJldiA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIGlmICh0aGlzLmNhbDEubW9kZSA9PSBjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyICYmIHRoaXMuY2FsMi5tb2RlID09IGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuQ2FsZW5kYXIpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmNhbDEuZGF0ZS5tb250aCh0aGlzLmNhbDEuZGF0ZS5tb250aCgpIC0gMSk7XHJcblx0ICAgICAgICAgICAgdGhpcy5zaGlmdENhbDIoKTtcclxuXHQgICAgICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBlbHNlIHtcclxuXHQgICAgICAgICAgICB0aGlzLmNhbDEuZ29QcmV2KCk7XHJcblx0ICAgICAgICAgICAgdGhpcy5jYWwyLmdvUHJldigpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5nb05leHQgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICBpZiAodGhpcy5jYWwxLm1vZGUgPT0gY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhciAmJiB0aGlzLmNhbDIubW9kZSA9PSBjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5jYWwxLmRhdGUubW9udGgodGhpcy5jYWwxLmRhdGUubW9udGgoKSArIDEpO1xyXG5cdCAgICAgICAgICAgIHRoaXMuc2hpZnRDYWwyKCk7XHJcblx0ICAgICAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5jYWwxLmdvTmV4dCgpO1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2FsMi5nb05leHQoKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUudG91Y2hlZCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHRoaXMucHJvcGFnYXRlVG91Y2hlZCh7IGRhdGVGcm9tOiB0aGlzLmRhdGVGcm9tLCBkYXRlVG86IHRoaXMuZGF0ZVRvIH0pO1xyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHRoaXMuY2FsMS5kYXRlID0gbW9tZW50KHRoaXMuZGF0ZUZyb20pO1xyXG5cdCAgICAgICAgdGhpcy5zaGlmdENhbDIoKTtcclxuXHQgICAgICAgIHRoaXMuY2FsMS5zdWJzY3JpYmVUb0NoYW5nZU1vbnRoKHRoaXMubW9udGgxQ2hhbmdlTGlzdGVuZXIpO1xyXG5cdCAgICAgICAgdGhpcy5jYWwyLnN1YnNjcmliZVRvQ2hhbmdlTW9udGgodGhpcy5tb250aDJDaGFuZ2VMaXN0ZW5lcik7XHJcblx0ICAgICAgICB0aGlzLmNhbDEuc3Vic2NyaWJlVG9DaGFuZ2VZZWFyKHRoaXMueWVhcjFDaGFuZ2VMaXN0ZW5lcik7XHJcblx0ICAgICAgICB0aGlzLmNhbDIuc3Vic2NyaWJlVG9DaGFuZ2VZZWFyKHRoaXMueWVhcjJDaGFuZ2VMaXN0ZW5lcik7XHJcblx0ICAgIH07XHJcblx0ICAgIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblx0ICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcblx0ICAgICAgICB0aGlzLmlucHV0VG8ubmF0aXZlRWxlbWVudC5zdHlsZVsnei1pbmRleCddID0gdGhpcy56SW5kZXhWYWw7XHJcblx0ICAgICAgICB0aGlzLmlucHV0RnJvbS5uYXRpdmVFbGVtZW50LnN0eWxlWyd6LWluZGV4J10gPSB0aGlzLnpJbmRleFZhbDtcclxuXHQgICAgICAgIHRoaXMuaW5wdXRGcm9tLm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7IF90aGlzLmNoYW5nZUdsb2JhbE1vZGUoRHVhbFBpY2tlck1vZGUuRnJvbSk7IH0pO1xyXG5cdCAgICAgICAgdGhpcy5pbnB1dFRvLm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7IF90aGlzLmNoYW5nZUdsb2JhbE1vZGUoRHVhbFBpY2tlck1vZGUuVG8pOyB9KTtcclxuXHQgICAgICAgIHRoaXMuaW5wdXRGcm9tLm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uIChldmVudCkgeyBfdGhpcy5ibHVyKGV2ZW50KTsgfSk7XHJcblx0ICAgICAgICB0aGlzLmlucHV0VG8ubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24gKGV2ZW50KSB7IF90aGlzLmJsdXIoZXZlbnQpOyB9KTtcclxuXHQgICAgICAgIHRoaXMuaW5wdXRGcm9tLm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoZXZlbnQpIHsgX3RoaXMub25EYXRlRnJvbVN0cmluZ0NoYW5nZShfdGhpcy5pbnB1dEZyb20ubmF0aXZlRWxlbWVudC52YWx1ZSk7IH0pO1xyXG5cdCAgICAgICAgdGhpcy5pbnB1dFRvLm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoZXZlbnQpIHsgX3RoaXMub25EYXRlVG9TdHJpbmdDaGFuZ2UoX3RoaXMuaW5wdXRUby5uYXRpdmVFbGVtZW50LnZhbHVlKTsgfSk7XHJcblx0ICAgIH07XHJcblx0ICAgIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGlucHV0cykge1xyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uRGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgfTtcclxuXHQgICAgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdCAgICAgICAgaWYgKHZhbHVlKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5kYXRlVG8gPSB2YWx1ZS5kYXRlVG87XHJcblx0ICAgICAgICAgICAgdGhpcy5kYXRlRnJvbSA9IHZhbHVlLmRhdGVGcm9tO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uIChjKSB7XHJcblx0ICAgICAgICBpZiAoIShjLnZhbHVlLmRhdGVGcm9tIGluc3RhbmNlb2YgbW9tZW50KSB8fCAhYy52YWx1ZS5kYXRlRnJvbS5pc1ZhbGlkKCkpIHtcclxuXHQgICAgICAgICAgICByZXR1cm4gXCJJbnZhbGlkIERhdGVcIjtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGlmICh0aGlzLm1pbkRhdGVWYWwgJiYgdGhpcy5taW5EYXRlVmFsLmlzQWZ0ZXIoYy52YWx1ZS5kYXRlRnJvbSkpIHtcclxuXHQgICAgICAgICAgICByZXR1cm4gXCJEYXRlIGNhbm5vdCBiZSBiZWZvcmUgXCIgKyB0aGlzLm1pbkRhdGVWYWwuZm9ybWF0KFwibW0vREQveXl5eVwiKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGlmICh0aGlzLm1heERhdGVWYWwgJiYgdGhpcy5tYXhEYXRlVmFsLmlzQmVmb3JlKGMudmFsdWUuZGF0ZUZyb20pKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIFwiRGF0ZSBjYW5ub3QgYmUgYWZ0ZXIgXCIgKyB0aGlzLm1heERhdGVWYWwuZm9ybWF0KFwibW0vREQveXl5eVwiKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGlmICghKGMudmFsdWUuZGF0ZVRvIGluc3RhbmNlb2YgbW9tZW50KSB8fCAhYy52YWx1ZS5kYXRlVG8uaXNWYWxpZCgpKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIFwiSW52YWxpZCBEYXRlXCI7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBpZiAodGhpcy5taW5EYXRlVmFsICYmIHRoaXMubWluRGF0ZVZhbC5pc0FmdGVyKGMudmFsdWUuZGF0ZVRvKSkge1xyXG5cdCAgICAgICAgICAgIHJldHVybiBcIkRhdGUgY2Fubm90IGJlIGJlZm9yZSBcIiArIHRoaXMubWluRGF0ZVZhbC5mb3JtYXQoXCJtbS9ERC95eXl5XCIpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgaWYgKHRoaXMubWF4RGF0ZVZhbCAmJiB0aGlzLm1heERhdGVWYWwuaXNCZWZvcmUoYy52YWx1ZS5kYXRlVG8pKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIFwiRGF0ZSBjYW5ub3QgYmUgYWZ0ZXIgXCIgKyB0aGlzLm1heERhdGVWYWwuZm9ybWF0KFwibW0vREQveXl5eVwiKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHJldHVybiBudWxsO1xyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5jaGVja0RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICBpZiAoISh0aGlzLmRhdGVGcm9tIGluc3RhbmNlb2YgbW9tZW50KSB8fCAhdGhpcy5kYXRlRnJvbS5pc1ZhbGlkKCkpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmRhdGVGcm9tID0gbW9tZW50KCk7XHJcblx0ICAgICAgICAgICAgdGhpcy50b3VjaGVkKCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLnJlbmRlckNhbGVuZGFyID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgdGhpcy5jYWwxLnJlbmRlckNhbGVuZGFyKHRoaXMuZGF0ZUNsaWNrTGlzdGVuZXIsIHRoaXMuZGF0ZVRvLCB0aGlzLmRhdGVGcm9tLCB0aGlzLm1pbkRhdGVWYWwsIHRoaXMubWF4RGF0ZVZhbCk7XHJcblx0ICAgICAgICB0aGlzLmNhbDIucmVuZGVyQ2FsZW5kYXIodGhpcy5kYXRlQ2xpY2tMaXN0ZW5lciwgdGhpcy5kYXRlVG8sIHRoaXMuZGF0ZUZyb20sIHRoaXMubWluRGF0ZVZhbCwgdGhpcy5tYXhEYXRlVmFsKTtcclxuXHQgICAgfTtcclxuXHQgICAgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUuc2V0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7XHJcblx0ICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xyXG5cdCAgICAgICAgICAgIGNhc2UgRHVhbFBpY2tlck1vZGUuRnJvbTpcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5kYXRlRnJvbSA9IGRhdGU7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdERhdGVUbygpO1xyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUdsb2JhbE1vZGUoRHVhbFBpY2tlck1vZGUuVG8pO1xyXG5cdCAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICBjYXNlIER1YWxQaWNrZXJNb2RlLlRvOlxyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmRhdGVUbyA9IGRhdGU7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdERhdGVGcm9tKCk7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlR2xvYmFsTW9kZShEdWFsUGlja2VyTW9kZS5IaWRkZW4sIHRydWUpO1xyXG5cdCAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHRoaXMudG91Y2hlZCgpO1xyXG5cdCAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5jb3JyZWN0RGF0ZVRvID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgaWYgKHRoaXMuZGF0ZVRvICYmIHRoaXMuZGF0ZUZyb20uaXNBZnRlcih0aGlzLmRhdGVUbykpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmRhdGVUbyA9IG1vbWVudCh0aGlzLmRhdGVGcm9tKTtcclxuXHQgICAgICAgICAgICB0aGlzLmRhdGVUby5hZGQoeyBcImRheVwiOiAxIH0pO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5jb3JyZWN0RGF0ZUZyb20gPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICBpZiAodGhpcy5kYXRlRnJvbSAmJiB0aGlzLmRhdGVUby5pc0JlZm9yZSh0aGlzLmRhdGVGcm9tKSkge1xyXG5cdCAgICAgICAgICAgIHRoaXMuZGF0ZUZyb20gPSBtb21lbnQodGhpcy5kYXRlVG8pO1xyXG5cdCAgICAgICAgICAgIHRoaXMuZGF0ZUZyb20uc3VidHJhY3QoeyBcImRheVwiOiAxIH0pO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBfX2RlY29yYXRlKFtcclxuXHQgICAgICAgIGNvcmVfMS5PdXRwdXQoKSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsIE9iamVjdClcclxuXHQgICAgXSwgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUsIFwiZGF0ZUZyb21DaGFuZ2VcIiwgdm9pZCAwKTtcclxuXHQgICAgX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuT3V0cHV0KCksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCBPYmplY3QpXHJcblx0ICAgIF0sIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGVUb0NoYW5nZVwiLCB2b2lkIDApO1xyXG5cdCAgICBfX2RlY29yYXRlKFtcclxuXHQgICAgICAgIGNvcmVfMS5JbnB1dCgpLCBcclxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgT2JqZWN0KVxyXG5cdCAgICBdLCBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRlRnJvbVwiLCBudWxsKTtcclxuXHQgICAgX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuSW5wdXQoKSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsIE9iamVjdClcclxuXHQgICAgXSwgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUsIFwiZGF0ZVRvXCIsIG51bGwpO1xyXG5cdCAgICBfX2RlY29yYXRlKFtcclxuXHQgICAgICAgIGNvcmVfMS5Db250ZW50Q2hpbGQoJ2RhdGVUbycsIGNhbGVuZGFyX2NvbXBvbmVudF8xLkNhbGVuZGFyQ29tcG9uZW50KSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsICh0eXBlb2YgKF9hID0gdHlwZW9mIGNvcmVfMS5FbGVtZW50UmVmICE9PSAndW5kZWZpbmVkJyAmJiBjb3JlXzEuRWxlbWVudFJlZikgPT09ICdmdW5jdGlvbicgJiYgX2EpIHx8IE9iamVjdClcclxuXHQgICAgXSwgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUsIFwiaW5wdXRUb1wiLCB2b2lkIDApO1xyXG5cdCAgICBfX2RlY29yYXRlKFtcclxuXHQgICAgICAgIGNvcmVfMS5Db250ZW50Q2hpbGQoJ2RhdGVGcm9tJywgY2FsZW5kYXJfY29tcG9uZW50XzEuQ2FsZW5kYXJDb21wb25lbnQpLCBcclxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgKHR5cGVvZiAoX2IgPSB0eXBlb2YgY29yZV8xLkVsZW1lbnRSZWYgIT09ICd1bmRlZmluZWQnICYmIGNvcmVfMS5FbGVtZW50UmVmKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYikgfHwgT2JqZWN0KVxyXG5cdCAgICBdLCBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJpbnB1dEZyb21cIiwgdm9pZCAwKTtcclxuXHQgICAgX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuVmlld0NoaWxkKCdjYWwxJywgY2FsZW5kYXJfY29tcG9uZW50XzEuQ2FsZW5kYXJDb21wb25lbnQpLCBcclxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgKHR5cGVvZiAoX2MgPSB0eXBlb2YgY2FsZW5kYXJfY29tcG9uZW50XzEuQ2FsZW5kYXJDb21wb25lbnQgIT09ICd1bmRlZmluZWQnICYmIGNhbGVuZGFyX2NvbXBvbmVudF8xLkNhbGVuZGFyQ29tcG9uZW50KSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYykgfHwgT2JqZWN0KVxyXG5cdCAgICBdLCBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjYWwxXCIsIHZvaWQgMCk7XHJcblx0ICAgIF9fZGVjb3JhdGUoW1xyXG5cdCAgICAgICAgY29yZV8xLlZpZXdDaGlsZCgnY2FsMicsIGNhbGVuZGFyX2NvbXBvbmVudF8xLkNhbGVuZGFyQ29tcG9uZW50KSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsICh0eXBlb2YgKF9kID0gdHlwZW9mIGNhbGVuZGFyX2NvbXBvbmVudF8xLkNhbGVuZGFyQ29tcG9uZW50ICE9PSAndW5kZWZpbmVkJyAmJiBjYWxlbmRhcl9jb21wb25lbnRfMS5DYWxlbmRhckNvbXBvbmVudCkgPT09ICdmdW5jdGlvbicgJiYgX2QpIHx8IE9iamVjdClcclxuXHQgICAgXSwgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUsIFwiY2FsMlwiLCB2b2lkIDApO1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50ID0gX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuQ29tcG9uZW50KHtcclxuXHQgICAgICAgICAgICBzZWxlY3RvcjogJ2N0LWR1YWwtcGlja2VyJyxcclxuXHQgICAgICAgICAgICB0ZW1wbGF0ZTogX193ZWJwYWNrX3JlcXVpcmVfXygxOSksXHJcblx0ICAgICAgICAgICAgc3R5bGVzOiBbX193ZWJwYWNrX3JlcXVpcmVfXygyMCksIF9fd2VicGFja19yZXF1aXJlX18oMTcpXSxcclxuXHQgICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBjb3JlXzEuVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuXHQgICAgICAgICAgICBwcm92aWRlcnM6IFtcclxuXHQgICAgICAgICAgICAgICAgeyBwcm92aWRlOiBmb3Jtc18xLk5HX1ZBTFVFX0FDQ0VTU09SLCB1c2VFeGlzdGluZzogY29yZV8xLmZvcndhcmRSZWYoZnVuY3Rpb24gKCkgeyByZXR1cm4gRHVhbFBpY2tlckNvbXBvbmVudDsgfSksIG11bHRpOiB0cnVlIH0sXHJcblx0ICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogZm9ybXNfMS5OR19WQUxJREFUT1JTLCB1c2VFeGlzdGluZzogY29yZV8xLmZvcndhcmRSZWYoZnVuY3Rpb24gKCkgeyByZXR1cm4gRHVhbFBpY2tlckNvbXBvbmVudDsgfSksIG11bHRpOiB0cnVlIH1cclxuXHQgICAgICAgICAgICBdXHJcblx0ICAgICAgICB9KSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFsodHlwZW9mIChfZSA9IHR5cGVvZiBjb3JlXzEuRWxlbWVudFJlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgY29yZV8xLkVsZW1lbnRSZWYpID09PSAnZnVuY3Rpb24nICYmIF9lKSB8fCBPYmplY3RdKVxyXG5cdCAgICBdLCBEdWFsUGlja2VyQ29tcG9uZW50KTtcclxuXHQgICAgcmV0dXJuIER1YWxQaWNrZXJDb21wb25lbnQ7XHJcblx0ICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XHJcblx0fShkYXRlcGlja2VyX2Jhc2VfMS5EYXRlUGlja2VyQmFzZSkpO1xyXG5cdGV4cG9ydHMuRHVhbFBpY2tlckNvbXBvbmVudCA9IER1YWxQaWNrZXJDb21wb25lbnQ7XHJcblxuXG4vKioqLyB9LFxuLyogMTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8bmctY29udGVudD48L25nLWNvbnRlbnQ+XFxyXFxuPGRpdiBjbGFzcz1cXFwiY3QtZHAtc2hhZG93LWJveFxcXCIgKGNsaWNrKT1cXFwiY2hhbmdlR2xvYmFsTW9kZShEdWFsUGlja2VyTW9kZS5IaWRkZW4pXFxcIiAqbmdJZj1cXFwibW9kZSAhPSBEdWFsUGlja2VyTW9kZS5IaWRkZW5cXFwiIFtzdHlsZS56LWluZGV4XT1cXFwic2hhZG93WkluZGV4XFxcIj5cXHJcXG48L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVxcXCJjdC1kcC1waWNrZXIgY3QtZHAtZHVhbHBpY2tlclxcXCIgW2NsYXNzLmhpZGRlbl09XFxcIm1vZGUgPT0gRHVhbFBpY2tlck1vZGUuSGlkZGVuXFxcIiBbY2xhc3MuY3QtZHAtcGlja2VyLXRvXT1cXFwibW9kZSA9PSBEdWFsUGlja2VyTW9kZS5Ub1xcXCIgW3N0eWxlLnotaW5kZXhdPVxcXCJ6SW5kZXhWYWxcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjdC1kcC1jYXJldCBjdC1kcC1jYXJldC0xXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY3QtZHAtY2FyZXQgY3QtZHAtY2FyZXQtMlxcXCI+PC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImN0LWRwLWhlYWRlclxcXCI+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4tcHJldiAgY3QtZHAtYnRuXFxcIiAoY2xpY2spPVxcXCJnb1ByZXYoKVxcXCIgW2Rpc2FibGVkXT1cXFwiY2FsMS5tb2RlID09IENhbGVuZGFyTW9kZS5Nb250aCB8fCBjYWwyLm1vZGUgPT0gQ2FsZW5kYXJNb2RlLk1vbnRoXFxcIj4mbHQ7PC9idXR0b24+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4tbW9udGggY3QtZHAtYnRuXFxcIiBbZGlzYWJsZWRdPVxcXCJjYWwyLm1vZGUgIT0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyXFxcIiAoY2xpY2spPVxcXCJjaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5Nb250aCwgY2FsMSlcXFwiPnt7Y2FsMS5kYXRlLmZvcm1hdChcXFwiTU1NTVxcXCIpfX08L2J1dHRvbj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0bi15ZWFyICBjdC1kcC1idG5cXFwiIFtkaXNhYmxlZF09XFxcImNhbDIubW9kZSAhPSBDYWxlbmRhck1vZGUuQ2FsZW5kYXJcXFwiIChjbGljayk9XFxcImNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLlllYXIsIGNhbDEpXFxcIj57e2NhbDEuZGF0ZS5mb3JtYXQoXFxcIllZWVlcXFwiKX19PC9idXR0b24+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4tbmV4dCAgY3QtZHAtYnRuXFxcIiBbZGlzYWJsZWRdPVxcXCJ0cnVlXFxcIj48L2J1dHRvbj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0bi1wcmV2ICBjdC1kcC1idG5cXFwiIFtkaXNhYmxlZF09XFxcInRydWVcXFwiPjwvYnV0dG9uPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLW1vbnRoIGN0LWRwLWJ0blxcXCIgW2Rpc2FibGVkXT1cXFwiY2FsMS5tb2RlICE9IENhbGVuZGFyTW9kZS5DYWxlbmRhclxcXCIgKGNsaWNrKT1cXFwiY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuTW9udGgsIGNhbDIpXFxcIj57e2NhbDIuZGF0ZS5mb3JtYXQoXFxcIk1NTU1cXFwiKX19PC9idXR0b24+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4teWVhciAgY3QtZHAtYnRuXFxcIiBbZGlzYWJsZWRdPVxcXCJjYWwxLm1vZGUgIT0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyXFxcIiAoY2xpY2spPVxcXCJjaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5ZZWFyLCBjYWwyKVxcXCI+e3tjYWwyLmRhdGUuZm9ybWF0KFxcXCJZWVlZXFxcIil9fTwvYnV0dG9uPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLW5leHQgIGN0LWRwLWJ0blxcXCIgKGNsaWNrKT1cXFwiZ29OZXh0KClcXFwiIFtkaXNhYmxlZF09XFxcInRoaXMuY2FsMS5tb2RlID09IENhbGVuZGFyTW9kZS5Nb250aCB8fCB0aGlzLmNhbDIubW9kZSA9PSBDYWxlbmRhck1vZGUuTW9udGhcXFwiPiZndDs8L2J1dHRvbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxjdC1jYWxlbmRhciAjY2FsMSBbbmdDbGFzc109XFxcInsnY3QtZHAtY2FsLWluYWN0aXZlJzogY2FsMi5tb2RlICE9IENhbGVuZGFyTW9kZS5DYWxlbmRhcn1cXFwiPjwvY3QtY2FsZW5kYXI+XFxyXFxuICAgIDxjdC1jYWxlbmRhciAjY2FsMiBbbmdDbGFzc109XFxcInsnY3QtZHAtY2FsLWluYWN0aXZlJzogY2FsMS5tb2RlICE9IENhbGVuZGFyTW9kZS5DYWxlbmRhcn1cXFwiPjwvY3QtY2FsZW5kYXI+XFxyXFxuPC9kaXY+XCI7XG5cbi8qKiovIH0sXG4vKiAyMCAqL1xuMTFcbi8qKioqKiovIF0pKSlcbn0pO1xuO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBjdG5nLnVtZC5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAwZGMxOGU5MGJmMDc1MTY5Yjg3MyIsImV4cG9ydCB7RGF0ZVBpY2tlck1vZHVsZX0gZnJvbSAnLi9kYXRlcGlja2VyLm1vZHVsZSc7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9zcmMvbGliLnRzIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcblxyXG5pbXBvcnQgeyBEYXRlUGlja2VyQ29tcG9uZW50IH0gZnJvbSAnLi9kYXRlcGlja2VyL2RhdGVwaWNrZXIuY29tcG9uZW50JztcclxuaW1wb3J0IHsgRHVhbFBpY2tlckNvbXBvbmVudCB9IGZyb20gJy4vZHVhbHBpY2tlci9kdWFscGlja2VyLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IENhbGVuZGFyQ29tcG9uZW50IH0gZnJvbSAnLi9jYWxlbmRhci9jYWxlbmRhci5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBDYWxlbmRhckdyaWRDb21wb25lbnQgfSBmcm9tICcuL2NhbGVuZGFyLWdyaWQvY2FsZW5kYXItZ3JpZC5jb21wb25lbnQnO1xyXG5cclxuQE5nTW9kdWxlKHtcclxuICBleHBvcnRzOiBbXHJcbiAgICBEYXRlUGlja2VyQ29tcG9uZW50LFxyXG4gICAgRHVhbFBpY2tlckNvbXBvbmVudCxcclxuICAgIF0sXHJcbiAgZGVjbGFyYXRpb25zOiBbXHJcbiAgICBEYXRlUGlja2VyQ29tcG9uZW50LFxyXG4gICAgRHVhbFBpY2tlckNvbXBvbmVudCxcclxuICAgIENhbGVuZGFyQ29tcG9uZW50LFxyXG4gICAgQ2FsZW5kYXJHcmlkQ29tcG9uZW50XSxcclxuICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBGb3Jtc01vZHVsZV1cclxufSlcclxuZXhwb3J0IGNsYXNzIERhdGVQaWNrZXJNb2R1bGUge1xyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vc3JjL2RhdGVwaWNrZXIubW9kdWxlLnRzIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzJfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIkBhbmd1bGFyL2NvcmVcIlxuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfM19fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiQGFuZ3VsYXIvY29tbW9uXCJcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIkBhbmd1bGFyL2Zvcm1zXCJcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHtcclxuICBDb21wb25lbnQsIGZvcndhcmRSZWYsIE9uQ2hhbmdlcywgQWZ0ZXJWaWV3SW5pdCxcclxuICBPbkRlc3Ryb3ksIENvbnRlbnRDaGlsZCwgRWxlbWVudFJlZiwgT25Jbml0LCBSZW5kZXJlciwgVmlld0VuY2Fwc3VsYXRpb24sXHJcbiAgSW5wdXQsIFZpZXdDaGlsZCwgUXVlcnlMaXN0LCBPdXRwdXQsIEV2ZW50RW1pdHRlclxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgKiBhcyBtb21lbnQgZnJvbSAnbW9tZW50JztcclxuaW1wb3J0IHsgQ2FsZW5kYXJDb21wb25lbnQgfSBmcm9tICcuLi9jYWxlbmRhci9jYWxlbmRhci5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBDYWxlbmRhck1vZGUgfSBmcm9tICcuLi9jb21tb24vY2FsZW5kYXItbW9kZSc7XHJcbmltcG9ydCAqIGFzICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IHsgRm9ybUNvbnRyb2wsIENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBOR19WQUxVRV9BQ0NFU1NPUiwgTkdfVkFMSURBVE9SUyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgRGF0ZVBpY2tlckJhc2UgfSBmcm9tICcuLi9jb21tb24vZGF0ZXBpY2tlci1iYXNlJztcclxuXHJcbmV4cG9ydCBlbnVtIERhdGVQaWNrZXJNb2RlIHtcclxuICBWaXNpYmxlLCBIaWRkZW5cclxufVxyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdjdC1kYXRlLXBpY2tlcicsXHJcbiAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vZGF0ZXBpY2tlci5jb21wb25lbnQuaHRtbCcpLFxyXG4gIHN0eWxlczogW3JlcXVpcmUoJy4vZGF0ZXBpY2tlci5jb21wb25lbnQubGVzcycpLCByZXF1aXJlKCcuLi9jb21tb24vY29tbW9uLmxlc3MnKV0sXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuICBwcm92aWRlcnM6IFtcclxuICAgIHsgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IERhdGVQaWNrZXJDb21wb25lbnQpLCBtdWx0aTogdHJ1ZSB9LFxyXG4gICAgeyBwcm92aWRlOiBOR19WQUxJREFUT1JTLCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBEYXRlUGlja2VyQ29tcG9uZW50KSwgbXVsdGk6IHRydWUgfVxyXG4gIF1cclxufSlcclxuZXhwb3J0IGNsYXNzIERhdGVQaWNrZXJDb21wb25lbnQgZXh0ZW5kcyBEYXRlUGlja2VyQmFzZSBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSwgT25Jbml0LCBDb250cm9sVmFsdWVBY2Nlc3NvciwgT25DaGFuZ2VzIHtcclxuICAvKiogRW51bSBBY2Nlc3NvcnMgZm9yIEhUTUwgKi9cclxuICBwdWJsaWMgQ2FsZW5kYXJNb2RlID0gQ2FsZW5kYXJNb2RlO1xyXG4gIHB1YmxpYyBEYXRlUGlja2VyTW9kZSA9IERhdGVQaWNrZXJNb2RlO1xyXG5cclxuICBAT3V0cHV0KCkgZGF0ZUNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICBwcml2YXRlIGRhdGVWYWx1ZTogbW9tZW50Lk1vbWVudDtcclxuICBASW5wdXQoKVxyXG4gIGdldCBkYXRlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0ZVZhbHVlO1xyXG4gIH1cclxuICBzZXQgZGF0ZSh2YWwpIHtcclxuICAgIGlmICh2YWwgaW5zdGFuY2VvZiBtb21lbnQgJiYgdmFsLmlzVmFsaWQoKSkge1xyXG4gICAgICB0aGlzLmlucHV0Lm5hdGl2ZUVsZW1lbnQudmFsdWUgPSB2YWwuZm9ybWF0KFwiTU0vREQvWVlZWVwiKTtcclxuICAgICAgdGhpcy5kYXRlVmFsdWUgPSB2YWw7XHJcbiAgICAgIHRoaXMuZGF0ZUNoYW5nZS5lbWl0KHZhbCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnByb3BhZ2F0ZUNoYW5nZSh2YWwpO1xyXG4gIH1cclxuXHJcbiAgQENvbnRlbnRDaGlsZCgnZGF0ZScpIGlucHV0OiBFbGVtZW50UmVmO1xyXG5cclxuICBAVmlld0NoaWxkKENhbGVuZGFyQ29tcG9uZW50KSBwdWJsaWMgY2FsOiBDYWxlbmRhckNvbXBvbmVudDtcclxuICBwdWJsaWMgbW9kZTogRGF0ZVBpY2tlck1vZGUgPSBEYXRlUGlja2VyTW9kZS5IaWRkZW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlFbGVtZW50OiBFbGVtZW50UmVmLCBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcikge1xyXG4gICAgc3VwZXIoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvbkRhdGVTdHJpbmdDaGFuZ2UodmFsKSB7XHJcbiAgICBsZXQgbSA9IG1vbWVudChuZXcgRGF0ZSh2YWwpKTtcclxuICAgIHRoaXMuZGF0ZVZhbHVlLnNldChtLnRvT2JqZWN0KCkpO1xyXG4gICAgdGhpcy5kYXRlQ2hhbmdlLmVtaXQodGhpcy5kYXRlVmFsdWUpO1xyXG4gICAgaWYgKG0uaXNWYWxpZCgpKSB7XHJcbiAgICAgIHRoaXMuY2FsLmRhdGUgPSB0aGlzLmRhdGVWYWx1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2FsLmRhdGUgPSBtb21lbnQoKTtcclxuICAgIH1cclxuICAgIHRoaXMucHJvcGFnYXRlQ2hhbmdlKHZhbCk7XHJcbiAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY2hhbmdlR2xvYmFsTW9kZShtb2RlOiBEYXRlUGlja2VyTW9kZSkge1xyXG4gICAgdGhpcy5tb2RlID0gbW9kZTtcclxuICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XHJcbiAgICAgIGNhc2UgRGF0ZVBpY2tlck1vZGUuVmlzaWJsZTpcclxuICAgICAgICB0aGlzLmNoZWNrRGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuQ2FsZW5kYXIpO1xyXG4gICAgICAgICQodGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCkuYWRkQ2xhc3MoXCJjdC1kcC1hY3RpdmVcIik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgRGF0ZVBpY2tlck1vZGUuSGlkZGVuOlxyXG4gICAgICAgICQodGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCkucmVtb3ZlQ2xhc3MoXCJjdC1kcC1hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrRGF0ZSgpIHtcclxuICAgIGlmICghKHRoaXMuZGF0ZSBpbnN0YW5jZW9mIG1vbWVudCkgfHwgIXRoaXMuZGF0ZS5pc1ZhbGlkKCkpIHtcclxuICAgICAgdGhpcy5kYXRlID0gbW9tZW50KCk7XHJcbiAgICAgIHRoaXMudG91Y2hlZCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB0b3VjaGVkKCkge1xyXG4gICAgdGhpcy5wcm9wYWdhdGVUb3VjaGVkKHRoaXMuZGF0ZSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYmx1cihldmVudCkge1xyXG4gICAgaWYgKChldmVudC53aGljaCB8fCBldmVudC5rZXlDb2RlKSA9PSA5KSB7XHJcbiAgICAgIHRoaXMuY2hhbmdlR2xvYmFsTW9kZShEYXRlUGlja2VyTW9kZS5IaWRkZW4pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGNoYW5nZU1vZGUobW9kZTogQ2FsZW5kYXJNb2RlKSB7XHJcbiAgICB0aGlzLmNhbC5jaGFuZ2VNb2RlKG1vZGUpO1xyXG4gICAgc3dpdGNoIChtb2RlKSB7XHJcbiAgICAgIGNhc2UgQ2FsZW5kYXJNb2RlLkNhbGVuZGFyOlxyXG4gICAgICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnb1ByZXYoKSB7XHJcbiAgICBpZiAodGhpcy5jYWwubW9kZSA9PSBDYWxlbmRhck1vZGUuQ2FsZW5kYXIpIHtcclxuICAgICAgdGhpcy5jYWwuZGF0ZS5tb250aCh0aGlzLmNhbC5kYXRlLm1vbnRoKCkgLSAxKTtcclxuICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jYWwuZ29QcmV2KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ29OZXh0KCkge1xyXG4gICAgaWYgKHRoaXMuY2FsLm1vZGUgPT0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyKSB7XHJcbiAgICAgIHRoaXMuY2FsLmRhdGUubW9udGgodGhpcy5jYWwuZGF0ZS5tb250aCgpICsgMSk7XHJcbiAgICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2FsLmdvTmV4dCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICBpZiAodGhpcy5kYXRlIGluc3RhbmNlb2YgbW9tZW50ICYmIHRoaXMuZGF0ZS5pc1ZhbGlkKCkpIHtcclxuICAgICAgdGhpcy5jYWwuZGF0ZSA9IG1vbWVudCh0aGlzLmRhdGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jYWwuZGF0ZSA9IG1vbWVudCgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jYWwuc3Vic2NyaWJlVG9DaGFuZ2VNb250aCh0aGlzLm1vbnRoQ2hhbmdlTGlzdGVuZXIpO1xyXG4gICAgdGhpcy5jYWwuc3Vic2NyaWJlVG9DaGFuZ2VZZWFyKHRoaXMueWVhckNoYW5nZUxpc3RlbmVyKTtcclxuICB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKGlucHV0cykge1xyXG4gICAgY29uc29sZS5sb2coJ25nT25DaGFuZ2VzJyk7XHJcbiAgfVxyXG5cclxuICBuZ0FmdGVyVmlld0luaXQoKSB7XHJcbiAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcblxyXG4gICAgdGhpcy5pbnB1dC5uYXRpdmVFbGVtZW50LnN0eWxlWyd6LWluZGV4J10gPSB0aGlzLnpJbmRleFZhbDtcclxuICAgIHRoaXMuaW5wdXQubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHsgdGhpcy5jaGFuZ2VHbG9iYWxNb2RlKERhdGVQaWNrZXJNb2RlLlZpc2libGUpIH0pO1xyXG4gICAgdGhpcy5pbnB1dC5uYXRpdmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZXZlbnQpID0+IHsgdGhpcy5ibHVyKGV2ZW50KSB9KTtcclxuICAgIHRoaXMuaW5wdXQubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4geyB0aGlzLm9uRGF0ZVN0cmluZ0NoYW5nZSh0aGlzLmlucHV0Lm5hdGl2ZUVsZW1lbnQudmFsdWUpIH0pO1xyXG4gIH1cclxuXHJcbiAgZGF0ZUNsaWNrTGlzdGVuZXIgPSAoZGF0ZTogbW9tZW50Lk1vbWVudCkgPT4ge1xyXG4gICAgbGV0IGQgPSBtb21lbnQoZGF0ZSk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB0aGlzLnNldERhdGUoZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG1vbnRoQ2hhbmdlTGlzdGVuZXIgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLkNhbGVuZGFyKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgeWVhckNoYW5nZUxpc3RlbmVyID0gKCkgPT4ge1xyXG4gICAgdGhpcy5jaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5DYWxlbmRhcik7XHJcbiAgfVxyXG5cclxuICBzZXREYXRlKGRhdGU6IG1vbWVudC5Nb21lbnQpIHtcclxuICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XHJcbiAgICAgIGNhc2UgRGF0ZVBpY2tlck1vZGUuVmlzaWJsZTpcclxuICAgICAgICB0aGlzLnRvdWNoZWQoKTtcclxuICAgICAgICB0aGlzLmRhdGUgPSBkYXRlO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlR2xvYmFsTW9kZShEYXRlUGlja2VyTW9kZS5IaWRkZW4pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKSB7XHJcblxyXG4gIH1cclxuXHJcbiAgcmVuZGVyQ2FsZW5kYXIoKSB7XHJcbiAgICB0aGlzLmNhbC5yZW5kZXJDYWxlbmRhcih0aGlzLmRhdGVDbGlja0xpc3RlbmVyLCB0aGlzLmRhdGUsIHRoaXMuZGF0ZSwgdGhpcy5taW5EYXRlVmFsLCB0aGlzLm1heERhdGVWYWwpO1xyXG4gIH1cclxuXHJcbiAgd3JpdGVWYWx1ZSh2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgIHRoaXMuZGF0ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdmFsaWRhdGUoYzogRm9ybUNvbnRyb2wpIHtcclxuICAgIGlmICghKGMudmFsdWUgaW5zdGFuY2VvZiBtb21lbnQpIHx8ICFjLnZhbHVlLmlzVmFsaWQoKSkge1xyXG4gICAgICByZXR1cm4gXCJJbnZhbGlkIERhdGVcIjtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm1pbkRhdGVWYWwgJiYgdGhpcy5taW5EYXRlVmFsLmlzQWZ0ZXIoYy52YWx1ZSkpIHtcclxuICAgICAgcmV0dXJuIFwiRGF0ZSBjYW5ub3QgYmUgYmVmb3JlIFwiICsgdGhpcy5taW5EYXRlVmFsLmZvcm1hdChcIm1tL0REL3l5eXlcIik7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5tYXhEYXRlVmFsICYmIHRoaXMubWF4RGF0ZVZhbC5pc0JlZm9yZShjLnZhbHVlKSkge1xyXG4gICAgICByZXR1cm4gXCJEYXRlIGNhbm5vdCBiZSBhZnRlciBcIiArIHRoaXMubWF4RGF0ZVZhbC5mb3JtYXQoXCJtbS9ERC95eXl5XCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9zcmMvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmNvbXBvbmVudC50cyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV82X187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJtb21lbnRcIlxuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgT25EZXN0cm95LCBFbGVtZW50UmVmLCBSZW5kZXJlciwgVmlld0VuY2Fwc3VsYXRpb24sIElucHV0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0ICogYXMgbW9tZW50IGZyb20gJ21vbWVudCc7XHJcbmltcG9ydCB7IENhbGVuZGFyTW9kZSB9IGZyb20gJy4uL2NvbW1vbi9jYWxlbmRhci1tb2RlJztcclxuaW1wb3J0IHsgQ2FsZW5kYXJHcmlkQ29tcG9uZW50IH0gZnJvbSAnLi4vY2FsZW5kYXItZ3JpZC9jYWxlbmRhci1ncmlkLmNvbXBvbmVudCc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAnY3QtY2FsZW5kYXInLFxyXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vY2FsZW5kYXIuY29tcG9uZW50Lmh0bWwnKSxcclxuICAgIHN0eWxlczogW3JlcXVpcmUoJy4vY2FsZW5kYXIuY29tcG9uZW50Lmxlc3MnKV0sXHJcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDYWxlbmRhckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcclxuICAgIC8qKiBEZXRlcm1pbmVzIGhvdyBtYW55IHllYXIgYnV0dG9ucyBhcmUgc2hvd24uICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBudW1ZZWFyc1Nob3duID0gMTU7XHJcbiAgICAvKiogY29udmVuaWVuY2UgdmFyaWFibGUgZm9yIGdlbmVyYXRpbmcgeWVhcnMgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIGhhbGZOdW1ZZWFyc1Nob3duID0gTWF0aC5mbG9vcihDYWxlbmRhckNvbXBvbmVudC5udW1ZZWFyc1Nob3duIC8gMik7XHJcbiAgICAvKiogQWNjZXNzb3IgdG8gdGhlIG1vZGUgZm9yIGh0bWwgKi9cclxuICAgIHB1YmxpYyBDYWxlbmRhck1vZGUgPSBDYWxlbmRhck1vZGU7XHJcbiAgICBwdWJsaWMgbW9kZTogQ2FsZW5kYXJNb2RlID0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyO1xyXG4gICAgLyoqIERhdGUgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgbW9udGgveWVhciBzaG93biBvbiB0aGlzIGNhbGVuZGFyICovXHJcbiAgICBwdWJsaWMgZGF0ZTogbW9tZW50Lk1vbWVudDtcclxuICAgIC8qKiBBcnJheSBvZiBtb250aHMgdG8gc2hvdyB3aGVuIHNlbGVjdGluZyBhIG5ldyBtb250aCAqL1xyXG4gICAgcHJpdmF0ZSBtb250aHM6IHN0cmluZ1tdID0gW107XHJcbiAgICAvKiogQXJyYXkgb2YgeWVhcnMgdG8gc2hvdyB3aGVuIHNlbGVjdGluZyBhIG5ldyB5ZWFyICovXHJcbiAgICBwcml2YXRlIHllYXJzOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgZ2V0IHllYXJEYXRhKCk6IG51bWJlcltdIHtyZXR1cm4gdGhpcy55ZWFyc307XHJcbiAgICAvKiogTGlzdGVuZXJzIGZvciBtb250aCBjaGFuZ2UgKi9cclxuICAgIHByaXZhdGUgbW9udGhMaXN0ZW5lcnM6IEZ1bmN0aW9uW10gPSBbXTtcclxuICAgIC8qKiBMaXN0ZW5lcnMgZm9yIHllYXIgY2hhbmdlICovXHJcbiAgICBwcml2YXRlIHllYXJMaXN0ZW5lcnM6IEZ1bmN0aW9uW10gPSBbXTtcclxuICAgIC8qKiBHcmlkIHZpZXcgY2hpbGQgY29tcG9uZW50IChhY3R1YWxseSBzaG93cyB0aGUgbnVtYmVyIGdyaWQpICovXHJcbiAgICBAVmlld0NoaWxkKENhbGVuZGFyR3JpZENvbXBvbmVudCkgcHVibGljIGdyaWQ6IENhbGVuZGFyR3JpZENvbXBvbmVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmdlbmVyYXRlTW9udGhEYXRhKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbmdPbkluaXQoKSB7IH1cclxuICAgIG5nT25EZXN0cm95KCkgeyB9XHJcblxyXG4gICAgc3Vic2NyaWJlVG9DaGFuZ2VNb250aChsaXN0ZW5lcjogRnVuY3Rpb24pIHtcclxuICAgICAgICB0aGlzLm1vbnRoTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHN1YnNjcmliZVRvQ2hhbmdlWWVhcihsaXN0ZW5lcjogRnVuY3Rpb24pIHtcclxuICAgICAgICB0aGlzLnllYXJMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlTW9kZShtb2RlOiBDYWxlbmRhck1vZGUpIHtcclxuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHN3aXRjaCAobW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIENhbGVuZGFyTW9kZS5ZZWFyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVllYXJEYXRhKHRoaXMuZGF0ZS55ZWFyKCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2VuZXJhdGVNb250aERhdGEoKSB7XHJcbiAgICAgICAgbGV0IGRhdGUgPSBtb21lbnQobmV3IERhdGUoKSk7IC8vZG9lc24ndCBjaGFuZ2VcclxuICAgICAgICBkYXRlLm1vbnRoKDApO1xyXG4gICAgICAgIGxldCBkID0gbW9tZW50KG5ldyBEYXRlKCkpO1xyXG4gICAgICAgIGQubW9udGgoMCk7XHJcbiAgICAgICAgd2hpbGUgKGRhdGUueWVhcigpID09PSBkLnllYXIoKSkge1xyXG4gICAgICAgICAgICB0aGlzLm1vbnRocy5wdXNoKGQuZm9ybWF0KFwiTU1NXCIpKTtcclxuICAgICAgICAgICAgZC5tb250aChkLm1vbnRoKCkgKyAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZVllYXJEYXRhKHllYXI6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMueWVhcnMgPSBbXTtcclxuICAgICAgICBsZXQgeSA9IHllYXIgLSBDYWxlbmRhckNvbXBvbmVudC5oYWxmTnVtWWVhcnNTaG93bjtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IENhbGVuZGFyQ29tcG9uZW50Lm51bVllYXJzU2hvd247IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnllYXJzLnB1c2goeSArIGkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnb1ByZXYoKSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBDYWxlbmRhck1vZGUuQ2FsZW5kYXI6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDYWxlbmRhck1vZGUuTW9udGg6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDYWxlbmRhck1vZGUuWWVhcjpcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVZZWFyRGF0YSh0aGlzLnllYXJzW0NhbGVuZGFyQ29tcG9uZW50LmhhbGZOdW1ZZWFyc1Nob3duXSAtIENhbGVuZGFyQ29tcG9uZW50Lm51bVllYXJzU2hvd24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnb05leHQoKSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBDYWxlbmRhck1vZGUuQ2FsZW5kYXI6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDYWxlbmRhck1vZGUuTW9udGg6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDYWxlbmRhck1vZGUuWWVhcjpcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVZZWFyRGF0YSh0aGlzLnllYXJzW0NhbGVuZGFyQ29tcG9uZW50LmhhbGZOdW1ZZWFyc1Nob3duXSArIENhbGVuZGFyQ29tcG9uZW50Lm51bVllYXJzU2hvd24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJDYWxlbmRhcihjbGlja0NhbGxiYWNrOiBGdW5jdGlvbiwgZGF0ZVRvOiBtb21lbnQuTW9tZW50LCBkYXRlRnJvbTogbW9tZW50Lk1vbWVudCwgbWluRGF0ZTogbW9tZW50Lk1vbWVudCwgbWF4RGF0ZTogbW9tZW50Lk1vbWVudCkge1xyXG4gICAgICAgIHRoaXMuZ3JpZC5yZW5kZXJDYWxlbmRhcih0aGlzLmRhdGUsIGNsaWNrQ2FsbGJhY2ssIGRhdGVUbywgZGF0ZUZyb20sIG1pbkRhdGUsIG1heERhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE1vbnRoKGluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmRhdGUubW9udGgoaW5kZXgpO1xyXG4gICAgICAgIGZvciAobGV0IGZuIG9mIHRoaXMubW9udGhMaXN0ZW5lcnMpIHtcclxuICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0WWVhcih5ZWFyOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmRhdGUueWVhcih5ZWFyKTtcclxuICAgICAgICBmb3IgKGxldCBmbiBvZiB0aGlzLnllYXJMaXN0ZW5lcnMpIHtcclxuICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9zcmMvY2FsZW5kYXIvY2FsZW5kYXIuY29tcG9uZW50LnRzIiwiZXhwb3J0IGVudW0gQ2FsZW5kYXJNb2RlIHtcclxuICAgIENhbGVuZGFyLCBNb250aCwgWWVhclxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9zcmMvY29tbW9uL2NhbGVuZGFyLW1vZGUudHMiLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgT25EZXN0cm95LCBFbGVtZW50UmVmLCBSZW5kZXJlciwgVmlld0VuY2Fwc3VsYXRpb24sIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCAqIGFzIG1vbWVudCBmcm9tICdtb21lbnQnO1xyXG5pbXBvcnQgeyBDYWxlbmRhckNvbXBvbmVudCB9IGZyb20gJy4uL2NhbGVuZGFyL2NhbGVuZGFyLmNvbXBvbmVudCc7XHJcbmltcG9ydCAqIGFzICQgZnJvbSAnanF1ZXJ5JztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdjdC1jYWxlbmRhci1ncmlkJyxcclxuICAgIHRlbXBsYXRlOiAnJyxcclxuICAgIHN0eWxlczogW3JlcXVpcmUoJy4vY2FsZW5kYXItZ3JpZC5jb21wb25lbnQubGVzcycpXSxcclxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcclxufSlcclxuZXhwb3J0IGNsYXNzIENhbGVuZGFyR3JpZENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlFbGVtZW50OiBFbGVtZW50UmVmLCBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcikge1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25Jbml0KCkge1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25EZXN0cm95KCkge1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXJzIGEgY2FsZW5kYXIgYmFzZWQgb24gdGhlIGRhdGUsIHNlbGVjdGluZyB0aGUgcHJvcGVyIGZyb20vdG8gaWYgdmlzaWJsZS5cclxuICAgICAqL1xyXG4gICAgcmVuZGVyQ2FsZW5kYXIoZGF0ZTogbW9tZW50Lk1vbWVudCwgY2xpY2tDYWxsYmFjazogRnVuY3Rpb24sIGRhdGVUbzogbW9tZW50Lk1vbWVudCwgZGF0ZUZyb206IG1vbWVudC5Nb21lbnQsIG1pbkRhdGU6IG1vbWVudC5Nb21lbnQsIG1heERhdGU6IG1vbWVudC5Nb21lbnQpIHtcclxuICAgICAgICBsZXQgZCA9IG1vbWVudChkYXRlKTtcclxuICAgICAgICBkLmRhdGUoMSk7IC8vcmVzZXQgZGF0ZS5cclxuXHJcbiAgICAgICAgbGV0IGhlYWRlciA9ICQoXCI8ZGl2IGNsYXNzPSdjdC1kcC1jYWwtaGVhZGVyJz48L2Rpdj5cIik7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpKyspIHtcclxuICAgICAgICAgICAgZC5kYXkoaSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZWwgPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbiAgICAgICAgICAgIGVsLnRleHQoZC5mb3JtYXQoXCJkZFwiKSk7XHJcbiAgICAgICAgICAgIGVsLmF0dHIoXCJjdC1jYWwtZHAtZGF5XCIsIGkudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIGVsLmFkZENsYXNzKFwiY3QtZHAtY2FsLWRheVwiKTsgXHJcblxyXG4gICAgICAgICAgICBoZWFkZXIuYXBwZW5kKGVsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGQuZGF0ZSgxKTsgLy9yZXNldCBkYXRlLlxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBib2R5ID0gJChcIjxkaXYgY2xhc3M9J2N0LWRwLWNhbC1ib2R5Jz48L2Rpdj5cIik7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkLmRheSgpOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGVsID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG5cclxuICAgICAgICAgICAgZWwuYXR0cihcImN0LWRwLWNhbC1kYXlcIiwgaS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgZWwuYWRkQ2xhc3MoXCJjdC1kcC1jYWwtZGF5XCIpO1xyXG5cclxuICAgICAgICAgICAgYm9keS5hcHBlbmQoZWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2hpbGUgKGQubW9udGgoKSA9PT0gZGF0ZS5tb250aCgpKSB7XHJcbiAgICAgICAgICAgIGxldCBlbCA9ICQoXCI8YnV0dG9uPjwvYnV0dG9uPlwiKTtcclxuICAgICAgICAgICAgZWwudGV4dCgoZC5kYXRlKCkpLnRvU3RyaW5nKCkpXHJcbiAgICAgICAgICAgIGVsLmF0dHIoXCJjdC1kcC1jYWwtZGF5XCIsIGQuZGF0ZSgpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBlbC5hdHRyKFwidGFiSW5kZXhcIiwgXCItMVwiKTtcclxuICAgICAgICAgICAgZWwuYWRkQ2xhc3MoXCJjdC1kcC1jYWwtZGF5XCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKChkYXRlVG8gJiYgZC5pc1NhbWUoZGF0ZVRvLCBcImRheVwiKSkgfHwgKGRhdGVGcm9tICYmIGQuaXNTYW1lKGRhdGVGcm9tLCBcImRheVwiKSkpIHtcclxuICAgICAgICAgICAgICAgIGVsLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkYXRlRnJvbSAmJiBkYXRlVG8gJiYgZC5pc0JldHdlZW4oZGF0ZUZyb20sIGRhdGVUbykpIHtcclxuICAgICAgICAgICAgICAgIGVsLmFkZENsYXNzKFwiYmV0d2VlblwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobWF4RGF0ZSAmJiBtaW5EYXRlICYmIGQuaXNCZWZvcmUobWluRGF0ZSkgfHwgZC5pc0FmdGVyKG1heERhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbC5jbGljayhjbGlja0NhbGxiYWNrKGQpKTtcclxuICAgICAgICAgICAgZC5kYXRlKGQuZGF0ZSgpICsgMSk7XHJcblxyXG4gICAgICAgICAgICBib2R5LmFwcGVuZChlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQodGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCkuZW1wdHkoKTtcclxuICAgICAgICBoZWFkZXIuYXBwZW5kVG8odGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCk7XHJcbiAgICAgICAgYm9keS5hcHBlbmRUbyh0aGlzLm15RWxlbWVudC5uYXRpdmVFbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERlcHJlY2F0ZWQgdW50aWwgc3VwcG9ydCBvZiByZW5kZXJlciBpcyBtb3JlIHN0YWJsZS5cclxuICAgICAqL1xyXG4gICAgcmVuZGVyQ2FsZW5kYXJSZW5kZXJlcihjYWw6IENhbGVuZGFyQ29tcG9uZW50LCBjbGlja0NhbGxiYWNrOiBGdW5jdGlvbiwgZGF0ZVRvOiBtb21lbnQuTW9tZW50LCBkYXRlRnJvbTogbW9tZW50Lk1vbWVudCkge1xyXG4gICAgICAgIGxldCBkID0gbW9tZW50KGNhbC5kYXRlKTtcclxuICAgICAgICBkLmRhdGUoMSk7IC8vcmVzZXQgZGF0ZS5cclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZWxlY3RSb290RWxlbWVudCh0aGlzLm15RWxlbWVudC5uYXRpdmVFbGVtZW50KTtcclxuXHJcbiAgICAgICAgY29uc3QgaGVhZGVyRWxlbWVudCA9IHRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCh0aGlzLm15RWxlbWVudC5uYXRpdmVFbGVtZW50LCBcImRpdlwiKTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRDbGFzcyhoZWFkZXJFbGVtZW50LCBcIi5jdC1kcC1jYWwtaGVhZGVyXCIsIHRydWUpO1xyXG4gICAgICAgIGNvbnN0IGNhbEVsZW1lbnQgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQodGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50Q2xhc3MoaGVhZGVyRWxlbWVudCwgXCIuY3QtZHAtY2FsLWJvZHlcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vQWRkIG5hbWUgZm9yIGRheSBvZiB3ZWVrXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpKyspIHtcclxuICAgICAgICAgICAgZC5kYXkoaSk7XHJcbiAgICAgICAgICAgIGxldCBlbDogRWxlbWVudFJlZiA9IHRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudChoZWFkZXJFbGVtZW50LCBcImRpdlwiKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRUZXh0KGVsLCBkLmZvcm1hdChcImRkXCIpKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50QXR0cmlidXRlKGVsLCBcImN0LWNhbC1kcC1kYXlcIiwgaS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50Q2xhc3MoZWwsIFwiY3QtZHAtY2FsLWRheVwiLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGQuZGF0ZSgxKTsgLy9yZXNldCBkYXRlLlxyXG5cclxuICAgICAgICAvL0FkZCBibGFuayBmaWxsZXIgZGF5cy5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGQuZGF5KCk7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgZWw6IEVsZW1lbnRSZWYgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoY2FsRWxlbWVudCwgXCJkaXZcIik7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgXCJjdC1kcC1jYWwtZGF5XCIsIGkudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKGVsLCBcImN0LWRwLWNhbC1kYXlcIiwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0FkZCBjYWxlbmRhclxyXG4gICAgICAgIHdoaWxlIChkLm1vbnRoKCkgPT09IGNhbC5kYXRlLm1vbnRoKCkpIHtcclxuICAgICAgICAgICAgbGV0IGNvbXBvbmVudCA9IHRoaXM7XHJcbiAgICAgICAgICAgIGxldCBlbDogRWxlbWVudFJlZiA9IHRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudChjYWxFbGVtZW50LCBcImJ1dHRvblwiKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRUZXh0KGVsLCAoZC5kYXRlKCkpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRBdHRyaWJ1dGUoZWwsIFwiY3QtZHAtY2FsLWRheVwiLCBkLmRhdGUoKS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50QXR0cmlidXRlKGVsLCBcInRhYmluZGV4XCIsIFwiLTFcIik7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKGVsLCBcImN0LWRwLWNhbC1kYXlcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmICgoZGF0ZVRvICYmIGQuaXNTYW1lKGRhdGVUbywgXCJkYXlcIikpIHx8IChkYXRlRnJvbSAmJiBkLmlzU2FtZShkYXRlRnJvbSwgXCJkYXlcIikpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRDbGFzcyhlbCwgXCJhY3RpdmVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRhdGVGcm9tICYmIGRhdGVUbyAmJiBkLmlzQmV0d2VlbihkYXRlRnJvbSwgZGF0ZVRvKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50Q2xhc3MoZWwsIFwiYmV0d2VlblwiLCB0cnVlKTsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5saXN0ZW4oZWwsIFwiY2xpY2tcIiwgY2xpY2tDYWxsYmFjayhkKSk7XHJcbiAgICAgICAgICAgIGQuZGF0ZShkLmRhdGUoKSArIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEuL3NyYy9jYWxlbmRhci1ncmlkL2NhbGVuZGFyLWdyaWQuY29tcG9uZW50LnRzIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzEwX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJqcXVlcnlcIlxuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIlwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY2FsZW5kYXItZ3JpZC9jYWxlbmRhci1ncmlkLmNvbXBvbmVudC5sZXNzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwiY3QtZHAtY2FsXFxcIiBbbmdDbGFzc109XFxcInsnaGlkZGVuJzogbW9kZSAhPSBDYWxlbmRhck1vZGUuQ2FsZW5kYXJ9XFxcIj5cXHJcXG4gICAgPGN0LWNhbGVuZGFyLWdyaWQ+PC9jdC1jYWxlbmRhci1ncmlkPlxcclxcbjwvZGl2PlxcclxcbjxkaXYgY2xhc3M9XFxcImN0LWRwLW1vbnRoc1xcXCIgW25nQ2xhc3NdPVxcXCJ7J2hpZGRlbic6IG1vZGUgIT0gQ2FsZW5kYXJNb2RlLk1vbnRofVxcXCI+XFxyXFxuICAgIDx0ZW1wbGF0ZSBuZ0ZvciBsZXQtaXRlbSBbbmdGb3JPZl09XFxcIm1vbnRoc1xcXCIgW25nRm9yVHJhY2tCeV09XFxcIm15VHJhY2tCeVxcXCIgbGV0LWk9XFxcImluZGV4XFxcIj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0biBjdC1kcC1tb250aFxcXCIgKGNsaWNrKT1cXFwic2V0TW9udGgoaSlcXFwiPnt7aXRlbX19PC9idXR0b24+XFxyXFxuICAgIDwvdGVtcGxhdGU+XFxyXFxuPC9kaXY+XFxyXFxuPGRpdiBjbGFzcz1cXFwiY3QtZHAteWVhcnNcXFwiIFtuZ0NsYXNzXT1cXFwieydoaWRkZW4nOiBtb2RlICE9IENhbGVuZGFyTW9kZS5ZZWFyfVxcXCI+XFxyXFxuICAgIDx0ZW1wbGF0ZSBuZ0ZvciBsZXQtaXRlbSBbbmdGb3JPZl09XFxcInllYXJzXFxcIiBbbmdGb3JUcmFja0J5XT1cXFwibXlUcmFja0J5XFxcIiBsZXQtaT1cXFwiaW5kZXhcXFwiPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuIGN0LWRwLXllYXJcXFwiIChjbGljayk9XFxcInNldFllYXIoaXRlbSlcXFwiPnt7aXRlbX19PC9idXR0b24+XFxyXFxuICAgIDwvdGVtcGxhdGU+XFxyXFxuPC9kaXY+XCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY2FsZW5kYXIvY2FsZW5kYXIuY29tcG9uZW50Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7XHJcbiAgQ29tcG9uZW50LCBmb3J3YXJkUmVmLCBPbkNoYW5nZXMsIEFmdGVyVmlld0luaXQsXHJcbiAgT25EZXN0cm95LCBDb250ZW50Q2hpbGQsIEVsZW1lbnRSZWYsIE9uSW5pdCwgUmVuZGVyZXIsIFZpZXdFbmNhcHN1bGF0aW9uLFxyXG4gIElucHV0LCBWaWV3Q2hpbGQsIFF1ZXJ5TGlzdCwgT3V0cHV0LCBFdmVudEVtaXR0ZXJcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0ICogYXMgbW9tZW50IGZyb20gJ21vbWVudCc7XHJcbmltcG9ydCB7IENhbGVuZGFyQ29tcG9uZW50IH0gZnJvbSAnLi4vY2FsZW5kYXIvY2FsZW5kYXIuY29tcG9uZW50JztcclxuaW1wb3J0IHsgQ2FsZW5kYXJNb2RlIH0gZnJvbSAnLi4vY29tbW9uL2NhbGVuZGFyLW1vZGUnO1xyXG5pbXBvcnQgKiBhcyAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCB7IEZvcm1Db250cm9sLCBDb250cm9sVmFsdWVBY2Nlc3NvciwgTkdfVkFMVUVfQUNDRVNTT1IsIE5HX1ZBTElEQVRPUlMgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGF0ZVBpY2tlckJhc2UgaW1wbGVtZW50cyBDb250cm9sVmFsdWVBY2Nlc3NvciB7XHJcbiAgLyoqIEVudW0gQWNjZXNzb3JzIGZvciBIVE1MICovXHJcbiAgcHVibGljIENhbGVuZGFyTW9kZSA9IENhbGVuZGFyTW9kZTtcclxuXHJcbiAgLyoqIFZhbGlkYXRpb24gRnVuY3Rpb25zICovXHJcbiAgcHJvcGFnYXRlQ2hhbmdlOiBhbnkgPSAoKSA9PiB7IH07XHJcbiAgcHJvcGFnYXRlVG91Y2hlZDogYW55ID0gKCkgPT4geyB9O1xyXG4gIHZhbGlkYXRlRm46IGFueSA9ICgpID0+IHsgfTtcclxuXHJcbiAgc2hhZG93WkluZGV4OiBudW1iZXIgPSAxMDA7XHJcbiAgekluZGV4VmFsOiBudW1iZXIgPSAxMDE7XHJcbiAgQElucHV0KCd6SW5kZXgnKSBzZXQgekluZGV4KHZhbDogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnNoYWRvd1pJbmRleCA9IHZhbDtcclxuICAgIHRoaXMuekluZGV4VmFsID0gdmFsICsgMS4wO1xyXG4gIH1cclxuXHJcbiAgbWluRGF0ZVZhbDogbW9tZW50Lk1vbWVudCA9IG51bGw7XHJcbiAgbWF4RGF0ZVZhbDogbW9tZW50Lk1vbWVudCA9IG51bGw7XHJcbiAgQElucHV0KCdtaW5EYXRlJykgc2V0IG1pbkRhdGUodmFsOiBhbnkpIHtcclxuICAgIGxldCBkID0gbW9tZW50KHZhbCk7XHJcbiAgICBpZiAoZC5pc1ZhbGlkKCkpIHtcclxuICAgICAgdGhpcy5taW5EYXRlVmFsID0gbW9tZW50KHZhbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5taW5EYXRlVmFsID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcbiAgQElucHV0KCdtYXhEYXRlJykgc2V0IG1heERhdGUodmFsOiBhbnkpIHtcclxuICAgIGxldCBkID0gbW9tZW50KHZhbCk7XHJcbiAgICBpZiAoZC5pc1ZhbGlkKCkpIHtcclxuICAgICAgdGhpcy5tYXhEYXRlVmFsID0gbW9tZW50KHZhbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5tYXhEYXRlVmFsID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyByZWdpc3Rlck9uQ2hhbmdlKGZuKSB7XHJcbiAgICB0aGlzLnByb3BhZ2F0ZUNoYW5nZSA9IGZuO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJlZ2lzdGVyT25Ub3VjaGVkKGZuKSB7XHJcbiAgICB0aGlzLnByb3BhZ2F0ZVRvdWNoZWQgPSBmbjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhYnN0cmFjdCB3cml0ZVZhbHVlKHZhbHVlOiBhbnkpO1xyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9zcmMvY29tbW9uL2RhdGVwaWNrZXItYmFzZS50cyIsIm1vZHVsZS5leHBvcnRzID0gXCI8bmctY29udGVudD48L25nLWNvbnRlbnQ+XFxyXFxuPGRpdiBjbGFzcz1cXFwiY3QtZHAtc2hhZG93LWJveFxcXCIgKGNsaWNrKT1cXFwiY2hhbmdlR2xvYmFsTW9kZShEYXRlUGlja2VyTW9kZS5IaWRkZW4pXFxcIiAqbmdJZj1cXFwibW9kZSAhPSBEYXRlUGlja2VyTW9kZS5IaWRkZW5cXFwiIFtzdHlsZS56LWluZGV4XT1cXFwic2hhZG93WkluZGV4XFxcIj5cXHJcXG48L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVxcXCJjdC1kcC1waWNrZXJcXFwiIFtjbGFzcy5oaWRkZW5dPVxcXCJtb2RlID09IERhdGVQaWNrZXJNb2RlLkhpZGRlblxcXCIgW3N0eWxlLnotaW5kZXhdPVxcXCJ6SW5kZXhWYWxcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjdC1kcC1jYXJldC0xXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY3QtZHAtY2FyZXQtMlxcXCI+PC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImN0LWRwLWhlYWRlclxcXCI+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4tcHJldiAgY3QtZHAtYnRuXFxcIiAoY2xpY2spPVxcXCJnb1ByZXYoKVxcXCIgW2Rpc2FibGVkXT1cXFwiY2FsLm1vZGUgPT0gQ2FsZW5kYXJNb2RlLk1vbnRoXFxcIj4mbHQ7PC9idXR0b24+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4tbW9udGggY3QtZHAtYnRuXFxcIiAoY2xpY2spPVxcXCJjaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5Nb250aClcXFwiPnt7Y2FsLmRhdGUuZm9ybWF0KFxcXCJNTU1NXFxcIil9fTwvYnV0dG9uPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLXllYXIgIGN0LWRwLWJ0blxcXCIgKGNsaWNrKT1cXFwiY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuWWVhcilcXFwiPnt7Y2FsLmRhdGUuZm9ybWF0KFxcXCJZWVlZXFxcIil9fTwvYnV0dG9uPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLW5leHQgIGN0LWRwLWJ0blxcXCIgKGNsaWNrKT1cXFwiZ29OZXh0KClcXFwiIFtkaXNhYmxlZF09XFxcImNhbC5tb2RlID09IENhbGVuZGFyTW9kZS5Nb250aFxcXCI+Jmd0OzwvYnV0dG9uPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGN0LWNhbGVuZGFyPjwvY3QtY2FsZW5kYXI+XFxyXFxuPC9kaXY+XCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmNvbXBvbmVudC5odG1sXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiLmN0LWRwLWFjdGl2ZSBpbnB1dHtwb3NpdGlvbjpyZWxhdGl2ZX0uY3QtZHAtc2hhZG93LWJveHtwb3NpdGlvbjpmaXhlZDt0b3A6MDtyaWdodDowO2JvdHRvbTowO2xlZnQ6MDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS5jdC1kcC1waWNrZXJ7d2lkdGg6MjIwcHg7Ym9yZGVyOjFweCBzb2xpZCAjODA4MDgwO2JveC1zaXppbmc6Y29udGVudC1ib3g7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjp3aGl0ZTttYXJnaW4tdG9wOjE0cHg7dHJhbnNpdGlvbjouNXN9LmN0LWRwLXBpY2tlci5jdC1kcC1kdWFscGlja2Vye3dpZHRoOjQ0MHB4fS5jdC1kcC1waWNrZXIuY3QtZHAtcGlja2VyLXRve21hcmdpbi1sZWZ0OjE1cHh9LmN0LWRwLWNhcmV0LTIsLmN0LWRwLWNhcmV0LTF7Ym90dG9tOjEwMCU7bGVmdDoxMCU7Ym9yZGVyOnNvbGlkIHRyYW5zcGFyZW50O2hlaWdodDowO3dpZHRoOjA7cG9zaXRpb246YWJzb2x1dGU7cG9pbnRlci1ldmVudHM6bm9uZTt0cmFuc2l0aW9uOi41c30uY3QtZHAtY2FyZXQtMntib3JkZXItY29sb3I6cmdiYSgxMzYsMTgzLDIxMywwKTtib3JkZXItYm90dG9tLWNvbG9yOndoaXRlO2JvcmRlci13aWR0aDoxNHB4O21hcmdpbi1sZWZ0Oi0xNHB4fS5jdC1kcC1jYXJldC0xe2JvcmRlci1jb2xvcjpyZ2JhKDE5NCwyMjUsMjQ1LDApO2JvcmRlci1ib3R0b20tY29sb3I6IzgwODA4MDtib3JkZXItd2lkdGg6MTZweDttYXJnaW4tbGVmdDotMTZweH0uY3QtZHAtaGVhZGVye2JvcmRlci1ib3R0b206MXB4IHNvbGlkICM4MDgwODB9LmN0LWRwLWNhbHtwYWRkaW5nOjVweDt3aWR0aDoyMjBweDtmbG9hdDpsZWZ0fS5jdC1kcC1jYWwtaW5hY3RpdmV7dmlzaWJpbGl0eTpoaWRkZW59LmN0LWRwLWNhbC1oZWFkZXJ7Y29sb3I6IzgwODA4MH0uY3QtZHAtY2FsLWRheXt3aWR0aDozMHB4O2hlaWdodDozMHB4O2Zsb2F0OmxlZnQ7dGV4dC1hbGlnbjpjZW50ZXJ9LmN0LWRwLWNhbC1kYXk6ZGlzYWJsZWR7Y29sb3I6I2JmYmZiZn0uY3QtZHAtY2FsLWRheS5hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjpsaWdodGJsdWV9LmN0LWRwLWNhbC1kYXkuYmV0d2VlbntiYWNrZ3JvdW5kLWNvbG9yOmxpZ2h0Z3JheX0uY3QtZHAtbW9udGhzLC5jdC1kcC15ZWFyc3t3aWR0aDoyMjBweDtmbG9hdDpsZWZ0O3BhZGRpbmc6NXB4fS5jdC1kcC1tb250aCwuY3QtZHAteWVhcnt3aWR0aDozMy4zMyU7ZmxvYXQ6bGVmdDt0ZXh0LWFsaWduOmNlbnRlcn0uY3QtZHAtYnRue3BhZGRpbmc6NHB4O2JhY2tncm91bmQtY29sb3I6d2hpdGU7Ym9yZGVyOm5vbmV9LmN0LWRwLWJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiM5OTl9LmN0LWRwLWJ0bltkaXNhYmxlZF06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp3aGl0ZX0uY3QtZHAtYnRuW2Rpc2FibGVkXXtjb2xvcjp3aGl0ZX0uY3QtZHAtcGlja2VyIC5jdC1kcC1idG4tcHJldiwuY3QtZHAtcGlja2VyIC5jdC1kcC1idG4tbmV4dHt3aWR0aDoxMCV9LmN0LWRwLXBpY2tlciAuY3QtZHAtYnRuLW1vbnRoe3dpZHRoOjUwJTtmb250LXdlaWdodDo1MDB9LmN0LWRwLXBpY2tlciAuY3QtZHAtYnRuLXllYXJ7d2lkdGg6MzAlO2ZvbnQtd2VpZ2h0OjUwMH0uY3QtZHAtcGlja2VyLmN0LWRwLWR1YWxwaWNrZXIgLmN0LWRwLWJ0bi1wcmV2LC5jdC1kcC1waWNrZXIuY3QtZHAtZHVhbHBpY2tlciAuY3QtZHAtYnRuLW5leHR7d2lkdGg6NSV9LmN0LWRwLXBpY2tlci5jdC1kcC1kdWFscGlja2VyIC5jdC1kcC1idG4tbW9udGh7d2lkdGg6MjUlfS5jdC1kcC1waWNrZXIuY3QtZHAtZHVhbHBpY2tlciAuY3QtZHAtYnRuLXllYXJ7d2lkdGg6MTUlfS5jbGVhcmZpeCwuY3QtZHAtY2FsOmFmdGVyLC5jdC1kcC1tb250aHM6YWZ0ZXIsLmN0LWRwLXllYXJzOmFmdGVye3Zpc2liaWxpdHk6aGlkZGVuO2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjA7Y29udGVudDpcXFwiIFxcXCI7Y2xlYXI6Ym90aDtoZWlnaHQ6MH0ubm8tYnV0dG9uLC5jdC1kcC1jYWwtZGF5e2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmUgIWltcG9ydGFudH0ucHVsbC1yaWdodHtmbG9hdDpyaWdodH0uaGlkZGVue2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fVwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tbW9uL2NvbW1vbi5sZXNzXG4vLyBtb2R1bGUgaWQgPSAxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQge1xyXG4gICAgQ29tcG9uZW50LCBmb3J3YXJkUmVmLCBPbkNoYW5nZXMsIEFmdGVyVmlld0luaXQsXHJcbiAgICBPbkRlc3Ryb3ksIENvbnRlbnRDaGlsZCwgRWxlbWVudFJlZiwgT25Jbml0LCBSZW5kZXJlciwgVmlld0VuY2Fwc3VsYXRpb24sXHJcbiAgICBJbnB1dCwgVmlld0NoaWxkLCBRdWVyeUxpc3QsIE91dHB1dCwgRXZlbnRFbWl0dGVyXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCAqIGFzIG1vbWVudCBmcm9tICdtb21lbnQnO1xyXG5pbXBvcnQgKiBhcyAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCB7IENhbGVuZGFyQ29tcG9uZW50IH0gZnJvbSAnLi4vY2FsZW5kYXIvY2FsZW5kYXIuY29tcG9uZW50JztcclxuaW1wb3J0IHsgQ2FsZW5kYXJNb2RlIH0gZnJvbSAnLi4vY29tbW9uL2NhbGVuZGFyLW1vZGUnO1xyXG5pbXBvcnQgeyBGb3JtQ29udHJvbCwgQ29udHJvbFZhbHVlQWNjZXNzb3IsIE5HX1ZBTFVFX0FDQ0VTU09SLCBOR19WQUxJREFUT1JTIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBEYXRlUGlja2VyQmFzZSB9IGZyb20gJy4uL2NvbW1vbi9kYXRlcGlja2VyLWJhc2UnO1xyXG5cclxuLyoqIFxyXG4gKiBEZWZpbmVzIHRoZSBtb2RlIG9mIHRoZSBwaWNrZXJcclxuICovXHJcbmV4cG9ydCBlbnVtIER1YWxQaWNrZXJNb2RlIHtcclxuICAgIC8qKiBBbGxvd3Mgc2VsZWN0aW9uIG9mIHRoZSB0byBkYXRlLiAqL1xyXG4gICAgVG8sXHJcbiAgICAvKiogQWxsb3dzIHNlbGVjdGlvbiBvZiB0aGUgZnJvbSBkYXRlLiAqL1xyXG4gICAgRnJvbSxcclxuICAgIC8qKiBNYWtlcyB0aGUgcGlja2VyIGhpZGRlbiwgZGVmYXVsdCBzdGF0ZS4gKi9cclxuICAgIEhpZGRlblxyXG59XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAnY3QtZHVhbC1waWNrZXInLFxyXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vZHVhbHBpY2tlci5jb21wb25lbnQuaHRtbCcpLFxyXG4gICAgc3R5bGVzOiBbcmVxdWlyZSgnLi9kdWFscGlja2VyLmNvbXBvbmVudC5sZXNzJyksIHJlcXVpcmUoJy4uL2NvbW1vbi9jb21tb24ubGVzcycpXSxcclxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgICBwcm92aWRlcnM6IFtcclxuICAgICAgICB7IHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBEdWFsUGlja2VyQ29tcG9uZW50KSwgbXVsdGk6IHRydWUgfSxcclxuICAgICAgICB7IHByb3ZpZGU6IE5HX1ZBTElEQVRPUlMsIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IER1YWxQaWNrZXJDb21wb25lbnQpLCBtdWx0aTogdHJ1ZSB9XHJcbiAgICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBEdWFsUGlja2VyQ29tcG9uZW50IGV4dGVuZHMgRGF0ZVBpY2tlckJhc2UgaW1wbGVtZW50cyBDb250cm9sVmFsdWVBY2Nlc3NvciwgT25DaGFuZ2VzIHtcclxuICAgIC8vRW51bSBkZWZpbml0aW9ucyBmb3IgYWNjZXNzIGluIHZpZXdcclxuICAgIHB1YmxpYyBDYWxlbmRhck1vZGUgPSBDYWxlbmRhck1vZGU7XHJcbiAgICBwdWJsaWMgRHVhbFBpY2tlck1vZGUgPSBEdWFsUGlja2VyTW9kZTtcclxuXHJcbiAgICAvKiogRGF0ZSBmcm9tIChiaW5kaW5nIHZhbHVlKSAqL1xyXG4gICAgcHJpdmF0ZSBkYXRlRnJvbVZhbHVlOiBtb21lbnQuTW9tZW50O1xyXG4gICAgLyoqIERhdGUgdG8gKGJpbmRpbmcgdmFsdWUpICovXHJcbiAgICBwcml2YXRlIGRhdGVUb1ZhbHVlOiBtb21lbnQuTW9tZW50O1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGNoYW5nZSAoZnJvbSkqL1xyXG4gICAgQE91dHB1dCgpIGRhdGVGcm9tQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGNoYW5nZSAodG8pICovXHJcbiAgICBAT3V0cHV0KCkgZGF0ZVRvQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgLyoqIElucHV0IGRlZmluaXRpb24gZm9yIChmcm9tKSAqL1xyXG4gICAgQElucHV0KClcclxuICAgIGdldCBkYXRlRnJvbSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRlRnJvbVZhbHVlO1xyXG4gICAgfVxyXG4gICAgc2V0IGRhdGVGcm9tKHZhbCkge1xyXG4gICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBtb21lbnQgJiYgdmFsLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0RnJvbS5uYXRpdmVFbGVtZW50LnZhbHVlID0gdmFsLmZvcm1hdChcIk1NL0REL1lZWVlcIik7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZUZyb21WYWx1ZSA9IHZhbDtcclxuICAgICAgICAgICAgdGhpcy5kYXRlRnJvbUNoYW5nZS5lbWl0KHZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvcGFnYXRlQ2hhbmdlKHsgZGF0ZUZyb206IHRoaXMuZGF0ZUZyb20sIGRhdGVUbzogdGhpcy5kYXRlVG8gfSk7ICAgICAgICBcclxuICAgIH1cclxuICAgIC8qKiBJbnB1dCBkZWZpbml0aW9uIGZvciAodG8pICovXHJcbiAgICBASW5wdXQoKVxyXG4gICAgZ2V0IGRhdGVUbygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRlVG9WYWx1ZTtcclxuICAgIH1cclxuICAgIHNldCBkYXRlVG8odmFsKSB7XHJcbiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIG1vbWVudCAmJiB2YWwuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRUby5uYXRpdmVFbGVtZW50LnZhbHVlID0gdmFsLmZvcm1hdChcIk1NL0REL1lZWVlcIik7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZVRvVmFsdWUgPSB2YWw7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZVRvQ2hhbmdlLmVtaXQodmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcm9wYWdhdGVDaGFuZ2UoeyBkYXRlRnJvbTogdGhpcy5kYXRlRnJvbSwgZGF0ZVRvOiB0aGlzLmRhdGVUbyB9KTsgICAgICAgICAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqIENhbDEgdmlldyBjaGlsZCBjb21wb25lbnQsIHVzZSB0byBjb250cm9sIHJlbmRlcmluZyAqL1xyXG4gICAgQENvbnRlbnRDaGlsZCgnZGF0ZVRvJywgQ2FsZW5kYXJDb21wb25lbnQpIHB1YmxpYyBpbnB1dFRvOiBFbGVtZW50UmVmO1xyXG4gICAgLyoqIENhbDIgdmlldyBjaGlsZCBjb21wb25lbnQsIHVzZSB0byBjb250cm9sIHJlbmRlcmluZyAqL1xyXG4gICAgQENvbnRlbnRDaGlsZCgnZGF0ZUZyb20nLCBDYWxlbmRhckNvbXBvbmVudCkgcHVibGljIGlucHV0RnJvbTogRWxlbWVudFJlZjtcclxuXHJcbiAgICAvKiogQ2FsMSB2aWV3IGNoaWxkIGNvbXBvbmVudCwgdXNlIHRvIGNvbnRyb2wgcmVuZGVyaW5nICovXHJcbiAgICBAVmlld0NoaWxkKCdjYWwxJywgQ2FsZW5kYXJDb21wb25lbnQpIHB1YmxpYyBjYWwxOiBDYWxlbmRhckNvbXBvbmVudDtcclxuICAgIC8qKiBDYWwyIHZpZXcgY2hpbGQgY29tcG9uZW50LCB1c2UgdG8gY29udHJvbCByZW5kZXJpbmcgKi9cclxuICAgIEBWaWV3Q2hpbGQoJ2NhbDInLCBDYWxlbmRhckNvbXBvbmVudCkgcHVibGljIGNhbDI6IENhbGVuZGFyQ29tcG9uZW50O1xyXG4gICAgLyoqIE1vZGUgKi9cclxuICAgIHB1YmxpYyBtb2RlOiBEdWFsUGlja2VyTW9kZSA9IER1YWxQaWNrZXJNb2RlLkhpZGRlbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15RWxlbWVudDogRWxlbWVudFJlZikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGFuZ2VzIHRoZSBnbG9iYWwgbW9kZSBvZiB0aGUgcGlja2VyIChub3QgdGhlIG1vZGUgb2YgdGhlIGNhbGVuZGFyKVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHRpbWVySWQgPSBudWxsO1xyXG4gICAgcHVibGljIGNoYW5nZUdsb2JhbE1vZGUobW9kZTogRHVhbFBpY2tlck1vZGUsIGRlbGF5OiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAodGhpcy50aW1lcklkICE9IG51bGwpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkZWxheSkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVySWQgPSBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5jaGFuZ2VHbG9iYWxNb2RlRm4obW9kZSkgfSwgNDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZUdsb2JhbE1vZGVGbihtb2RlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGFuZ2VHbG9iYWxNb2RlRm4obW9kZTogRHVhbFBpY2tlck1vZGUpIHtcclxuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRHVhbFBpY2tlck1vZGUuVG86XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGwgPSAkKHRoaXMuaW5wdXRUby5uYXRpdmVFbGVtZW50KS5wb3NpdGlvbigpLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpLmZpbmQoXCIuY3QtZHAtY2FyZXRcIikuY3NzKHsgXCJsZWZ0XCI6IGwgfSk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpLmFkZENsYXNzKFwiY3QtZHAtYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRHVhbFBpY2tlck1vZGUuRnJvbTpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGZyb20gPSAkKHRoaXMuaW5wdXRGcm9tLm5hdGl2ZUVsZW1lbnQpLnBvc2l0aW9uKCkubGVmdDtcclxuICAgICAgICAgICAgICAgICQodGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCkuZmluZChcIi5jdC1kcC1jYXJldFwiKS5jc3MoeyBcImxlZnRcIjogbGZyb20gfSk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpLmFkZENsYXNzKFwiY3QtZHAtYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRHVhbFBpY2tlck1vZGUuSGlkZGVuOlxyXG4gICAgICAgICAgICAgICAgJCh0aGlzLm15RWxlbWVudC5uYXRpdmVFbGVtZW50KS5yZW1vdmVDbGFzcyhcImN0LWRwLWFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLkNhbGVuZGFyLCB0aGlzLmNhbDEpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuQ2FsZW5kYXIsIHRoaXMuY2FsMik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRGF0ZUZyb21TdHJpbmdDaGFuZ2UodmFsKSB7XHJcbiAgICAgICAgbGV0IG0gPSBtb21lbnQobmV3IERhdGUodmFsKSk7XHJcbiAgICAgICAgaWYgKG0uaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZUZyb21WYWx1ZS5zZXQobS50b09iamVjdCgpKTtcclxuICAgICAgICAgICAgdGhpcy5jb3JyZWN0RGF0ZVRvKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsMS5kYXRlID0gdGhpcy5kYXRlRnJvbVZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLnNoaWZ0Q2FsMigpO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGVGcm9tQ2hhbmdlLmVtaXQodGhpcy5kYXRlRnJvbVZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25EYXRlVG9TdHJpbmdDaGFuZ2UodmFsKSB7XHJcbiAgICAgICAgbGV0IG0gPSBtb21lbnQobmV3IERhdGUodmFsKSk7XHJcbiAgICAgICAgaWYgKG0uaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZVRvVmFsdWUuc2V0KG0udG9PYmplY3QoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29ycmVjdERhdGVGcm9tKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsMi5kYXRlID0gdGhpcy5kYXRlVG9WYWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5zaGlmdENhbDEoKTtcclxuICAgICAgICAgICAgdGhpcy5kYXRlVG9DaGFuZ2UuZW1pdCh0aGlzLmRhdGVUb1ZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNoaWZ0Q2FsMSgpIHtcclxuICAgICAgICB0aGlzLmNhbDEuZGF0ZSA9IG1vbWVudCh0aGlzLmNhbDIuZGF0ZSk7XHJcbiAgICAgICAgdGhpcy5jYWwxLmRhdGUuc3VidHJhY3QoeyBcIm1vbnRoXCI6IDEgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzaGlmdENhbDIoKSB7XHJcbiAgICAgICAgdGhpcy5jYWwyLmRhdGUgPSBtb21lbnQodGhpcy5jYWwxLmRhdGUpO1xyXG4gICAgICAgIHRoaXMuY2FsMi5kYXRlLmFkZCh7IFwibW9udGhcIjogMSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmx1cihldmVudCkge1xyXG4gICAgICAgIGlmICgoZXZlbnQud2hpY2ggfHwgZXZlbnQua2V5Q29kZSkgPT0gOSkge1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZUdsb2JhbE1vZGUoRHVhbFBpY2tlck1vZGUuSGlkZGVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoYW5nZU1vZGUobW9kZTogQ2FsZW5kYXJNb2RlLCBjYWw6IENhbGVuZGFyQ29tcG9uZW50KSB7XHJcbiAgICAgICAgY2FsLmNoYW5nZU1vZGUobW9kZSk7XHJcbiAgICAgICAgc3dpdGNoIChtb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FsZW5kYXJNb2RlLkNhbGVuZGFyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnb1ByZXYoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FsMS5tb2RlID09IENhbGVuZGFyTW9kZS5DYWxlbmRhciAmJiB0aGlzLmNhbDIubW9kZSA9PSBDYWxlbmRhck1vZGUuQ2FsZW5kYXIpIHtcclxuICAgICAgICAgICAgdGhpcy5jYWwxLmRhdGUubW9udGgodGhpcy5jYWwxLmRhdGUubW9udGgoKSAtIDEpO1xyXG4gICAgICAgICAgICB0aGlzLnNoaWZ0Q2FsMigpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jYWwxLmdvUHJldigpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbDIuZ29QcmV2KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnb05leHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FsMS5tb2RlID09IENhbGVuZGFyTW9kZS5DYWxlbmRhciAmJiB0aGlzLmNhbDIubW9kZSA9PSBDYWxlbmRhck1vZGUuQ2FsZW5kYXIpIHtcclxuICAgICAgICAgICAgdGhpcy5jYWwxLmRhdGUubW9udGgodGhpcy5jYWwxLmRhdGUubW9udGgoKSArIDEpO1xyXG4gICAgICAgICAgICB0aGlzLnNoaWZ0Q2FsMigpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jYWwxLmdvTmV4dCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbDIuZ29OZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW9udGgxQ2hhbmdlTGlzdGVuZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zaGlmdENhbDIoKTtcclxuICAgICAgICB0aGlzLmNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLkNhbGVuZGFyLCB0aGlzLmNhbDEpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuQ2FsZW5kYXIsIHRoaXMuY2FsMik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtb250aDJDaGFuZ2VMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNoaWZ0Q2FsMSgpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuQ2FsZW5kYXIsIHRoaXMuY2FsMSk7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5DYWxlbmRhciwgdGhpcy5jYWwyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHllYXIxQ2hhbmdlTGlzdGVuZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zaGlmdENhbDIoKTtcclxuICAgICAgICB0aGlzLmNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLkNhbGVuZGFyLCB0aGlzLmNhbDEpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuQ2FsZW5kYXIsIHRoaXMuY2FsMik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB5ZWFyMkNoYW5nZUxpc3RlbmVyID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hpZnRDYWwxKCk7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5DYWxlbmRhciwgdGhpcy5jYWwxKTtcclxuICAgICAgICB0aGlzLmNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLkNhbGVuZGFyLCB0aGlzLmNhbDIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdG91Y2hlZCgpIHtcclxuICAgICAgICB0aGlzLnByb3BhZ2F0ZVRvdWNoZWQoeyBkYXRlRnJvbTogdGhpcy5kYXRlRnJvbSwgZGF0ZVRvOiB0aGlzLmRhdGVUbyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBuZ09uSW5pdCgpIHtcclxuICAgICAgICB0aGlzLmNhbDEuZGF0ZSA9IG1vbWVudCh0aGlzLmRhdGVGcm9tKTtcclxuICAgICAgICB0aGlzLnNoaWZ0Q2FsMigpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbDEuc3Vic2NyaWJlVG9DaGFuZ2VNb250aCh0aGlzLm1vbnRoMUNoYW5nZUxpc3RlbmVyKTtcclxuICAgICAgICB0aGlzLmNhbDIuc3Vic2NyaWJlVG9DaGFuZ2VNb250aCh0aGlzLm1vbnRoMkNoYW5nZUxpc3RlbmVyKTtcclxuICAgICAgICB0aGlzLmNhbDEuc3Vic2NyaWJlVG9DaGFuZ2VZZWFyKHRoaXMueWVhcjFDaGFuZ2VMaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5jYWwyLnN1YnNjcmliZVRvQ2hhbmdlWWVhcih0aGlzLnllYXIyQ2hhbmdlTGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcclxuICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRUby5uYXRpdmVFbGVtZW50LnN0eWxlWyd6LWluZGV4J10gPSB0aGlzLnpJbmRleFZhbDtcclxuICAgICAgICB0aGlzLmlucHV0RnJvbS5uYXRpdmVFbGVtZW50LnN0eWxlWyd6LWluZGV4J10gPSB0aGlzLnpJbmRleFZhbDtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dEZyb20ubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHsgdGhpcy5jaGFuZ2VHbG9iYWxNb2RlKER1YWxQaWNrZXJNb2RlLkZyb20pIH0pO1xyXG4gICAgICAgIHRoaXMuaW5wdXRUby5uYXRpdmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4geyB0aGlzLmNoYW5nZUdsb2JhbE1vZGUoRHVhbFBpY2tlck1vZGUuVG8pIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0RnJvbS5uYXRpdmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZXZlbnQpID0+IHsgdGhpcy5ibHVyKGV2ZW50KSB9KTtcclxuICAgICAgICB0aGlzLmlucHV0VG8ubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGV2ZW50KSA9PiB7IHRoaXMuYmx1cihldmVudCkgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRGcm9tLm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHsgdGhpcy5vbkRhdGVGcm9tU3RyaW5nQ2hhbmdlKHRoaXMuaW5wdXRGcm9tLm5hdGl2ZUVsZW1lbnQudmFsdWUpIH0pO1xyXG4gICAgICAgIHRoaXMuaW5wdXRUby5uYXRpdmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7IHRoaXMub25EYXRlVG9TdHJpbmdDaGFuZ2UodGhpcy5pbnB1dFRvLm5hdGl2ZUVsZW1lbnQudmFsdWUpIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25DaGFuZ2VzKGlucHV0cykge1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25EZXN0cm95KCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZVRvID0gdmFsdWUuZGF0ZVRvO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGVGcm9tID0gdmFsdWUuZGF0ZUZyb207XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhbGlkYXRlKGM6IEZvcm1Db250cm9sKSB7XHJcbiAgICAgICAgaWYgKCEoYy52YWx1ZS5kYXRlRnJvbSBpbnN0YW5jZW9mIG1vbWVudCkgfHwgIWMudmFsdWUuZGF0ZUZyb20uaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkludmFsaWQgRGF0ZVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5taW5EYXRlVmFsICYmIHRoaXMubWluRGF0ZVZhbC5pc0FmdGVyKGMudmFsdWUuZGF0ZUZyb20pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkRhdGUgY2Fubm90IGJlIGJlZm9yZSBcIiArIHRoaXMubWluRGF0ZVZhbC5mb3JtYXQoXCJtbS9ERC95eXl5XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5tYXhEYXRlVmFsICYmIHRoaXMubWF4RGF0ZVZhbC5pc0JlZm9yZShjLnZhbHVlLmRhdGVGcm9tKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJEYXRlIGNhbm5vdCBiZSBhZnRlciBcIiArIHRoaXMubWF4RGF0ZVZhbC5mb3JtYXQoXCJtbS9ERC95eXl5XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIShjLnZhbHVlLmRhdGVUbyBpbnN0YW5jZW9mIG1vbWVudCkgfHwgIWMudmFsdWUuZGF0ZVRvLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJJbnZhbGlkIERhdGVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubWluRGF0ZVZhbCAmJiB0aGlzLm1pbkRhdGVWYWwuaXNBZnRlcihjLnZhbHVlLmRhdGVUbykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiRGF0ZSBjYW5ub3QgYmUgYmVmb3JlIFwiICsgdGhpcy5taW5EYXRlVmFsLmZvcm1hdChcIm1tL0REL3l5eXlcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm1heERhdGVWYWwgJiYgdGhpcy5tYXhEYXRlVmFsLmlzQmVmb3JlKGMudmFsdWUuZGF0ZVRvKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJEYXRlIGNhbm5vdCBiZSBhZnRlciBcIiArIHRoaXMubWF4RGF0ZVZhbC5mb3JtYXQoXCJtbS9ERC95eXl5XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrRGF0ZSgpIHtcclxuICAgICAgICBpZiAoISh0aGlzLmRhdGVGcm9tIGluc3RhbmNlb2YgbW9tZW50KSB8fCAhdGhpcy5kYXRlRnJvbS5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRlRnJvbSA9IG1vbWVudCgpO1xyXG4gICAgICAgICAgICB0aGlzLnRvdWNoZWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyQ2FsZW5kYXIoKSB7XHJcbiAgICAgICAgdGhpcy5jYWwxLnJlbmRlckNhbGVuZGFyKHRoaXMuZGF0ZUNsaWNrTGlzdGVuZXIsIHRoaXMuZGF0ZVRvLCB0aGlzLmRhdGVGcm9tLCB0aGlzLm1pbkRhdGVWYWwsIHRoaXMubWF4RGF0ZVZhbCk7XHJcbiAgICAgICAgdGhpcy5jYWwyLnJlbmRlckNhbGVuZGFyKHRoaXMuZGF0ZUNsaWNrTGlzdGVuZXIsIHRoaXMuZGF0ZVRvLCB0aGlzLmRhdGVGcm9tLCB0aGlzLm1pbkRhdGVWYWwsIHRoaXMubWF4RGF0ZVZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgZGF0ZUNsaWNrTGlzdGVuZXIgPSAoZGF0ZTogbW9tZW50Lk1vbWVudCkgPT4ge1xyXG4gICAgICAgIGxldCBkID0gbW9tZW50KGRhdGUpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGF0ZShkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGF0ZShkYXRlOiBtb21lbnQuTW9tZW50KSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBEdWFsUGlja2VyTW9kZS5Gcm9tOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRlRnJvbSA9IGRhdGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvcnJlY3REYXRlVG8oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlR2xvYmFsTW9kZShEdWFsUGlja2VyTW9kZS5Ubyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBEdWFsUGlja2VyTW9kZS5UbzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0ZVRvID0gZGF0ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdERhdGVGcm9tKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUdsb2JhbE1vZGUoRHVhbFBpY2tlck1vZGUuSGlkZGVuLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRvdWNoZWQoKTtcclxuICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb3JyZWN0RGF0ZVRvKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGVUbyAmJiB0aGlzLmRhdGVGcm9tLmlzQWZ0ZXIodGhpcy5kYXRlVG8pKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZVRvID0gbW9tZW50KHRoaXMuZGF0ZUZyb20pO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGVUby5hZGQoeyBcImRheVwiOiAxIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvcnJlY3REYXRlRnJvbSgpIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRlRnJvbSAmJiB0aGlzLmRhdGVUby5pc0JlZm9yZSh0aGlzLmRhdGVGcm9tKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGVGcm9tID0gbW9tZW50KHRoaXMuZGF0ZVRvKTtcclxuICAgICAgICAgICAgdGhpcy5kYXRlRnJvbS5zdWJ0cmFjdCh7IFwiZGF5XCI6IDEgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vc3JjL2R1YWxwaWNrZXIvZHVhbHBpY2tlci5jb21wb25lbnQudHMiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxcclxcbjxkaXYgY2xhc3M9XFxcImN0LWRwLXNoYWRvdy1ib3hcXFwiIChjbGljayk9XFxcImNoYW5nZUdsb2JhbE1vZGUoRHVhbFBpY2tlck1vZGUuSGlkZGVuKVxcXCIgKm5nSWY9XFxcIm1vZGUgIT0gRHVhbFBpY2tlck1vZGUuSGlkZGVuXFxcIiBbc3R5bGUuei1pbmRleF09XFxcInNoYWRvd1pJbmRleFxcXCI+XFxyXFxuPC9kaXY+XFxyXFxuPGRpdiBjbGFzcz1cXFwiY3QtZHAtcGlja2VyIGN0LWRwLWR1YWxwaWNrZXJcXFwiIFtjbGFzcy5oaWRkZW5dPVxcXCJtb2RlID09IER1YWxQaWNrZXJNb2RlLkhpZGRlblxcXCIgW2NsYXNzLmN0LWRwLXBpY2tlci10b109XFxcIm1vZGUgPT0gRHVhbFBpY2tlck1vZGUuVG9cXFwiIFtzdHlsZS56LWluZGV4XT1cXFwiekluZGV4VmFsXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY3QtZHAtY2FyZXQgY3QtZHAtY2FyZXQtMVxcXCI+PC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImN0LWRwLWNhcmV0IGN0LWRwLWNhcmV0LTJcXFwiPjwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjdC1kcC1oZWFkZXJcXFwiPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLXByZXYgIGN0LWRwLWJ0blxcXCIgKGNsaWNrKT1cXFwiZ29QcmV2KClcXFwiIFtkaXNhYmxlZF09XFxcImNhbDEubW9kZSA9PSBDYWxlbmRhck1vZGUuTW9udGggfHwgY2FsMi5tb2RlID09IENhbGVuZGFyTW9kZS5Nb250aFxcXCI+Jmx0OzwvYnV0dG9uPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLW1vbnRoIGN0LWRwLWJ0blxcXCIgW2Rpc2FibGVkXT1cXFwiY2FsMi5tb2RlICE9IENhbGVuZGFyTW9kZS5DYWxlbmRhclxcXCIgKGNsaWNrKT1cXFwiY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuTW9udGgsIGNhbDEpXFxcIj57e2NhbDEuZGF0ZS5mb3JtYXQoXFxcIk1NTU1cXFwiKX19PC9idXR0b24+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4teWVhciAgY3QtZHAtYnRuXFxcIiBbZGlzYWJsZWRdPVxcXCJjYWwyLm1vZGUgIT0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyXFxcIiAoY2xpY2spPVxcXCJjaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5ZZWFyLCBjYWwxKVxcXCI+e3tjYWwxLmRhdGUuZm9ybWF0KFxcXCJZWVlZXFxcIil9fTwvYnV0dG9uPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLW5leHQgIGN0LWRwLWJ0blxcXCIgW2Rpc2FibGVkXT1cXFwidHJ1ZVxcXCI+PC9idXR0b24+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4tcHJldiAgY3QtZHAtYnRuXFxcIiBbZGlzYWJsZWRdPVxcXCJ0cnVlXFxcIj48L2J1dHRvbj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0bi1tb250aCBjdC1kcC1idG5cXFwiIFtkaXNhYmxlZF09XFxcImNhbDEubW9kZSAhPSBDYWxlbmRhck1vZGUuQ2FsZW5kYXJcXFwiIChjbGljayk9XFxcImNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLk1vbnRoLCBjYWwyKVxcXCI+e3tjYWwyLmRhdGUuZm9ybWF0KFxcXCJNTU1NXFxcIil9fTwvYnV0dG9uPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLXllYXIgIGN0LWRwLWJ0blxcXCIgW2Rpc2FibGVkXT1cXFwiY2FsMS5tb2RlICE9IENhbGVuZGFyTW9kZS5DYWxlbmRhclxcXCIgKGNsaWNrKT1cXFwiY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuWWVhciwgY2FsMilcXFwiPnt7Y2FsMi5kYXRlLmZvcm1hdChcXFwiWVlZWVxcXCIpfX08L2J1dHRvbj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0bi1uZXh0ICBjdC1kcC1idG5cXFwiIChjbGljayk9XFxcImdvTmV4dCgpXFxcIiBbZGlzYWJsZWRdPVxcXCJ0aGlzLmNhbDEubW9kZSA9PSBDYWxlbmRhck1vZGUuTW9udGggfHwgdGhpcy5jYWwyLm1vZGUgPT0gQ2FsZW5kYXJNb2RlLk1vbnRoXFxcIj4mZ3Q7PC9idXR0b24+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8Y3QtY2FsZW5kYXIgI2NhbDEgW25nQ2xhc3NdPVxcXCJ7J2N0LWRwLWNhbC1pbmFjdGl2ZSc6IGNhbDIubW9kZSAhPSBDYWxlbmRhck1vZGUuQ2FsZW5kYXJ9XFxcIj48L2N0LWNhbGVuZGFyPlxcclxcbiAgICA8Y3QtY2FsZW5kYXIgI2NhbDIgW25nQ2xhc3NdPVxcXCJ7J2N0LWRwLWNhbC1pbmFjdGl2ZSc6IGNhbDEubW9kZSAhPSBDYWxlbmRhck1vZGUuQ2FsZW5kYXJ9XFxcIj48L2N0LWNhbGVuZGFyPlxcclxcbjwvZGl2PlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2R1YWxwaWNrZXIvZHVhbHBpY2tlci5jb21wb25lbnQuaHRtbFxuLy8gbW9kdWxlIGlkID0gMTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==