!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("moment"),require("jquery"));else if("function"==typeof define&&define.amd)define(["@angular/core","@angular/common","@angular/forms","moment","jquery"],t);else{var n="object"==typeof exports?t(require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("moment"),require("jquery")):t(e["@angular/core"],e["@angular/common"],e["@angular/forms"],e.moment,e.jquery);for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(this,function(e,t,n,a,o){return function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var a=t[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,__webpack_require__),a.loaded=!0,a.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="/",__webpack_require__(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),a=e[t[0]];return function(e,t,o){a.apply(this,[e,t,o].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){"use strict";var a=n(1);t.DatePickerModule=a.DatePickerModule},function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(2),i=n(3),d=n(4),c=n(5),l=n(5),s=n(17),p=n(7),h=n(9),m=function(){function DatePickerModule(){}return DatePickerModule=a([r.NgModule({exports:[c.DatePickerComponent,s.DualPickerComponent,l.DatePickerInnerComponent],declarations:[l.DatePickerInnerComponent,c.DatePickerComponent,s.DualPickerComponent,p.CalendarComponent,h.CalendarGridComponent],imports:[i.CommonModule,d.FormsModule]}),o("design:paramtypes",[])],DatePickerModule)}();t.DatePickerModule=m},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(2),i=n(6),d=n(7),c=n(8);!function(e){e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden"}(t.DatePickerMode||(t.DatePickerMode={}));var l=t.DatePickerMode,s=function(){function DatePickerInnerComponent(e,t){var n=this;this.myElement=e,this.renderer=t,this.CalendarMode=c.CalendarMode,this.DatePickerMode=l,this.disabled=!1,this.mode=l.Hidden,this.dateClickListener=function(e){var t=i(e);return function(){n.setDate(t)}},this.monthChangeListener=function(){n.changeMode(c.CalendarMode.Calendar)},this.yearChangeListener=function(){n.changeMode(c.CalendarMode.Calendar)}}return DatePickerInnerComponent.prototype.changeGlobalMode=function(e){switch(this.mode=e,this.mode){case l.Visible:this.changeMode(c.CalendarMode.Calendar)}},DatePickerInnerComponent.prototype.blur=function(e){9==(e.which||e.keyCode)&&this.changeGlobalMode(l.Hidden)},DatePickerInnerComponent.prototype.changeMode=function(e){switch(this.cal.changeMode(e),e){case c.CalendarMode.Calendar:this.renderCalendar()}},DatePickerInnerComponent.prototype.goPrev=function(){this.cal.mode==c.CalendarMode.Calendar?(this.cal.date.month(this.cal.date.month()-1),this.renderCalendar()):this.cal.goPrev()},DatePickerInnerComponent.prototype.goNext=function(){this.cal.mode==c.CalendarMode.Calendar?(this.cal.date.month(this.cal.date.month()+1),this.renderCalendar()):this.cal.goNext()},DatePickerInnerComponent.prototype.ngOnInit=function(){this.parent.date instanceof i&&this.parent.date.isValid()?this.cal.date=i(this.parent.date):this.cal.date=i(),this.cal.subscribeToChangeMonth(this.monthChangeListener),this.cal.subscribeToChangeYear(this.yearChangeListener)},DatePickerInnerComponent.prototype.ngAfterViewInit=function(){this.renderCalendar()},DatePickerInnerComponent.prototype.ngOnDestroy=function(){},DatePickerInnerComponent.prototype.renderCalendar=function(){this.cal.renderCalendar(this.dateClickListener,this.parent.date,this.parent.date)},DatePickerInnerComponent.prototype.setDate=function(e){switch(this.mode){case l.Visible:this.parent.dateChange.emit(e),this.parent.dateValue=e,this.changeGlobalMode(l.Hidden)}this.renderCalendar()},DatePickerInnerComponent.prototype.onDateStringChange=function(e){var t=i(new Date(e));this.parent.dateValue.set(t.toObject()),this.parent.dateChange.emit(this.parent.dateValue),t.isValid()?this.cal.date=this.parent.dateValue:this.cal.date=i(),this.renderCalendar()},a([r.Input("ctDisabled"),o("design:type",Boolean)],DatePickerInnerComponent.prototype,"disabled",void 0),a([r.Input(),o("design:type",Object)],DatePickerInnerComponent.prototype,"inputClass",void 0),a([r.ViewChild(d.CalendarComponent),o("design:type","function"==typeof(e="undefined"!=typeof d.CalendarComponent&&d.CalendarComponent)&&e||Object)],DatePickerInnerComponent.prototype,"cal",void 0),DatePickerInnerComponent=a([r.Component({selector:"ct-datepicker-inner",template:n(14),styles:[n(15),n(16)],encapsulation:r.ViewEncapsulation.None}),o("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.ElementRef&&r.ElementRef)&&t||Object,"function"==typeof(s="undefined"!=typeof r.Renderer&&r.Renderer)&&s||Object])],DatePickerInnerComponent);var e,t,s}();t.DatePickerInnerComponent=s;var p=function(){function DatePickerComponent(e,t,n){var a=this;this.element=e,this.viewContainer=t,this.componentFactoryResolver=n,this.dateChange=new r.EventEmitter,e.nativeElement.addEventListener("focus",function(e){a.datePickerInnerComponent.changeGlobalMode(l.Visible)}),e.nativeElement.addEventListener("keydown",function(e){a.datePickerInnerComponent.blur(e)}),e.nativeElement.addEventListener("keyup",function(t){a.datePickerInnerComponent.onDateStringChange(e.nativeElement.value)})}return Object.defineProperty(DatePickerComponent.prototype,"date",{get:function(){return this.dateValue},set:function(e){e instanceof i&&e.isValid()&&(this.element.nativeElement.value=e.format("MM/DD/YYYY"),this.dateValue=e,this.dateChange.emit(e))},enumerable:!0,configurable:!0}),DatePickerComponent.prototype.ngOnInit=function(){var e=this.componentFactoryResolver.resolveComponentFactory(s),t=this.viewContainer.createComponent(e);this.datePickerInnerComponent=t.instance,this.datePickerInnerComponent.parent=this},a([r.Output(),o("design:type",Object)],DatePickerComponent.prototype,"dateChange",void 0),a([r.Input(),o("design:type",Object)],DatePickerComponent.prototype,"date",null),DatePickerComponent=a([r.Component({selector:"input[ctDatepicker]",template:"",entryComponents:[s]}),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.ElementRef&&r.ElementRef)&&e||Object,"function"==typeof(t="undefined"!=typeof r.ViewContainerRef&&r.ViewContainerRef)&&t||Object,"function"==typeof(n="undefined"!=typeof r.ComponentFactoryResolver&&r.ComponentFactoryResolver)&&n||Object])],DatePickerComponent);var e,t,n}();t.DatePickerComponent=p},function(e,t){e.exports=a},function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(2),i=n(6),d=n(8),c=n(9),l=function(){function CalendarComponent(){this.CalendarMode=d.CalendarMode,this.mode=d.CalendarMode.Calendar,this.months=[],this.years=[],this.monthListeners=[],this.yearListeners=[],this.generateMonthData()}return Object.defineProperty(CalendarComponent.prototype,"yearData",{get:function(){return this.years},enumerable:!0,configurable:!0}),CalendarComponent.prototype.ngOnInit=function(){},CalendarComponent.prototype.ngOnDestroy=function(){},CalendarComponent.prototype.subscribeToChangeMonth=function(e){this.monthListeners.push(e)},CalendarComponent.prototype.subscribeToChangeYear=function(e){this.yearListeners.push(e)},CalendarComponent.prototype.changeMode=function(e){switch(this.mode=e,e){case d.CalendarMode.Year:this.generateYearData(this.date.year())}},CalendarComponent.prototype.generateMonthData=function(){var e=i(new Date);e.month(0);var t=i(new Date);for(t.month(0);e.year()===t.year();)this.months.push(t.format("MMM")),t.month(t.month()+1)},CalendarComponent.prototype.generateYearData=function(e){this.years=[];for(var t=e-CalendarComponent.halfNumYearsShown,n=0;n<CalendarComponent.numYearsShown;n++)this.years.push(t+n)},CalendarComponent.prototype.goPrev=function(){switch(this.mode){case d.CalendarMode.Calendar:break;case d.CalendarMode.Month:break;case d.CalendarMode.Year:this.generateYearData(this.years[CalendarComponent.halfNumYearsShown]-CalendarComponent.numYearsShown)}},CalendarComponent.prototype.goNext=function(){switch(this.mode){case d.CalendarMode.Calendar:break;case d.CalendarMode.Month:break;case d.CalendarMode.Year:this.generateYearData(this.years[CalendarComponent.halfNumYearsShown]+CalendarComponent.numYearsShown)}},CalendarComponent.prototype.renderCalendar=function(e,t,n){this.grid.renderCalendar(this.date,e,t,n)},CalendarComponent.prototype.setMonth=function(e){this.date.month(e);for(var t=0,n=this.monthListeners;t<n.length;t++){var a=n[t];a()}},CalendarComponent.prototype.setYear=function(e){this.date.year(e);for(var t=0,n=this.yearListeners;t<n.length;t++){var a=n[t];a()}},CalendarComponent.numYearsShown=15,CalendarComponent.halfNumYearsShown=Math.floor(CalendarComponent.numYearsShown/2),a([r.ViewChild(c.CalendarGridComponent),o("design:type","function"==typeof(e="undefined"!=typeof c.CalendarGridComponent&&c.CalendarGridComponent)&&e||Object)],CalendarComponent.prototype,"grid",void 0),CalendarComponent=a([r.Component({selector:"ct-calendar",template:n(12),styles:[n(13)],encapsulation:r.ViewEncapsulation.None}),o("design:paramtypes",[])],CalendarComponent);var e}();t.CalendarComponent=l},function(e,t){"use strict";!function(e){e[e.Calendar=0]="Calendar",e[e.Month=1]="Month",e[e.Year=2]="Year"}(t.CalendarMode||(t.CalendarMode={}));t.CalendarMode},function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(2),i=n(6),d=n(10),c=function(){function CalendarGridComponent(e,t){this.myElement=e,this.renderer=t}return CalendarGridComponent.prototype.ngOnInit=function(){},CalendarGridComponent.prototype.ngOnDestroy=function(){},CalendarGridComponent.prototype.renderCalendar=function(e,t,n,a){var o=i(e);o.date(1);for(var r=d("<div class='ct-dp-cal-header'></div>"),c=0;c<7;c++){o.day(c);var l=d("<div></div>");l.text(o.format("dd")),l.attr("ct-cal-dp-day",c.toString()),l.addClass("ct-dp-cal-day"),r.append(l)}o.date(1);for(var s=d("<div class='ct-dp-cal-body'></div>"),c=0;c<o.day();c++){var l=d("<div></div>");l.attr("ct-dp-cal-day",c.toString()),l.addClass("ct-dp-cal-day"),s.append(l)}for(;o.month()===e.month();){var l=d("<button></button>");l.text(o.date().toString()),l.attr("ct-dp-cal-day",o.date().toString()),l.attr("tabIndex","-1"),l.addClass("ct-dp-cal-day"),(n&&o.isSame(n,"day")||a&&o.isSame(a,"day"))&&l.addClass("active"),a&&n&&o.isBetween(a,n)&&l.addClass("between"),l.click(t(o)),o.date(o.date()+1),s.append(l)}d(this.myElement.nativeElement).empty(),r.appendTo(this.myElement.nativeElement),s.appendTo(this.myElement.nativeElement)},CalendarGridComponent.prototype.renderCalendarRenderer=function(e,t,n,a){var o=i(e.date);o.date(1),this.renderer.selectRootElement(this.myElement.nativeElement);var r=this.renderer.createElement(this.myElement.nativeElement,"div");this.renderer.setElementClass(r,".ct-dp-cal-header",!0);var d=this.renderer.createElement(this.myElement.nativeElement,"div");this.renderer.setElementClass(r,".ct-dp-cal-body",!0);for(var c=0;c<7;c++){o.day(c);var l=this.renderer.createElement(r,"div");this.renderer.setText(l,o.format("dd")),this.renderer.setElementAttribute(l,"ct-cal-dp-day",c.toString()),this.renderer.setElementClass(l,"ct-dp-cal-day",!0)}o.date(1);for(var c=0;c<o.day();c++){var l=this.renderer.createElement(d,"div");this.renderer.setElementAttribute(l,"ct-dp-cal-day",c.toString()),this.renderer.setElementClass(l,"ct-dp-cal-day",!0)}for(;o.month()===e.date.month();){var l=this.renderer.createElement(d,"button");this.renderer.setText(l,o.date().toString()),this.renderer.setElementAttribute(l,"ct-dp-cal-day",o.date().toString()),this.renderer.setElementAttribute(l,"tabindex","-1"),this.renderer.setElementClass(l,"ct-dp-cal-day",!0),(n&&o.isSame(n,"day")||a&&o.isSame(a,"day"))&&this.renderer.setElementClass(l,"active",!0),a&&n&&o.isBetween(a,n)&&this.renderer.setElementClass(l,"between",!0),this.renderer.listen(l,"click",t(o)),o.date(o.date()+1)}},CalendarGridComponent=a([r.Component({selector:"ct-calendar-grid",template:"",styles:[n(11)],encapsulation:r.ViewEncapsulation.None}),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.ElementRef&&r.ElementRef)&&e||Object,"function"==typeof(t="undefined"!=typeof r.Renderer&&r.Renderer)&&t||Object])],CalendarGridComponent);var e,t}();t.CalendarGridComponent=c},function(e,t){e.exports=o},function(e,t){e.exports=""},function(e,t){e.exports='<div class="ct-dp-cal" [ngClass]="{\'hidden\': mode != CalendarMode.Calendar}">\r\n    <ct-calendar-grid></ct-calendar-grid>\r\n</div>\r\n<div class="ct-dp-months" [ngClass]="{\'hidden\': mode != CalendarMode.Month}">\r\n    <template ngFor let-item [ngForOf]="months" [ngForTrackBy]="myTrackBy" let-i="index"><!--\r\n        --><button tabindex="-1" class="ct-dp-btn ct-dp-month" (click)="setMonth(i)">{{item}}</button>\r\n    </template>\r\n</div>\r\n<div class="ct-dp-years" [ngClass]="{\'hidden\': mode != CalendarMode.Year}">\r\n    <template ngFor let-item [ngForOf]="years" [ngForTrackBy]="myTrackBy" let-i="index"><!--\r\n        --><button tabindex="-1" class="ct-dp-btn ct-dp-year" (click)="setYear(item)">{{item}}</button>\r\n    </template>\r\n</div>'},11,function(e,t){e.exports='<!--<input \r\n    class="ct-dp-input" \r\n    type="text" \r\n    (focus)="changeGlobalMode(DatePickerMode.Visible)"\r\n    (keydown)="blur($event)" \r\n    [ngModel]="dateString"\r\n    (ngModelChange)="onDateStringChange($event)"\r\n    [disabled]="disabled"\r\n    [class.active]="mode !== DatePickerMode.Hidden"\r\n    [ngClass]="inputClass"\r\n    tabindex="0"\r\n    autocomplete="off"\r\n/>-->\r\n<div class="ct-dp-shadow-box" (click)="changeGlobalMode(DatePickerMode.Hidden)" *ngIf="mode != DatePickerMode.Hidden">\r\n</div>\r\n<div class="ct-dp-picker" [class.hidden]="mode == DatePickerMode.Hidden" caret-left="10%">\r\n    <div class="ct-dp-caret-1"></div>\r\n    <div class="ct-dp-caret-2"></div>\r\n    <div class="ct-dp-header"><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-prev  ct-dp-btn" (click)="goPrev()" [disabled]="cal.mode == CalendarMode.Month">&lt;</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-month ct-dp-btn" (click)="changeMode(CalendarMode.Month)">{{cal.date.format("MMMM")}}</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-year  ct-dp-btn" (click)="changeMode(CalendarMode.Year)">{{cal.date.format("YYYY")}}</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-next  ct-dp-btn" (click)="goNext()" [disabled]="cal.mode == CalendarMode.Month">&gt;</button>\r\n    </div>\r\n    <ct-calendar></ct-calendar>\r\n</div>'},11,function(e,t){e.exports='.ct-dp-input.active{position:relative;z-index:101}.ct-dp-shadow-box{position:fixed;top:0;right:0;bottom:0;left:0;background-color:transparent;z-index:100}.ct-dp-picker{width:220px;border:1px solid #808080;box-sizing:content-box;position:absolute;z-index:101;background-color:white;margin-top:14px;transition:.5s}.ct-dp-picker.ct-dp-dualpicker{width:440px}.ct-dp-picker.ct-dp-picker-to{margin-left:15px}.ct-dp-caret-2,.ct-dp-caret-1{bottom:100%;left:10%;border:solid transparent;height:0;width:0;position:absolute;pointer-events:none;transition:.5s}.ct-dp-caret-2{border-color:rgba(136,183,213,0);border-bottom-color:white;border-width:14px;margin-left:-14px}.ct-dp-caret-1{border-color:rgba(194,225,245,0);border-bottom-color:#808080;border-width:16px;margin-left:-16px}.ct-dp-header{border-bottom:1px solid #808080}.ct-dp-cal{padding:5px;width:220px;float:left}.ct-dp-cal-inactive{visibility:hidden}.ct-dp-cal-header{color:#808080}.ct-dp-cal-day{width:30px;height:30px;float:left;text-align:center}.ct-dp-cal-day.active{background-color:lightblue}.ct-dp-cal-day.between{background-color:lightgray}.ct-dp-months,.ct-dp-years{width:220px;float:left;padding:5px}.ct-dp-month,.ct-dp-year{width:33.33%;float:left;text-align:center}.ct-dp-btn{padding:4px;background-color:white;border:none}.ct-dp-btn:hover{background-color:#999}.ct-dp-btn[disabled]:hover{background-color:white}.ct-dp-btn[disabled]{color:white}.ct-dp-picker .ct-dp-btn-prev,.ct-dp-picker .ct-dp-btn-next{width:10%}.ct-dp-picker .ct-dp-btn-month{width:50%;font-weight:500}.ct-dp-picker .ct-dp-btn-year{width:30%;font-weight:500}.ct-dp-picker.ct-dp-dualpicker .ct-dp-btn-prev,.ct-dp-picker.ct-dp-dualpicker .ct-dp-btn-next{width:5%}.ct-dp-picker.ct-dp-dualpicker .ct-dp-btn-month{width:25%}.ct-dp-picker.ct-dp-dualpicker .ct-dp-btn-year{width:15%}.clearfix,.ct-dp-cal:after,.ct-dp-months:after,.ct-dp-years:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.no-button,.ct-dp-cal-day{background:transparent;border:none !important}.pull-right{float:right}.hidden{display:none !important}'},function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(2),i=n(6),d=n(10),c=n(7),l=n(8);!function(e){e[e.To=0]="To",e[e.From=1]="From",e[e.Hidden=2]="Hidden"}(t.DualPickerMode||(t.DualPickerMode={}));var s=t.DualPickerMode,p=function(){function DualPickerComponent(e){var t=this;this.myElement=e,this.CalendarMode=l.CalendarMode,this.DualPickerMode=s,this.dateFromChange=new r.EventEmitter,this.dateToChange=new r.EventEmitter,this.disabled=!1,this.mode=s.Hidden,this.month1ChangeListener=function(){t.shiftCal2(),t.changeMode(l.CalendarMode.Calendar,t.cal1),t.changeMode(l.CalendarMode.Calendar,t.cal2)},this.month2ChangeListener=function(){t.shiftCal1(),t.changeMode(l.CalendarMode.Calendar,t.cal1),t.changeMode(l.CalendarMode.Calendar,t.cal2)},this.year1ChangeListener=function(){t.shiftCal2(),t.changeMode(l.CalendarMode.Calendar,t.cal1),t.changeMode(l.CalendarMode.Calendar,t.cal2)},this.year2ChangeListener=function(){t.shiftCal1(),t.changeMode(l.CalendarMode.Calendar,t.cal1),t.changeMode(l.CalendarMode.Calendar,t.cal2)},this.dateClickListener=function(e){var n=i(e);return function(){t.setDate(n)}}}return Object.defineProperty(DualPickerComponent.prototype,"dateFrom",{get:function(){return this.dateFromValue},set:function(e){this.dateFromString=e.format("MM/DD/YYYY"),this.dateFromValue=e,this.dateFromChange.emit(e)},enumerable:!0,configurable:!0}),Object.defineProperty(DualPickerComponent.prototype,"dateTo",{get:function(){return this.dateToValue},set:function(e){this.dateToString=e.format("MM/DD/YYYY"),this.dateToValue=e,this.dateToChange.emit(e)},enumerable:!0,configurable:!0}),DualPickerComponent.prototype.changeGlobalMode=function(e){switch(console.log(e),this.mode=e,this.mode){case s.To:var t=d(this.myElement.nativeElement).find(".ct-dp-input-to").position().left;d(this.myElement.nativeElement).find(".ct-dp-caret").css({left:t});break;case s.From:var n=d(this.myElement.nativeElement).find(".ct-dp-input-from").position().left;d(this.myElement.nativeElement).find(".ct-dp-caret").css({left:n})}this.changeMode(l.CalendarMode.Calendar,this.cal1),this.changeMode(l.CalendarMode.Calendar,this.cal2)},DualPickerComponent.prototype.onDateFromStringChange=function(e){this.dateFromString=e;var t=i(new Date(e));t.isValid()&&(this.dateFromValue.set(t.toObject()),this.correctDateTo(),this.cal1.date=this.dateFromValue,this.shiftCal2(),this.dateFromChange.emit(this.dateFromValue),this.renderCalendar())},DualPickerComponent.prototype.onDateToStringChange=function(e){this.dateToString=e;var t=i(new Date(e));t.isValid()&&(this.dateToValue.set(t.toObject()),this.correctDateFrom(),this.cal2.date=this.dateToValue,this.shiftCal1(),this.dateToChange.emit(this.dateToValue),this.renderCalendar())},DualPickerComponent.prototype.shiftCal1=function(){this.cal1.date=i(this.cal2.date),this.cal1.date.subtract({month:1})},DualPickerComponent.prototype.shiftCal2=function(){this.cal2.date=i(this.cal1.date),this.cal2.date.add({month:1})},DualPickerComponent.prototype.blur=function(e){9==(e.which||e.keyCode)&&this.changeGlobalMode(s.Hidden)},DualPickerComponent.prototype.changeMode=function(e,t){switch(t.changeMode(e),e){case l.CalendarMode.Calendar:this.renderCalendar()}},DualPickerComponent.prototype.goPrev=function(){this.cal1.mode==l.CalendarMode.Calendar&&this.cal2.mode==l.CalendarMode.Calendar?(this.cal1.date.month(this.cal1.date.month()-1),this.shiftCal2(),this.renderCalendar()):(this.cal1.goPrev(),this.cal2.goPrev())},DualPickerComponent.prototype.goNext=function(){this.cal1.mode==l.CalendarMode.Calendar&&this.cal2.mode==l.CalendarMode.Calendar?(this.cal1.date.month(this.cal1.date.month()+1),this.shiftCal2(),this.renderCalendar()):(this.cal1.goNext(),this.cal2.goNext())},DualPickerComponent.prototype.ngOnInit=function(){this.cal1.date=i(this.dateFrom),this.shiftCal2(),this.cal1.subscribeToChangeMonth(this.month1ChangeListener),this.cal2.subscribeToChangeMonth(this.month2ChangeListener),this.cal1.subscribeToChangeYear(this.year1ChangeListener),this.cal2.subscribeToChangeYear(this.year2ChangeListener)},DualPickerComponent.prototype.ngAfterViewInit=function(){this.renderCalendar()},DualPickerComponent.prototype.ngOnDestroy=function(){},DualPickerComponent.prototype.renderCalendar=function(){this.cal1.renderCalendar(this.dateClickListener,this.dateTo,this.dateFrom),this.cal2.renderCalendar(this.dateClickListener,this.dateTo,this.dateFrom)},DualPickerComponent.prototype.setDate=function(e){switch(this.mode){case s.From:this.dateFrom=e,this.dateFromString=e.format("MM/DD/YYYY"),this.correctDateTo(),this.changeGlobalMode(s.To);break;case s.To:this.dateTo=e,this.dateToString=e.format("MM/DD/YYYY"),this.correctDateFrom(),this.changeGlobalMode(s.Hidden)}this.renderCalendar()},DualPickerComponent.prototype.correctDateTo=function(){this.dateTo&&this.dateFrom.isAfter(this.dateTo)&&(this.dateTo=i(this.dateFrom),this.dateTo.add({day:1}),this.dateToString=this.dateTo.format("MM/DD/YYYY"))},DualPickerComponent.prototype.correctDateFrom=function(){this.dateFrom&&this.dateTo.isBefore(this.dateFrom)&&(this.dateFrom=i(this.dateTo),this.dateFrom.subtract({day:1}),this.dateFromString=this.dateFrom.format("MM/DD/YYYY"))},a([r.Output(),o("design:type",Object)],DualPickerComponent.prototype,"dateFromChange",void 0),a([r.Output(),o("design:type",Object)],DualPickerComponent.prototype,"dateToChange",void 0),a([r.Input(),o("design:type",Object)],DualPickerComponent.prototype,"dateFrom",null),a([r.Input(),o("design:type",Object)],DualPickerComponent.prototype,"dateTo",null),a([r.Input("ctDisabled"),o("design:type",Boolean)],DualPickerComponent.prototype,"disabled",void 0),a([r.Input(),o("design:type",Object)],DualPickerComponent.prototype,"inputClass",void 0),a([r.ViewChild("cal1",c.CalendarComponent),o("design:type","function"==typeof(e="undefined"!=typeof c.CalendarComponent&&c.CalendarComponent)&&e||Object)],DualPickerComponent.prototype,"cal1",void 0),a([r.ViewChild("cal2",c.CalendarComponent),o("design:type","function"==typeof(t="undefined"!=typeof c.CalendarComponent&&c.CalendarComponent)&&t||Object)],DualPickerComponent.prototype,"cal2",void 0),DualPickerComponent=a([r.Component({selector:"ct-dualpicker",template:n(18),styles:[n(19),n(16)],encapsulation:r.ViewEncapsulation.None}),o("design:paramtypes",["function"==typeof(p="undefined"!=typeof r.ElementRef&&r.ElementRef)&&p||Object])],DualPickerComponent);var e,t,p}();t.DualPickerComponent=p},function(e,t){e.exports='<input \r\n    class="ct-dp-input ct-dp-input-from" \r\n    type="text" \r\n    (focus)="changeGlobalMode(DualPickerMode.From)"\r\n    (keydown)="blur($event)" \r\n    [ngModel]="dateFromString"\r\n    [class.active]="mode !== DualPickerMode.Hidden"\r\n    [ngClass]="inputClass"\r\n    (ngModelChange)="onDateFromStringChange($event)"\r\n    [disabled]="disabled"\r\n    tabindex="0"\r\n    autocomplete="off"\r\n/><!--\r\n--><input \r\n    class="ct-dp-input ct-dp-input-to" \r\n    type="text" \r\n    (focus)="changeGlobalMode(DualPickerMode.To)"\r\n    (keydown)="blur($event)"          \r\n    [ngModel]="dateToString"\r\n    [class.active]="mode !== DualPickerMode.Hidden"\r\n    [ngClass]="inputClass"        \r\n    (ngModelChange)="onDateToStringChange($event)"\r\n    [disabled]="disabled"              \r\n    tabindex="0"\r\n    autocomplete="off"\r\n/>\r\n<div class="ct-dp-shadow-box" (click)="changeGlobalMode(DualPickerMode.Hidden)" *ngIf="mode != DualPickerMode.Hidden">\r\n</div>\r\n<div class="ct-dp-picker ct-dp-dualpicker" [class.hidden]="mode == DualPickerMode.Hidden" [class.ct-dp-picker-to]="mode == DualPickerMode.To">\r\n    <div class="ct-dp-caret ct-dp-caret-1"></div>\r\n    <div class="ct-dp-caret ct-dp-caret-2"></div>\r\n    <div class="ct-dp-header"><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-prev  ct-dp-btn" (click)="goPrev()" [disabled]="cal1.mode == CalendarMode.Month || cal2.mode == CalendarMode.Month">&lt;</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-month ct-dp-btn" [disabled]="cal2.mode != CalendarMode.Calendar" (click)="changeMode(CalendarMode.Month, cal1)">{{cal1.date.format("MMMM")}}</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-year  ct-dp-btn" [disabled]="cal2.mode != CalendarMode.Calendar" (click)="changeMode(CalendarMode.Year, cal1)">{{cal1.date.format("YYYY")}}</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-next  ct-dp-btn" [disabled]="true"></button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-prev  ct-dp-btn" [disabled]="true"></button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-month ct-dp-btn" [disabled]="cal1.mode != CalendarMode.Calendar" (click)="changeMode(CalendarMode.Month, cal2)">{{cal2.date.format("MMMM")}}</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-year  ct-dp-btn" [disabled]="cal1.mode != CalendarMode.Calendar" (click)="changeMode(CalendarMode.Year, cal2)">{{cal2.date.format("YYYY")}}</button><!--\r\n        --><button tabindex="-1" class="ct-dp-btn-next  ct-dp-btn" (click)="goNext()" [disabled]="this.cal1.mode == CalendarMode.Month || this.cal2.mode == CalendarMode.Month">&gt;</button>\r\n    </div>\r\n    <ct-calendar #cal1 [ngClass]="{\'ct-dp-cal-inactive\': cal2.mode != CalendarMode.Calendar}"></ct-calendar>\r\n    <ct-calendar #cal2 [ngClass]="{\'ct-dp-cal-inactive\': cal1.mode != CalendarMode.Calendar}"></ct-calendar>\r\n</div>'},11]))});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9jdG5nLnVtZC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgNWQ5MTZmODYxMDA5ZjUyMzQ5M2EiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0ZXBpY2tlci5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiQGFuZ3VsYXIvY29yZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBhbmd1bGFyL2NvbW1vblwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBhbmd1bGFyL2Zvcm1zXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibW9tZW50XCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbGVuZGFyL2NhbGVuZGFyLmNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NhbGVuZGFyLW1vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbGVuZGFyLWdyaWQvY2FsZW5kYXItZ3JpZC5jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwianF1ZXJ5XCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbGVuZGFyLWdyaWQvY2FsZW5kYXItZ3JpZC5jb21wb25lbnQubGVzcyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FsZW5kYXIvY2FsZW5kYXIuY29tcG9uZW50Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5jb21wb25lbnQuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbW1vbi5sZXNzIiwid2VicGFjazovLy8uL3NyYy9kdWFscGlja2VyL2R1YWxwaWNrZXIuY29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9kdWFscGlja2VyL2R1YWxwaWNrZXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsImEiLCJpIiwidGhpcyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX18iLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNl9fIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xMF9fIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsIl9tIiwiYXJncyIsInNsaWNlIiwiZm4iLCJiIiwiYXBwbHkiLCJjb25jYXQiLCJkYXRlcGlja2VyX21vZHVsZV8xIiwiRGF0ZVBpY2tlck1vZHVsZSIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwidGFyZ2V0Iiwia2V5IiwiZGVzYyIsImQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiZGVmaW5lUHJvcGVydHkiLCJfX21ldGFkYXRhIiwiayIsInYiLCJtZXRhZGF0YSIsImNvcmVfMSIsImNvbW1vbl8xIiwiZm9ybXNfMSIsImRhdGVwaWNrZXJfY29tcG9uZW50XzEiLCJkYXRlcGlja2VyX2NvbXBvbmVudF8yIiwiZHVhbHBpY2tlcl9jb21wb25lbnRfMSIsImNhbGVuZGFyX2NvbXBvbmVudF8xIiwiY2FsZW5kYXJfZ3JpZF9jb21wb25lbnRfMSIsIk5nTW9kdWxlIiwiRGF0ZVBpY2tlckNvbXBvbmVudCIsIkR1YWxQaWNrZXJDb21wb25lbnQiLCJEYXRlUGlja2VySW5uZXJDb21wb25lbnQiLCJkZWNsYXJhdGlvbnMiLCJDYWxlbmRhckNvbXBvbmVudCIsIkNhbGVuZGFyR3JpZENvbXBvbmVudCIsImltcG9ydHMiLCJDb21tb25Nb2R1bGUiLCJGb3Jtc01vZHVsZSIsIm1vbWVudCIsImNhbGVuZGFyX21vZGVfMSIsIkRhdGVQaWNrZXJNb2RlIiwibXlFbGVtZW50IiwicmVuZGVyZXIiLCJfdGhpcyIsIkNhbGVuZGFyTW9kZSIsImRpc2FibGVkIiwibW9kZSIsIkhpZGRlbiIsImRhdGVDbGlja0xpc3RlbmVyIiwiZGF0ZSIsInNldERhdGUiLCJtb250aENoYW5nZUxpc3RlbmVyIiwiY2hhbmdlTW9kZSIsIkNhbGVuZGFyIiwieWVhckNoYW5nZUxpc3RlbmVyIiwiY2hhbmdlR2xvYmFsTW9kZSIsIlZpc2libGUiLCJibHVyIiwiZXZlbnQiLCJ3aGljaCIsImtleUNvZGUiLCJjYWwiLCJyZW5kZXJDYWxlbmRhciIsImdvUHJldiIsIm1vbnRoIiwiZ29OZXh0IiwibmdPbkluaXQiLCJwYXJlbnQiLCJpc1ZhbGlkIiwic3Vic2NyaWJlVG9DaGFuZ2VNb250aCIsInN1YnNjcmliZVRvQ2hhbmdlWWVhciIsIm5nQWZ0ZXJWaWV3SW5pdCIsIm5nT25EZXN0cm95IiwiZGF0ZUNoYW5nZSIsImVtaXQiLCJkYXRlVmFsdWUiLCJvbkRhdGVTdHJpbmdDaGFuZ2UiLCJ2YWwiLCJEYXRlIiwic2V0IiwidG9PYmplY3QiLCJJbnB1dCIsIkJvb2xlYW4iLCJWaWV3Q2hpbGQiLCJfYSIsIkNvbXBvbmVudCIsInNlbGVjdG9yIiwidGVtcGxhdGUiLCJzdHlsZXMiLCJlbmNhcHN1bGF0aW9uIiwiVmlld0VuY2Fwc3VsYXRpb24iLCJOb25lIiwiX2IiLCJFbGVtZW50UmVmIiwiX2MiLCJSZW5kZXJlciIsImVsZW1lbnQiLCJ2aWV3Q29udGFpbmVyIiwiY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiRXZlbnRFbWl0dGVyIiwibmF0aXZlRWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkYXRlUGlja2VySW5uZXJDb21wb25lbnQiLCJ2YWx1ZSIsImdldCIsImZvcm1hdCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJwaWNrZXJDb21wb25lbnRGYWN0b3J5IiwicmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkiLCJyZWYiLCJjcmVhdGVDb21wb25lbnQiLCJpbnN0YW5jZSIsIk91dHB1dCIsImVudHJ5Q29tcG9uZW50cyIsIlZpZXdDb250YWluZXJSZWYiLCJDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJtb250aHMiLCJ5ZWFycyIsIm1vbnRoTGlzdGVuZXJzIiwieWVhckxpc3RlbmVycyIsImdlbmVyYXRlTW9udGhEYXRhIiwibGlzdGVuZXIiLCJwdXNoIiwiWWVhciIsImdlbmVyYXRlWWVhckRhdGEiLCJ5ZWFyIiwieSIsImhhbGZOdW1ZZWFyc1Nob3duIiwibnVtWWVhcnNTaG93biIsIk1vbnRoIiwiY2xpY2tDYWxsYmFjayIsImRhdGVUbyIsImRhdGVGcm9tIiwiZ3JpZCIsInNldE1vbnRoIiwiaW5kZXgiLCJfaSIsInNldFllYXIiLCJNYXRoIiwiZmxvb3IiLCIkIiwiaGVhZGVyIiwiZGF5IiwiZWwiLCJ0ZXh0IiwiYXR0ciIsInRvU3RyaW5nIiwiYWRkQ2xhc3MiLCJhcHBlbmQiLCJib2R5IiwiaXNTYW1lIiwiaXNCZXR3ZWVuIiwiY2xpY2siLCJlbXB0eSIsImFwcGVuZFRvIiwicmVuZGVyQ2FsZW5kYXJSZW5kZXJlciIsInNlbGVjdFJvb3RFbGVtZW50IiwiaGVhZGVyRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRFbGVtZW50Q2xhc3MiLCJjYWxFbGVtZW50Iiwic2V0VGV4dCIsInNldEVsZW1lbnRBdHRyaWJ1dGUiLCJsaXN0ZW4iLCJEdWFsUGlja2VyTW9kZSIsImRhdGVGcm9tQ2hhbmdlIiwiZGF0ZVRvQ2hhbmdlIiwibW9udGgxQ2hhbmdlTGlzdGVuZXIiLCJzaGlmdENhbDIiLCJjYWwxIiwiY2FsMiIsIm1vbnRoMkNoYW5nZUxpc3RlbmVyIiwic2hpZnRDYWwxIiwieWVhcjFDaGFuZ2VMaXN0ZW5lciIsInllYXIyQ2hhbmdlTGlzdGVuZXIiLCJkYXRlRnJvbVZhbHVlIiwiZGF0ZUZyb21TdHJpbmciLCJkYXRlVG9WYWx1ZSIsImRhdGVUb1N0cmluZyIsImNvbnNvbGUiLCJsb2ciLCJUbyIsImwiLCJmaW5kIiwicG9zaXRpb24iLCJsZWZ0IiwiY3NzIiwiRnJvbSIsImxmcm9tIiwib25EYXRlRnJvbVN0cmluZ0NoYW5nZSIsImNvcnJlY3REYXRlVG8iLCJvbkRhdGVUb1N0cmluZ0NoYW5nZSIsImNvcnJlY3REYXRlRnJvbSIsInN1YnRyYWN0IiwiYWRkIiwiaXNBZnRlciIsImlzQmVmb3JlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLG1CQUFBQyxVQUFBLGdCQUFBQyxRQUNBQSxPQUFBRCxRQUFBRCxFQUFBRyxRQUFBLGlCQUFBQSxRQUFBLG1CQUFBQSxRQUFBLGtCQUFBQSxRQUFBLFVBQUFBLFFBQUEsZUFDQSxzQkFBQUMsZ0JBQUFDLElBQ0FELFFBQUEsc0VBQUFKLE9BQ0EsQ0FDQSxHQUFBTSxHQUFBLGdCQUFBTCxTQUFBRCxFQUFBRyxRQUFBLGlCQUFBQSxRQUFBLG1CQUFBQSxRQUFBLGtCQUFBQSxRQUFBLFVBQUFBLFFBQUEsV0FBQUgsRUFBQUQsRUFBQSxpQkFBQUEsRUFBQSxtQkFBQUEsRUFBQSxrQkFBQUEsRUFBQSxPQUFBQSxFQUFBLE9BQ0EsUUFBQVEsS0FBQUQsSUFBQSxnQkFBQUwsaUJBQUFGLEdBQUFRLEdBQUFELEVBQUFDLEtBRUNDLEtBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDRCxNQ0FnQixVQUFVQyxHQ04xQixRQUFBQyxxQkFBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFmLE9BR0EsSUFBQUMsR0FBQWUsRUFBQUQsSUFDQWYsV0FDQWlCLEdBQUFGLEVBQ0FHLFFBQUEsRUFVQSxPQU5BTCxHQUFBRSxHQUFBSSxLQUFBbEIsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQWMscUJBR0FiLEVB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cUJPLG1CQUFxQ1AsRUFBcUJPLG9CQUFxQzJELEdBQU9yRyxTQUMzS3VDLG9CQUFvQnRDLFVBQVcsT0FBUSxRaUJwNEIvQ3NDLG9CQUFBM0IsR0FBQ2lCLEVBQUFpRSxXQUNHQyxTQUFVLGdCQUNWQyxTQUFVekcsRUFBUSxJQUNsQjBHLFFBQVMxRyxFQUFRLElBQWdDQSxFQUFRLEtBQ3pEMkcsY0FBZXJFLEVBQUFzRSxrQkFBa0JDLE9qQnc0QjVCM0UsRUFBVyxxQkFBdUcsbUJBQXhFOEUsRUFBa0MsbUJBQXRCMUUsR0FBT3lFLFlBQThCekUsRUFBT3lFLGFBQThCQyxHQUFPdkcsVUFDeEl1QyxvQkFFSCxJQUFJc0QsR0FBSVEsRUFBSUUsSWlCejRCSjlILEdBQUE4RCxvQkFBbUJBLEdqQmc1QjFCLFNBQVM3RCxFQUFRRCxHa0J4NkJ2QkMsRUFBQUQsUUFBQSwwNEZsQjg2QkEiLCJmaWxlIjoiY3RuZy51bWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJAYW5ndWxhci9jb3JlXCIpLCByZXF1aXJlKFwiQGFuZ3VsYXIvY29tbW9uXCIpLCByZXF1aXJlKFwiQGFuZ3VsYXIvZm9ybXNcIiksIHJlcXVpcmUoXCJtb21lbnRcIiksIHJlcXVpcmUoXCJqcXVlcnlcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wiQGFuZ3VsYXIvY29yZVwiLCBcIkBhbmd1bGFyL2NvbW1vblwiLCBcIkBhbmd1bGFyL2Zvcm1zXCIsIFwibW9tZW50XCIsIFwianF1ZXJ5XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBmYWN0b3J5KHJlcXVpcmUoXCJAYW5ndWxhci9jb3JlXCIpLCByZXF1aXJlKFwiQGFuZ3VsYXIvY29tbW9uXCIpLCByZXF1aXJlKFwiQGFuZ3VsYXIvZm9ybXNcIiksIHJlcXVpcmUoXCJtb21lbnRcIiksIHJlcXVpcmUoXCJqcXVlcnlcIikpIDogZmFjdG9yeShyb290W1wiQGFuZ3VsYXIvY29yZVwiXSwgcm9vdFtcIkBhbmd1bGFyL2NvbW1vblwiXSwgcm9vdFtcIkBhbmd1bGFyL2Zvcm1zXCJdLCByb290W1wibW9tZW50XCJdLCByb290W1wianF1ZXJ5XCJdKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzNfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV80X18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNl9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzEwX18pIHtcbnJldHVybiBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiQGFuZ3VsYXIvY29yZVwiKSwgcmVxdWlyZShcIkBhbmd1bGFyL2NvbW1vblwiKSwgcmVxdWlyZShcIkBhbmd1bGFyL2Zvcm1zXCIpLCByZXF1aXJlKFwibW9tZW50XCIpLCByZXF1aXJlKFwianF1ZXJ5XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcIkBhbmd1bGFyL2NvcmVcIiwgXCJAYW5ndWxhci9jb21tb25cIiwgXCJAYW5ndWxhci9mb3Jtc1wiLCBcIm1vbWVudFwiLCBcImpxdWVyeVwiXSwgZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZmFjdG9yeShyZXF1aXJlKFwiQGFuZ3VsYXIvY29yZVwiKSwgcmVxdWlyZShcIkBhbmd1bGFyL2NvbW1vblwiKSwgcmVxdWlyZShcIkBhbmd1bGFyL2Zvcm1zXCIpLCByZXF1aXJlKFwibW9tZW50XCIpLCByZXF1aXJlKFwianF1ZXJ5XCIpKSA6IGZhY3Rvcnkocm9vdFtcIkBhbmd1bGFyL2NvcmVcIl0sIHJvb3RbXCJAYW5ndWxhci9jb21tb25cIl0sIHJvb3RbXCJAYW5ndWxhci9mb3Jtc1wiXSwgcm9vdFtcIm1vbWVudFwiXSwgcm9vdFtcImpxdWVyeVwiXSk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzJfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzZfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xMF9fKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoKGZ1bmN0aW9uKG1vZHVsZXMpIHtcblx0Ly8gQ2hlY2sgYWxsIG1vZHVsZXMgZm9yIGRlZHVwbGljYXRlZCBtb2R1bGVzXG5cdGZvcih2YXIgaSBpbiBtb2R1bGVzKSB7XG5cdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZHVsZXMsIGkpKSB7XG5cdFx0XHRzd2l0Y2godHlwZW9mIG1vZHVsZXNbaV0pIHtcblx0XHRcdGNhc2UgXCJmdW5jdGlvblwiOiBicmVhaztcblx0XHRcdGNhc2UgXCJvYmplY3RcIjpcblx0XHRcdFx0Ly8gTW9kdWxlIGNhbiBiZSBjcmVhdGVkIGZyb20gYSB0ZW1wbGF0ZVxuXHRcdFx0XHRtb2R1bGVzW2ldID0gKGZ1bmN0aW9uKF9tKSB7XG5cdFx0XHRcdFx0dmFyIGFyZ3MgPSBfbS5zbGljZSgxKSwgZm4gPSBtb2R1bGVzW19tWzBdXTtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGEsYixjKSB7XG5cdFx0XHRcdFx0XHRmbi5hcHBseSh0aGlzLCBbYSxiLGNdLmNvbmNhdChhcmdzKSk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fShtb2R1bGVzW2ldKSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0Ly8gTW9kdWxlIGlzIGEgY29weSBvZiBhbm90aGVyIG1vZHVsZVxuXHRcdFx0XHRtb2R1bGVzW2ldID0gbW9kdWxlc1ttb2R1bGVzW2ldXTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBtb2R1bGVzO1xufShbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHR2YXIgZGF0ZXBpY2tlcl9tb2R1bGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0ZXhwb3J0cy5EYXRlUGlja2VyTW9kdWxlID0gZGF0ZXBpY2tlcl9tb2R1bGVfMS5EYXRlUGlja2VyTW9kdWxlO1xyXG5cblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdHZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuXHQgICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuXHQgICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxuXHR9O1xyXG5cdHZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xyXG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XHJcblx0fTtcclxuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG5cdHZhciBmb3Jtc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxuXHR2YXIgZGF0ZXBpY2tlcl9jb21wb25lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcblx0dmFyIGRhdGVwaWNrZXJfY29tcG9uZW50XzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xyXG5cdHZhciBkdWFscGlja2VyX2NvbXBvbmVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XHJcblx0dmFyIGNhbGVuZGFyX2NvbXBvbmVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcclxuXHR2YXIgY2FsZW5kYXJfZ3JpZF9jb21wb25lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XHJcblx0dmFyIERhdGVQaWNrZXJNb2R1bGUgPSAoZnVuY3Rpb24gKCkge1xyXG5cdCAgICBmdW5jdGlvbiBEYXRlUGlja2VyTW9kdWxlKCkge1xyXG5cdCAgICB9XHJcblx0ICAgIERhdGVQaWNrZXJNb2R1bGUgPSBfX2RlY29yYXRlKFtcclxuXHQgICAgICAgIGNvcmVfMS5OZ01vZHVsZSh7XHJcblx0ICAgICAgICAgICAgZXhwb3J0czogW2RhdGVwaWNrZXJfY29tcG9uZW50XzEuRGF0ZVBpY2tlckNvbXBvbmVudCwgZHVhbHBpY2tlcl9jb21wb25lbnRfMS5EdWFsUGlja2VyQ29tcG9uZW50LCBkYXRlcGlja2VyX2NvbXBvbmVudF8yLkRhdGVQaWNrZXJJbm5lckNvbXBvbmVudF0sXHJcblx0ICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbZGF0ZXBpY2tlcl9jb21wb25lbnRfMi5EYXRlUGlja2VySW5uZXJDb21wb25lbnQsIGRhdGVwaWNrZXJfY29tcG9uZW50XzEuRGF0ZVBpY2tlckNvbXBvbmVudCwgZHVhbHBpY2tlcl9jb21wb25lbnRfMS5EdWFsUGlja2VyQ29tcG9uZW50LCBjYWxlbmRhcl9jb21wb25lbnRfMS5DYWxlbmRhckNvbXBvbmVudCwgY2FsZW5kYXJfZ3JpZF9jb21wb25lbnRfMS5DYWxlbmRhckdyaWRDb21wb25lbnRdLFxyXG5cdCAgICAgICAgICAgIGltcG9ydHM6IFtjb21tb25fMS5Db21tb25Nb2R1bGUsIGZvcm1zXzEuRm9ybXNNb2R1bGVdXHJcblx0ICAgICAgICB9KSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFtdKVxyXG5cdCAgICBdLCBEYXRlUGlja2VyTW9kdWxlKTtcclxuXHQgICAgcmV0dXJuIERhdGVQaWNrZXJNb2R1bGU7XHJcblx0fSgpKTtcclxuXHRleHBvcnRzLkRhdGVQaWNrZXJNb2R1bGUgPSBEYXRlUGlja2VyTW9kdWxlO1xyXG5cblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8yX187XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfM19fO1xuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXztcblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdHZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuXHQgICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuXHQgICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxuXHR9O1xyXG5cdHZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xyXG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XHJcblx0fTtcclxuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxuXHR2YXIgbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxuXHR2YXIgY2FsZW5kYXJfY29tcG9uZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xyXG5cdHZhciBjYWxlbmRhcl9tb2RlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xyXG5cdChmdW5jdGlvbiAoRGF0ZVBpY2tlck1vZGUpIHtcclxuXHQgICAgRGF0ZVBpY2tlck1vZGVbRGF0ZVBpY2tlck1vZGVbXCJWaXNpYmxlXCJdID0gMF0gPSBcIlZpc2libGVcIjtcclxuXHQgICAgRGF0ZVBpY2tlck1vZGVbRGF0ZVBpY2tlck1vZGVbXCJIaWRkZW5cIl0gPSAxXSA9IFwiSGlkZGVuXCI7XHJcblx0fSkoZXhwb3J0cy5EYXRlUGlja2VyTW9kZSB8fCAoZXhwb3J0cy5EYXRlUGlja2VyTW9kZSA9IHt9KSk7XHJcblx0dmFyIERhdGVQaWNrZXJNb2RlID0gZXhwb3J0cy5EYXRlUGlja2VyTW9kZTtcclxuXHR2YXIgRGF0ZVBpY2tlcklubmVyQ29tcG9uZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuXHQgICAgZnVuY3Rpb24gRGF0ZVBpY2tlcklubmVyQ29tcG9uZW50KG15RWxlbWVudCwgcmVuZGVyZXIpIHtcclxuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblx0ICAgICAgICB0aGlzLm15RWxlbWVudCA9IG15RWxlbWVudDtcclxuXHQgICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcclxuXHQgICAgICAgIHRoaXMuQ2FsZW5kYXJNb2RlID0gY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZTtcclxuXHQgICAgICAgIHRoaXMuRGF0ZVBpY2tlck1vZGUgPSBEYXRlUGlja2VyTW9kZTtcclxuXHQgICAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcclxuXHQgICAgICAgIHRoaXMubW9kZSA9IERhdGVQaWNrZXJNb2RlLkhpZGRlbjtcclxuXHQgICAgICAgIHRoaXMuZGF0ZUNsaWNrTGlzdGVuZXIgPSBmdW5jdGlvbiAoZGF0ZSkge1xyXG5cdCAgICAgICAgICAgIHZhciBkID0gbW9tZW50KGRhdGUpO1xyXG5cdCAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgICAgIF90aGlzLnNldERhdGUoZCk7XHJcblx0ICAgICAgICAgICAgfTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICB0aGlzLm1vbnRoQ2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgX3RoaXMuY2hhbmdlTW9kZShjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyKTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICB0aGlzLnllYXJDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgICBfdGhpcy5jaGFuZ2VNb2RlKGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuQ2FsZW5kYXIpO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgfVxyXG5cdCAgICBEYXRlUGlja2VySW5uZXJDb21wb25lbnQucHJvdG90eXBlLmNoYW5nZUdsb2JhbE1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xyXG5cdCAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcclxuXHQgICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XHJcblx0ICAgICAgICAgICAgY2FzZSBEYXRlUGlja2VyTW9kZS5WaXNpYmxlOlxyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZU1vZGUoY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhcik7XHJcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBEYXRlUGlja2VySW5uZXJDb21wb25lbnQucHJvdG90eXBlLmJsdXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHQgICAgICAgIGlmICgoZXZlbnQud2hpY2ggfHwgZXZlbnQua2V5Q29kZSkgPT0gOSkge1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2hhbmdlR2xvYmFsTW9kZShEYXRlUGlja2VyTW9kZS5IaWRkZW4pO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBEYXRlUGlja2VySW5uZXJDb21wb25lbnQucHJvdG90eXBlLmNoYW5nZU1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xyXG5cdCAgICAgICAgdGhpcy5jYWwuY2hhbmdlTW9kZShtb2RlKTtcclxuXHQgICAgICAgIHN3aXRjaCAobW9kZSkge1xyXG5cdCAgICAgICAgICAgIGNhc2UgY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhcjpcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG5cdCAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgRGF0ZVBpY2tlcklubmVyQ29tcG9uZW50LnByb3RvdHlwZS5nb1ByZXYgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICBpZiAodGhpcy5jYWwubW9kZSA9PSBjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5jYWwuZGF0ZS5tb250aCh0aGlzLmNhbC5kYXRlLm1vbnRoKCkgLSAxKTtcclxuXHQgICAgICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBlbHNlIHtcclxuXHQgICAgICAgICAgICB0aGlzLmNhbC5nb1ByZXYoKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgRGF0ZVBpY2tlcklubmVyQ29tcG9uZW50LnByb3RvdHlwZS5nb05leHQgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICBpZiAodGhpcy5jYWwubW9kZSA9PSBjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5jYWwuZGF0ZS5tb250aCh0aGlzLmNhbC5kYXRlLm1vbnRoKCkgKyAxKTtcclxuXHQgICAgICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBlbHNlIHtcclxuXHQgICAgICAgICAgICB0aGlzLmNhbC5nb05leHQoKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgRGF0ZVBpY2tlcklubmVyQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIGlmICh0aGlzLnBhcmVudC5kYXRlIGluc3RhbmNlb2YgbW9tZW50ICYmIHRoaXMucGFyZW50LmRhdGUuaXNWYWxpZCgpKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5jYWwuZGF0ZSA9IG1vbWVudCh0aGlzLnBhcmVudC5kYXRlKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2Uge1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2FsLmRhdGUgPSBtb21lbnQoKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHRoaXMuY2FsLnN1YnNjcmliZVRvQ2hhbmdlTW9udGgodGhpcy5tb250aENoYW5nZUxpc3RlbmVyKTtcclxuXHQgICAgICAgIHRoaXMuY2FsLnN1YnNjcmliZVRvQ2hhbmdlWWVhcih0aGlzLnllYXJDaGFuZ2VMaXN0ZW5lcik7XHJcblx0ICAgIH07XHJcblx0ICAgIERhdGVQaWNrZXJJbm5lckNvbXBvbmVudC5wcm90b3R5cGUubmdBZnRlclZpZXdJbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG5cdCAgICB9O1xyXG5cdCAgICBEYXRlUGlja2VySW5uZXJDb21wb25lbnQucHJvdG90eXBlLm5nT25EZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICB9O1xyXG5cdCAgICBEYXRlUGlja2VySW5uZXJDb21wb25lbnQucHJvdG90eXBlLnJlbmRlckNhbGVuZGFyID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgdGhpcy5jYWwucmVuZGVyQ2FsZW5kYXIodGhpcy5kYXRlQ2xpY2tMaXN0ZW5lciwgdGhpcy5wYXJlbnQuZGF0ZSwgdGhpcy5wYXJlbnQuZGF0ZSk7XHJcblx0ICAgIH07XHJcblx0ICAgIERhdGVQaWNrZXJJbm5lckNvbXBvbmVudC5wcm90b3R5cGUuc2V0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7XHJcblx0ICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xyXG5cdCAgICAgICAgICAgIGNhc2UgRGF0ZVBpY2tlck1vZGUuVmlzaWJsZTpcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZGF0ZUNoYW5nZS5lbWl0KGRhdGUpO1xyXG5cdCAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5kYXRlVmFsdWUgPSBkYXRlO1xyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUdsb2JhbE1vZGUoRGF0ZVBpY2tlck1vZGUuSGlkZGVuKTtcclxuXHQgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcblx0ICAgIH07XHJcblx0ICAgIERhdGVQaWNrZXJJbm5lckNvbXBvbmVudC5wcm90b3R5cGUub25EYXRlU3RyaW5nQ2hhbmdlID0gZnVuY3Rpb24gKHZhbCkge1xyXG5cdCAgICAgICAgdmFyIG0gPSBtb21lbnQobmV3IERhdGUodmFsKSk7XHJcblx0ICAgICAgICB0aGlzLnBhcmVudC5kYXRlVmFsdWUuc2V0KG0udG9PYmplY3QoKSk7XHJcblx0ICAgICAgICB0aGlzLnBhcmVudC5kYXRlQ2hhbmdlLmVtaXQodGhpcy5wYXJlbnQuZGF0ZVZhbHVlKTtcclxuXHQgICAgICAgIGlmIChtLmlzVmFsaWQoKSkge1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2FsLmRhdGUgPSB0aGlzLnBhcmVudC5kYXRlVmFsdWU7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBlbHNlIHtcclxuXHQgICAgICAgICAgICB0aGlzLmNhbC5kYXRlID0gbW9tZW50KCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcblx0ICAgIH07XHJcblx0ICAgIF9fZGVjb3JhdGUoW1xyXG5cdCAgICAgICAgY29yZV8xLklucHV0KFwiY3REaXNhYmxlZFwiKSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsIEJvb2xlYW4pXHJcblx0ICAgIF0sIERhdGVQaWNrZXJJbm5lckNvbXBvbmVudC5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgdm9pZCAwKTtcclxuXHQgICAgX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuSW5wdXQoKSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsIE9iamVjdClcclxuXHQgICAgXSwgRGF0ZVBpY2tlcklubmVyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJpbnB1dENsYXNzXCIsIHZvaWQgMCk7XHJcblx0ICAgIF9fZGVjb3JhdGUoW1xyXG5cdCAgICAgICAgY29yZV8xLlZpZXdDaGlsZChjYWxlbmRhcl9jb21wb25lbnRfMS5DYWxlbmRhckNvbXBvbmVudCksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCAodHlwZW9mIChfYSA9IHR5cGVvZiBjYWxlbmRhcl9jb21wb25lbnRfMS5DYWxlbmRhckNvbXBvbmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgY2FsZW5kYXJfY29tcG9uZW50XzEuQ2FsZW5kYXJDb21wb25lbnQpID09PSAnZnVuY3Rpb24nICYmIF9hKSB8fCBPYmplY3QpXHJcblx0ICAgIF0sIERhdGVQaWNrZXJJbm5lckNvbXBvbmVudC5wcm90b3R5cGUsIFwiY2FsXCIsIHZvaWQgMCk7XHJcblx0ICAgIERhdGVQaWNrZXJJbm5lckNvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xyXG5cdCAgICAgICAgY29yZV8xLkNvbXBvbmVudCh7XHJcblx0ICAgICAgICAgICAgc2VsZWN0b3I6ICdjdC1kYXRlcGlja2VyLWlubmVyJyxcclxuXHQgICAgICAgICAgICB0ZW1wbGF0ZTogX193ZWJwYWNrX3JlcXVpcmVfXygxNCksXHJcblx0ICAgICAgICAgICAgc3R5bGVzOiBbX193ZWJwYWNrX3JlcXVpcmVfXygxNSksIF9fd2VicGFja19yZXF1aXJlX18oMTYpXSxcclxuXHQgICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBjb3JlXzEuVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuXHQgICAgICAgIH0pLCBcclxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgWyh0eXBlb2YgKF9iID0gdHlwZW9mIGNvcmVfMS5FbGVtZW50UmVmICE9PSAndW5kZWZpbmVkJyAmJiBjb3JlXzEuRWxlbWVudFJlZikgPT09ICdmdW5jdGlvbicgJiYgX2IpIHx8IE9iamVjdCwgKHR5cGVvZiAoX2MgPSB0eXBlb2YgY29yZV8xLlJlbmRlcmVyICE9PSAndW5kZWZpbmVkJyAmJiBjb3JlXzEuUmVuZGVyZXIpID09PSAnZnVuY3Rpb24nICYmIF9jKSB8fCBPYmplY3RdKVxyXG5cdCAgICBdLCBEYXRlUGlja2VySW5uZXJDb21wb25lbnQpO1xyXG5cdCAgICByZXR1cm4gRGF0ZVBpY2tlcklubmVyQ29tcG9uZW50O1xyXG5cdCAgICB2YXIgX2EsIF9iLCBfYztcclxuXHR9KCkpO1xyXG5cdGV4cG9ydHMuRGF0ZVBpY2tlcklubmVyQ29tcG9uZW50ID0gRGF0ZVBpY2tlcklubmVyQ29tcG9uZW50O1xyXG5cdHZhciBEYXRlUGlja2VyQ29tcG9uZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuXHQgICAgZnVuY3Rpb24gRGF0ZVBpY2tlckNvbXBvbmVudChlbGVtZW50LCB2aWV3Q29udGFpbmVyLCBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpIHtcclxuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblx0ICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG5cdCAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyID0gdmlld0NvbnRhaW5lcjtcclxuXHQgICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gY29tcG9uZW50RmFjdG9yeVJlc29sdmVyO1xyXG5cdCAgICAgICAgdGhpcy5kYXRlQ2hhbmdlID0gbmV3IGNvcmVfMS5FdmVudEVtaXR0ZXIoKTtcclxuXHQgICAgICAgIGVsZW1lbnQubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGZ1bmN0aW9uIChldmVudCkgeyBfdGhpcy5kYXRlUGlja2VySW5uZXJDb21wb25lbnQuY2hhbmdlR2xvYmFsTW9kZShEYXRlUGlja2VyTW9kZS5WaXNpYmxlKTsgfSk7XHJcblx0ICAgICAgICBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkgeyBfdGhpcy5kYXRlUGlja2VySW5uZXJDb21wb25lbnQuYmx1cihldmVudCk7IH0pO1xyXG5cdCAgICAgICAgZWxlbWVudC5uYXRpdmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24gKGV2ZW50KSB7IF90aGlzLmRhdGVQaWNrZXJJbm5lckNvbXBvbmVudC5vbkRhdGVTdHJpbmdDaGFuZ2UoZWxlbWVudC5uYXRpdmVFbGVtZW50LnZhbHVlKTsgfSk7XHJcblx0ICAgIH1cclxuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGVcIiwge1xyXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZVZhbHVlO1xyXG5cdCAgICAgICAgfSxcclxuXHQgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG5cdCAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBtb21lbnQgJiYgdmFsLmlzVmFsaWQoKSkge1xyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC52YWx1ZSA9IHZhbC5mb3JtYXQoXCJNTS9ERC9ZWVlZXCIpO1xyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmRhdGVWYWx1ZSA9IHZhbDtcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5kYXRlQ2hhbmdlLmVtaXQodmFsKTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG5cdCAgICB9KTtcclxuXHQgICAgRGF0ZVBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUubmdPbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICB2YXIgcGlja2VyQ29tcG9uZW50RmFjdG9yeSA9IHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERhdGVQaWNrZXJJbm5lckNvbXBvbmVudCk7XHJcblx0ICAgICAgICB2YXIgcmVmID0gdGhpcy52aWV3Q29udGFpbmVyLmNyZWF0ZUNvbXBvbmVudChwaWNrZXJDb21wb25lbnRGYWN0b3J5KTtcclxuXHQgICAgICAgIHRoaXMuZGF0ZVBpY2tlcklubmVyQ29tcG9uZW50ID0gcmVmLmluc3RhbmNlO1xyXG5cdCAgICAgICAgdGhpcy5kYXRlUGlja2VySW5uZXJDb21wb25lbnQucGFyZW50ID0gdGhpcztcclxuXHQgICAgfTtcclxuXHQgICAgX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuT3V0cHV0KCksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCBPYmplY3QpXHJcblx0ICAgIF0sIERhdGVQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGVDaGFuZ2VcIiwgdm9pZCAwKTtcclxuXHQgICAgX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuSW5wdXQoKSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsIE9iamVjdClcclxuXHQgICAgXSwgRGF0ZVBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUsIFwiZGF0ZVwiLCBudWxsKTtcclxuXHQgICAgRGF0ZVBpY2tlckNvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xyXG5cdCAgICAgICAgY29yZV8xLkNvbXBvbmVudCh7XHJcblx0ICAgICAgICAgICAgc2VsZWN0b3I6ICdpbnB1dFtjdERhdGVwaWNrZXJdJyxcclxuXHQgICAgICAgICAgICB0ZW1wbGF0ZTogJycsXHJcblx0ICAgICAgICAgICAgZW50cnlDb21wb25lbnRzOiBbRGF0ZVBpY2tlcklubmVyQ29tcG9uZW50XVxyXG5cdCAgICAgICAgfSksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbKHR5cGVvZiAoX2EgPSB0eXBlb2YgY29yZV8xLkVsZW1lbnRSZWYgIT09ICd1bmRlZmluZWQnICYmIGNvcmVfMS5FbGVtZW50UmVmKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYSkgfHwgT2JqZWN0LCAodHlwZW9mIChfYiA9IHR5cGVvZiBjb3JlXzEuVmlld0NvbnRhaW5lclJlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgY29yZV8xLlZpZXdDb250YWluZXJSZWYpID09PSAnZnVuY3Rpb24nICYmIF9iKSB8fCBPYmplY3QsICh0eXBlb2YgKF9jID0gdHlwZW9mIGNvcmVfMS5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgIT09ICd1bmRlZmluZWQnICYmIGNvcmVfMS5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpID09PSAnZnVuY3Rpb24nICYmIF9jKSB8fCBPYmplY3RdKVxyXG5cdCAgICBdLCBEYXRlUGlja2VyQ29tcG9uZW50KTtcclxuXHQgICAgcmV0dXJuIERhdGVQaWNrZXJDb21wb25lbnQ7XHJcblx0ICAgIHZhciBfYSwgX2IsIF9jO1xyXG5cdH0oKSk7XHJcblx0ZXhwb3J0cy5EYXRlUGlja2VyQ29tcG9uZW50ID0gRGF0ZVBpY2tlckNvbXBvbmVudDtcclxuXG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNl9fO1xuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0dmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG5cdCAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG5cdH07XHJcblx0dmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XHJcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcclxuXHR9O1xyXG5cdHZhciBjb3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5cdHZhciBtb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG5cdHZhciBjYWxlbmRhcl9tb2RlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xyXG5cdHZhciBjYWxlbmRhcl9ncmlkX2NvbXBvbmVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcclxuXHR2YXIgQ2FsZW5kYXJDb21wb25lbnQgPSAoZnVuY3Rpb24gKCkge1xyXG5cdCAgICBmdW5jdGlvbiBDYWxlbmRhckNvbXBvbmVudCgpIHtcclxuXHQgICAgICAgIC8qKiBBY2Nlc3NvciB0byB0aGUgbW9kZSBmb3IgaHRtbCAqL1xyXG5cdCAgICAgICAgdGhpcy5DYWxlbmRhck1vZGUgPSBjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlO1xyXG5cdCAgICAgICAgdGhpcy5tb2RlID0gY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhcjtcclxuXHQgICAgICAgIC8qKiBBcnJheSBvZiBtb250aHMgdG8gc2hvdyB3aGVuIHNlbGVjdGluZyBhIG5ldyBtb250aCAqL1xyXG5cdCAgICAgICAgdGhpcy5tb250aHMgPSBbXTtcclxuXHQgICAgICAgIC8qKiBBcnJheSBvZiB5ZWFycyB0byBzaG93IHdoZW4gc2VsZWN0aW5nIGEgbmV3IHllYXIgKi9cclxuXHQgICAgICAgIHRoaXMueWVhcnMgPSBbXTtcclxuXHQgICAgICAgIC8qKiBMaXN0ZW5lcnMgZm9yIG1vbnRoIGNoYW5nZSAqL1xyXG5cdCAgICAgICAgdGhpcy5tb250aExpc3RlbmVycyA9IFtdO1xyXG5cdCAgICAgICAgLyoqIExpc3RlbmVycyBmb3IgeWVhciBjaGFuZ2UgKi9cclxuXHQgICAgICAgIHRoaXMueWVhckxpc3RlbmVycyA9IFtdO1xyXG5cdCAgICAgICAgdGhpcy5nZW5lcmF0ZU1vbnRoRGF0YSgpO1xyXG5cdCAgICB9XHJcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYWxlbmRhckNvbXBvbmVudC5wcm90b3R5cGUsIFwieWVhckRhdGFcIiwge1xyXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnllYXJzOyB9LFxyXG5cdCAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG5cdCAgICB9KTtcclxuXHQgICAgO1xyXG5cdCAgICBDYWxlbmRhckNvbXBvbmVudC5wcm90b3R5cGUubmdPbkluaXQgPSBmdW5jdGlvbiAoKSB7IH07XHJcblx0ICAgIENhbGVuZGFyQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uRGVzdHJveSA9IGZ1bmN0aW9uICgpIHsgfTtcclxuXHQgICAgQ2FsZW5kYXJDb21wb25lbnQucHJvdG90eXBlLnN1YnNjcmliZVRvQ2hhbmdlTW9udGggPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcclxuXHQgICAgICAgIHRoaXMubW9udGhMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcblx0ICAgIH07XHJcblx0ICAgIENhbGVuZGFyQ29tcG9uZW50LnByb3RvdHlwZS5zdWJzY3JpYmVUb0NoYW5nZVllYXIgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcclxuXHQgICAgICAgIHRoaXMueWVhckxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuXHQgICAgfTtcclxuXHQgICAgQ2FsZW5kYXJDb21wb25lbnQucHJvdG90eXBlLmNoYW5nZU1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xyXG5cdCAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcclxuXHQgICAgICAgIHN3aXRjaCAobW9kZSkge1xyXG5cdCAgICAgICAgICAgIGNhc2UgY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5ZZWFyOlxyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlWWVhckRhdGEodGhpcy5kYXRlLnllYXIoKSk7XHJcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBDYWxlbmRhckNvbXBvbmVudC5wcm90b3R5cGUuZ2VuZXJhdGVNb250aERhdGEgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICB2YXIgZGF0ZSA9IG1vbWVudChuZXcgRGF0ZSgpKTsgLy9kb2Vzbid0IGNoYW5nZVxyXG5cdCAgICAgICAgZGF0ZS5tb250aCgwKTtcclxuXHQgICAgICAgIHZhciBkID0gbW9tZW50KG5ldyBEYXRlKCkpO1xyXG5cdCAgICAgICAgZC5tb250aCgwKTtcclxuXHQgICAgICAgIHdoaWxlIChkYXRlLnllYXIoKSA9PT0gZC55ZWFyKCkpIHtcclxuXHQgICAgICAgICAgICB0aGlzLm1vbnRocy5wdXNoKGQuZm9ybWF0KFwiTU1NXCIpKTtcclxuXHQgICAgICAgICAgICBkLm1vbnRoKGQubW9udGgoKSArIDEpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBDYWxlbmRhckNvbXBvbmVudC5wcm90b3R5cGUuZ2VuZXJhdGVZZWFyRGF0YSA9IGZ1bmN0aW9uICh5ZWFyKSB7XHJcblx0ICAgICAgICB0aGlzLnllYXJzID0gW107XHJcblx0ICAgICAgICB2YXIgeSA9IHllYXIgLSBDYWxlbmRhckNvbXBvbmVudC5oYWxmTnVtWWVhcnNTaG93bjtcclxuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ2FsZW5kYXJDb21wb25lbnQubnVtWWVhcnNTaG93bjsgaSsrKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy55ZWFycy5wdXNoKHkgKyBpKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgQ2FsZW5kYXJDb21wb25lbnQucHJvdG90eXBlLmdvUHJldiA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XHJcblx0ICAgICAgICAgICAgY2FzZSBjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyOlxyXG5cdCAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICBjYXNlIGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuTW9udGg6XHJcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgICAgIGNhc2UgY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5ZZWFyOlxyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlWWVhckRhdGEodGhpcy55ZWFyc1tDYWxlbmRhckNvbXBvbmVudC5oYWxmTnVtWWVhcnNTaG93bl0gLSBDYWxlbmRhckNvbXBvbmVudC5udW1ZZWFyc1Nob3duKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgQ2FsZW5kYXJDb21wb25lbnQucHJvdG90eXBlLmdvTmV4dCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XHJcblx0ICAgICAgICAgICAgY2FzZSBjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyOlxyXG5cdCAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICBjYXNlIGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuTW9udGg6XHJcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgICAgIGNhc2UgY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5ZZWFyOlxyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlWWVhckRhdGEodGhpcy55ZWFyc1tDYWxlbmRhckNvbXBvbmVudC5oYWxmTnVtWWVhcnNTaG93bl0gKyBDYWxlbmRhckNvbXBvbmVudC5udW1ZZWFyc1Nob3duKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgQ2FsZW5kYXJDb21wb25lbnQucHJvdG90eXBlLnJlbmRlckNhbGVuZGFyID0gZnVuY3Rpb24gKGNsaWNrQ2FsbGJhY2ssIGRhdGVUbywgZGF0ZUZyb20pIHtcclxuXHQgICAgICAgIHRoaXMuZ3JpZC5yZW5kZXJDYWxlbmRhcih0aGlzLmRhdGUsIGNsaWNrQ2FsbGJhY2ssIGRhdGVUbywgZGF0ZUZyb20pO1xyXG5cdCAgICB9O1xyXG5cdCAgICBDYWxlbmRhckNvbXBvbmVudC5wcm90b3R5cGUuc2V0TW9udGggPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuXHQgICAgICAgIHRoaXMuZGF0ZS5tb250aChpbmRleCk7XHJcblx0ICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5tb250aExpc3RlbmVyczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuXHQgICAgICAgICAgICB2YXIgZm4gPSBfYVtfaV07XHJcblx0ICAgICAgICAgICAgZm4oKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgQ2FsZW5kYXJDb21wb25lbnQucHJvdG90eXBlLnNldFllYXIgPSBmdW5jdGlvbiAoeWVhcikge1xyXG5cdCAgICAgICAgdGhpcy5kYXRlLnllYXIoeWVhcik7XHJcblx0ICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy55ZWFyTGlzdGVuZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG5cdCAgICAgICAgICAgIHZhciBmbiA9IF9hW19pXTtcclxuXHQgICAgICAgICAgICBmbigpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICAvKiogRGV0ZXJtaW5lcyBob3cgbWFueSB5ZWFyIGJ1dHRvbnMgYXJlIHNob3duLiAqL1xyXG5cdCAgICBDYWxlbmRhckNvbXBvbmVudC5udW1ZZWFyc1Nob3duID0gMTU7XHJcblx0ICAgIC8qKiBjb252ZW5pZW5jZSB2YXJpYWJsZSBmb3IgZ2VuZXJhdGluZyB5ZWFycyAqL1xyXG5cdCAgICBDYWxlbmRhckNvbXBvbmVudC5oYWxmTnVtWWVhcnNTaG93biA9IE1hdGguZmxvb3IoQ2FsZW5kYXJDb21wb25lbnQubnVtWWVhcnNTaG93biAvIDIpO1xyXG5cdCAgICBfX2RlY29yYXRlKFtcclxuXHQgICAgICAgIGNvcmVfMS5WaWV3Q2hpbGQoY2FsZW5kYXJfZ3JpZF9jb21wb25lbnRfMS5DYWxlbmRhckdyaWRDb21wb25lbnQpLCBcclxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgKHR5cGVvZiAoX2EgPSB0eXBlb2YgY2FsZW5kYXJfZ3JpZF9jb21wb25lbnRfMS5DYWxlbmRhckdyaWRDb21wb25lbnQgIT09ICd1bmRlZmluZWQnICYmIGNhbGVuZGFyX2dyaWRfY29tcG9uZW50XzEuQ2FsZW5kYXJHcmlkQ29tcG9uZW50KSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYSkgfHwgT2JqZWN0KVxyXG5cdCAgICBdLCBDYWxlbmRhckNvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JpZFwiLCB2b2lkIDApO1xyXG5cdCAgICBDYWxlbmRhckNvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xyXG5cdCAgICAgICAgY29yZV8xLkNvbXBvbmVudCh7XHJcblx0ICAgICAgICAgICAgc2VsZWN0b3I6ICdjdC1jYWxlbmRhcicsXHJcblx0ICAgICAgICAgICAgdGVtcGxhdGU6IF9fd2VicGFja19yZXF1aXJlX18oMTIpLFxyXG5cdCAgICAgICAgICAgIHN0eWxlczogW19fd2VicGFja19yZXF1aXJlX18oMTMpXSxcclxuXHQgICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBjb3JlXzEuVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxyXG5cdCAgICAgICAgfSksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbXSlcclxuXHQgICAgXSwgQ2FsZW5kYXJDb21wb25lbnQpO1xyXG5cdCAgICByZXR1cm4gQ2FsZW5kYXJDb21wb25lbnQ7XHJcblx0ICAgIHZhciBfYTtcclxuXHR9KCkpO1xyXG5cdGV4cG9ydHMuQ2FsZW5kYXJDb21wb25lbnQgPSBDYWxlbmRhckNvbXBvbmVudDtcclxuXG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHQoZnVuY3Rpb24gKENhbGVuZGFyTW9kZSkge1xyXG5cdCAgICBDYWxlbmRhck1vZGVbQ2FsZW5kYXJNb2RlW1wiQ2FsZW5kYXJcIl0gPSAwXSA9IFwiQ2FsZW5kYXJcIjtcclxuXHQgICAgQ2FsZW5kYXJNb2RlW0NhbGVuZGFyTW9kZVtcIk1vbnRoXCJdID0gMV0gPSBcIk1vbnRoXCI7XHJcblx0ICAgIENhbGVuZGFyTW9kZVtDYWxlbmRhck1vZGVbXCJZZWFyXCJdID0gMl0gPSBcIlllYXJcIjtcclxuXHR9KShleHBvcnRzLkNhbGVuZGFyTW9kZSB8fCAoZXhwb3J0cy5DYWxlbmRhck1vZGUgPSB7fSkpO1xyXG5cdHZhciBDYWxlbmRhck1vZGUgPSBleHBvcnRzLkNhbGVuZGFyTW9kZTtcclxuXG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcblx0ICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcblx0fTtcclxuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcclxuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xyXG5cdH07XHJcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcblx0dmFyIG1vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XHJcblx0dmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcclxuXHR2YXIgQ2FsZW5kYXJHcmlkQ29tcG9uZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuXHQgICAgZnVuY3Rpb24gQ2FsZW5kYXJHcmlkQ29tcG9uZW50KG15RWxlbWVudCwgcmVuZGVyZXIpIHtcclxuXHQgICAgICAgIHRoaXMubXlFbGVtZW50ID0gbXlFbGVtZW50O1xyXG5cdCAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG5cdCAgICB9XHJcblx0ICAgIENhbGVuZGFyR3JpZENvbXBvbmVudC5wcm90b3R5cGUubmdPbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgIH07XHJcblx0ICAgIENhbGVuZGFyR3JpZENvbXBvbmVudC5wcm90b3R5cGUubmdPbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBSZW5kZXJzIGEgY2FsZW5kYXIgYmFzZWQgb24gdGhlIGRhdGUsIHNlbGVjdGluZyB0aGUgcHJvcGVyIGZyb20vdG8gaWYgdmlzaWJsZS5cclxuXHQgICAgICovXHJcblx0ICAgIENhbGVuZGFyR3JpZENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyQ2FsZW5kYXIgPSBmdW5jdGlvbiAoZGF0ZSwgY2xpY2tDYWxsYmFjaywgZGF0ZVRvLCBkYXRlRnJvbSkge1xyXG5cdCAgICAgICAgdmFyIGQgPSBtb21lbnQoZGF0ZSk7XHJcblx0ICAgICAgICBkLmRhdGUoMSk7IC8vcmVzZXQgZGF0ZS5cclxuXHQgICAgICAgIHZhciBoZWFkZXIgPSAkKFwiPGRpdiBjbGFzcz0nY3QtZHAtY2FsLWhlYWRlcic+PC9kaXY+XCIpO1xyXG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpKyspIHtcclxuXHQgICAgICAgICAgICBkLmRheShpKTtcclxuXHQgICAgICAgICAgICB2YXIgZWwgPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcblx0ICAgICAgICAgICAgZWwudGV4dChkLmZvcm1hdChcImRkXCIpKTtcclxuXHQgICAgICAgICAgICBlbC5hdHRyKFwiY3QtY2FsLWRwLWRheVwiLCBpLnRvU3RyaW5nKCkpO1xyXG5cdCAgICAgICAgICAgIGVsLmFkZENsYXNzKFwiY3QtZHAtY2FsLWRheVwiKTtcclxuXHQgICAgICAgICAgICBoZWFkZXIuYXBwZW5kKGVsKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGQuZGF0ZSgxKTsgLy9yZXNldCBkYXRlLlxyXG5cdCAgICAgICAgdmFyIGJvZHkgPSAkKFwiPGRpdiBjbGFzcz0nY3QtZHAtY2FsLWJvZHknPjwvZGl2PlwiKTtcclxuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZC5kYXkoKTsgaSsrKSB7XHJcblx0ICAgICAgICAgICAgdmFyIGVsID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG5cdCAgICAgICAgICAgIGVsLmF0dHIoXCJjdC1kcC1jYWwtZGF5XCIsIGkudG9TdHJpbmcoKSk7XHJcblx0ICAgICAgICAgICAgZWwuYWRkQ2xhc3MoXCJjdC1kcC1jYWwtZGF5XCIpO1xyXG5cdCAgICAgICAgICAgIGJvZHkuYXBwZW5kKGVsKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHdoaWxlIChkLm1vbnRoKCkgPT09IGRhdGUubW9udGgoKSkge1xyXG5cdCAgICAgICAgICAgIHZhciBlbCA9ICQoXCI8YnV0dG9uPjwvYnV0dG9uPlwiKTtcclxuXHQgICAgICAgICAgICBlbC50ZXh0KChkLmRhdGUoKSkudG9TdHJpbmcoKSk7XHJcblx0ICAgICAgICAgICAgZWwuYXR0cihcImN0LWRwLWNhbC1kYXlcIiwgZC5kYXRlKCkudG9TdHJpbmcoKSk7XHJcblx0ICAgICAgICAgICAgZWwuYXR0cihcInRhYkluZGV4XCIsIFwiLTFcIik7XHJcblx0ICAgICAgICAgICAgZWwuYWRkQ2xhc3MoXCJjdC1kcC1jYWwtZGF5XCIpO1xyXG5cdCAgICAgICAgICAgIGlmICgoZGF0ZVRvICYmIGQuaXNTYW1lKGRhdGVUbywgXCJkYXlcIikpIHx8IChkYXRlRnJvbSAmJiBkLmlzU2FtZShkYXRlRnJvbSwgXCJkYXlcIikpKSB7XHJcblx0ICAgICAgICAgICAgICAgIGVsLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICBpZiAoZGF0ZUZyb20gJiYgZGF0ZVRvICYmIGQuaXNCZXR3ZWVuKGRhdGVGcm9tLCBkYXRlVG8pKSB7XHJcblx0ICAgICAgICAgICAgICAgIGVsLmFkZENsYXNzKFwiYmV0d2VlblwiKTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgZWwuY2xpY2soY2xpY2tDYWxsYmFjayhkKSk7XHJcblx0ICAgICAgICAgICAgZC5kYXRlKGQuZGF0ZSgpICsgMSk7XHJcblx0ICAgICAgICAgICAgYm9keS5hcHBlbmQoZWwpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgJCh0aGlzLm15RWxlbWVudC5uYXRpdmVFbGVtZW50KS5lbXB0eSgpO1xyXG5cdCAgICAgICAgaGVhZGVyLmFwcGVuZFRvKHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpO1xyXG5cdCAgICAgICAgYm9keS5hcHBlbmRUbyh0aGlzLm15RWxlbWVudC5uYXRpdmVFbGVtZW50KTtcclxuXHQgICAgfTtcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIERlcHJlY2F0ZWQgdW50aWwgc3VwcG9ydCBvZiByZW5kZXJlciBpcyBtb3JlIHN0YWJsZS5cclxuXHQgICAgICovXHJcblx0ICAgIENhbGVuZGFyR3JpZENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyQ2FsZW5kYXJSZW5kZXJlciA9IGZ1bmN0aW9uIChjYWwsIGNsaWNrQ2FsbGJhY2ssIGRhdGVUbywgZGF0ZUZyb20pIHtcclxuXHQgICAgICAgIHZhciBkID0gbW9tZW50KGNhbC5kYXRlKTtcclxuXHQgICAgICAgIGQuZGF0ZSgxKTsgLy9yZXNldCBkYXRlLlxyXG5cdCAgICAgICAgdGhpcy5yZW5kZXJlci5zZWxlY3RSb290RWxlbWVudCh0aGlzLm15RWxlbWVudC5uYXRpdmVFbGVtZW50KTtcclxuXHQgICAgICAgIHZhciBoZWFkZXJFbGVtZW50ID0gdGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIFwiZGl2XCIpO1xyXG5cdCAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50Q2xhc3MoaGVhZGVyRWxlbWVudCwgXCIuY3QtZHAtY2FsLWhlYWRlclwiLCB0cnVlKTtcclxuXHQgICAgICAgIHZhciBjYWxFbGVtZW50ID0gdGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIFwiZGl2XCIpO1xyXG5cdCAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50Q2xhc3MoaGVhZGVyRWxlbWVudCwgXCIuY3QtZHAtY2FsLWJvZHlcIiwgdHJ1ZSk7XHJcblx0ICAgICAgICAvL0FkZCBuYW1lIGZvciBkYXkgb2Ygd2Vla1xyXG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpKyspIHtcclxuXHQgICAgICAgICAgICBkLmRheShpKTtcclxuXHQgICAgICAgICAgICB2YXIgZWwgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoaGVhZGVyRWxlbWVudCwgXCJkaXZcIik7XHJcblx0ICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRUZXh0KGVsLCBkLmZvcm1hdChcImRkXCIpKTtcclxuXHQgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRBdHRyaWJ1dGUoZWwsIFwiY3QtY2FsLWRwLWRheVwiLCBpLnRvU3RyaW5nKCkpO1xyXG5cdCAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKGVsLCBcImN0LWRwLWNhbC1kYXlcIiwgdHJ1ZSk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBkLmRhdGUoMSk7IC8vcmVzZXQgZGF0ZS5cclxuXHQgICAgICAgIC8vQWRkIGJsYW5rIGZpbGxlciBkYXlzLlxyXG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkLmRheSgpOyBpKyspIHtcclxuXHQgICAgICAgICAgICB2YXIgZWwgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoY2FsRWxlbWVudCwgXCJkaXZcIik7XHJcblx0ICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50QXR0cmlidXRlKGVsLCBcImN0LWRwLWNhbC1kYXlcIiwgaS50b1N0cmluZygpKTtcclxuXHQgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRDbGFzcyhlbCwgXCJjdC1kcC1jYWwtZGF5XCIsIHRydWUpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgLy9BZGQgY2FsZW5kYXJcclxuXHQgICAgICAgIHdoaWxlIChkLm1vbnRoKCkgPT09IGNhbC5kYXRlLm1vbnRoKCkpIHtcclxuXHQgICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gdGhpcztcclxuXHQgICAgICAgICAgICB2YXIgZWwgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoY2FsRWxlbWVudCwgXCJidXR0b25cIik7XHJcblx0ICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRUZXh0KGVsLCAoZC5kYXRlKCkpLnRvU3RyaW5nKCkpO1xyXG5cdCAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgXCJjdC1kcC1jYWwtZGF5XCIsIGQuZGF0ZSgpLnRvU3RyaW5nKCkpO1xyXG5cdCAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgXCJ0YWJpbmRleFwiLCBcIi0xXCIpO1xyXG5cdCAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKGVsLCBcImN0LWRwLWNhbC1kYXlcIiwgdHJ1ZSk7XHJcblx0ICAgICAgICAgICAgaWYgKChkYXRlVG8gJiYgZC5pc1NhbWUoZGF0ZVRvLCBcImRheVwiKSkgfHwgKGRhdGVGcm9tICYmIGQuaXNTYW1lKGRhdGVGcm9tLCBcImRheVwiKSkpIHtcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50Q2xhc3MoZWwsIFwiYWN0aXZlXCIsIHRydWUpO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICBpZiAoZGF0ZUZyb20gJiYgZGF0ZVRvICYmIGQuaXNCZXR3ZWVuKGRhdGVGcm9tLCBkYXRlVG8pKSB7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKGVsLCBcImJldHdlZW5cIiwgdHJ1ZSk7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIHRoaXMucmVuZGVyZXIubGlzdGVuKGVsLCBcImNsaWNrXCIsIGNsaWNrQ2FsbGJhY2soZCkpO1xyXG5cdCAgICAgICAgICAgIGQuZGF0ZShkLmRhdGUoKSArIDEpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBDYWxlbmRhckdyaWRDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcclxuXHQgICAgICAgIGNvcmVfMS5Db21wb25lbnQoe1xyXG5cdCAgICAgICAgICAgIHNlbGVjdG9yOiAnY3QtY2FsZW5kYXItZ3JpZCcsXHJcblx0ICAgICAgICAgICAgdGVtcGxhdGU6ICcnLFxyXG5cdCAgICAgICAgICAgIHN0eWxlczogW19fd2VicGFja19yZXF1aXJlX18oMTEpXSxcclxuXHQgICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBjb3JlXzEuVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxyXG5cdCAgICAgICAgfSksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbKHR5cGVvZiAoX2EgPSB0eXBlb2YgY29yZV8xLkVsZW1lbnRSZWYgIT09ICd1bmRlZmluZWQnICYmIGNvcmVfMS5FbGVtZW50UmVmKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYSkgfHwgT2JqZWN0LCAodHlwZW9mIChfYiA9IHR5cGVvZiBjb3JlXzEuUmVuZGVyZXIgIT09ICd1bmRlZmluZWQnICYmIGNvcmVfMS5SZW5kZXJlcikgPT09ICdmdW5jdGlvbicgJiYgX2IpIHx8IE9iamVjdF0pXHJcblx0ICAgIF0sIENhbGVuZGFyR3JpZENvbXBvbmVudCk7XHJcblx0ICAgIHJldHVybiBDYWxlbmRhckdyaWRDb21wb25lbnQ7XHJcblx0ICAgIHZhciBfYSwgX2I7XHJcblx0fSgpKTtcclxuXHRleHBvcnRzLkNhbGVuZGFyR3JpZENvbXBvbmVudCA9IENhbGVuZGFyR3JpZENvbXBvbmVudDtcclxuXG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzEwX187XG5cbi8qKiovIH0sXG4vKiAxMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIlwiXG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcImN0LWRwLWNhbFxcXCIgW25nQ2xhc3NdPVxcXCJ7J2hpZGRlbic6IG1vZGUgIT0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyfVxcXCI+XFxyXFxuICAgIDxjdC1jYWxlbmRhci1ncmlkPjwvY3QtY2FsZW5kYXItZ3JpZD5cXHJcXG48L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVxcXCJjdC1kcC1tb250aHNcXFwiIFtuZ0NsYXNzXT1cXFwieydoaWRkZW4nOiBtb2RlICE9IENhbGVuZGFyTW9kZS5Nb250aH1cXFwiPlxcclxcbiAgICA8dGVtcGxhdGUgbmdGb3IgbGV0LWl0ZW0gW25nRm9yT2ZdPVxcXCJtb250aHNcXFwiIFtuZ0ZvclRyYWNrQnldPVxcXCJteVRyYWNrQnlcXFwiIGxldC1pPVxcXCJpbmRleFxcXCI+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4gY3QtZHAtbW9udGhcXFwiIChjbGljayk9XFxcInNldE1vbnRoKGkpXFxcIj57e2l0ZW19fTwvYnV0dG9uPlxcclxcbiAgICA8L3RlbXBsYXRlPlxcclxcbjwvZGl2PlxcclxcbjxkaXYgY2xhc3M9XFxcImN0LWRwLXllYXJzXFxcIiBbbmdDbGFzc109XFxcInsnaGlkZGVuJzogbW9kZSAhPSBDYWxlbmRhck1vZGUuWWVhcn1cXFwiPlxcclxcbiAgICA8dGVtcGxhdGUgbmdGb3IgbGV0LWl0ZW0gW25nRm9yT2ZdPVxcXCJ5ZWFyc1xcXCIgW25nRm9yVHJhY2tCeV09XFxcIm15VHJhY2tCeVxcXCIgbGV0LWk9XFxcImluZGV4XFxcIj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0biBjdC1kcC15ZWFyXFxcIiAoY2xpY2spPVxcXCJzZXRZZWFyKGl0ZW0pXFxcIj57e2l0ZW19fTwvYnV0dG9uPlxcclxcbiAgICA8L3RlbXBsYXRlPlxcclxcbjwvZGl2PlwiO1xuXG4vKioqLyB9LFxuLyogMTMgKi9cbjExLFxuLyogMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8IS0tPGlucHV0IFxcclxcbiAgICBjbGFzcz1cXFwiY3QtZHAtaW5wdXRcXFwiIFxcclxcbiAgICB0eXBlPVxcXCJ0ZXh0XFxcIiBcXHJcXG4gICAgKGZvY3VzKT1cXFwiY2hhbmdlR2xvYmFsTW9kZShEYXRlUGlja2VyTW9kZS5WaXNpYmxlKVxcXCJcXHJcXG4gICAgKGtleWRvd24pPVxcXCJibHVyKCRldmVudClcXFwiIFxcclxcbiAgICBbbmdNb2RlbF09XFxcImRhdGVTdHJpbmdcXFwiXFxyXFxuICAgIChuZ01vZGVsQ2hhbmdlKT1cXFwib25EYXRlU3RyaW5nQ2hhbmdlKCRldmVudClcXFwiXFxyXFxuICAgIFtkaXNhYmxlZF09XFxcImRpc2FibGVkXFxcIlxcclxcbiAgICBbY2xhc3MuYWN0aXZlXT1cXFwibW9kZSAhPT0gRGF0ZVBpY2tlck1vZGUuSGlkZGVuXFxcIlxcclxcbiAgICBbbmdDbGFzc109XFxcImlucHV0Q2xhc3NcXFwiXFxyXFxuICAgIHRhYmluZGV4PVxcXCIwXFxcIlxcclxcbiAgICBhdXRvY29tcGxldGU9XFxcIm9mZlxcXCJcXHJcXG4vPi0tPlxcclxcbjxkaXYgY2xhc3M9XFxcImN0LWRwLXNoYWRvdy1ib3hcXFwiIChjbGljayk9XFxcImNoYW5nZUdsb2JhbE1vZGUoRGF0ZVBpY2tlck1vZGUuSGlkZGVuKVxcXCIgKm5nSWY9XFxcIm1vZGUgIT0gRGF0ZVBpY2tlck1vZGUuSGlkZGVuXFxcIj5cXHJcXG48L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVxcXCJjdC1kcC1waWNrZXJcXFwiIFtjbGFzcy5oaWRkZW5dPVxcXCJtb2RlID09IERhdGVQaWNrZXJNb2RlLkhpZGRlblxcXCIgY2FyZXQtbGVmdD1cXFwiMTAlXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY3QtZHAtY2FyZXQtMVxcXCI+PC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImN0LWRwLWNhcmV0LTJcXFwiPjwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjdC1kcC1oZWFkZXJcXFwiPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLXByZXYgIGN0LWRwLWJ0blxcXCIgKGNsaWNrKT1cXFwiZ29QcmV2KClcXFwiIFtkaXNhYmxlZF09XFxcImNhbC5tb2RlID09IENhbGVuZGFyTW9kZS5Nb250aFxcXCI+Jmx0OzwvYnV0dG9uPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLW1vbnRoIGN0LWRwLWJ0blxcXCIgKGNsaWNrKT1cXFwiY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuTW9udGgpXFxcIj57e2NhbC5kYXRlLmZvcm1hdChcXFwiTU1NTVxcXCIpfX08L2J1dHRvbj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0bi15ZWFyICBjdC1kcC1idG5cXFwiIChjbGljayk9XFxcImNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLlllYXIpXFxcIj57e2NhbC5kYXRlLmZvcm1hdChcXFwiWVlZWVxcXCIpfX08L2J1dHRvbj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0bi1uZXh0ICBjdC1kcC1idG5cXFwiIChjbGljayk9XFxcImdvTmV4dCgpXFxcIiBbZGlzYWJsZWRdPVxcXCJjYWwubW9kZSA9PSBDYWxlbmRhck1vZGUuTW9udGhcXFwiPiZndDs8L2J1dHRvbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxjdC1jYWxlbmRhcj48L2N0LWNhbGVuZGFyPlxcclxcbjwvZGl2PlwiO1xuXG4vKioqLyB9LFxuLyogMTUgKi9cbjExLFxuLyogMTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCIuY3QtZHAtaW5wdXQuYWN0aXZle3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MTAxfS5jdC1kcC1zaGFkb3ctYm94e3Bvc2l0aW9uOmZpeGVkO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7bGVmdDowO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7ei1pbmRleDoxMDB9LmN0LWRwLXBpY2tlcnt3aWR0aDoyMjBweDtib3JkZXI6MXB4IHNvbGlkICM4MDgwODA7Ym94LXNpemluZzpjb250ZW50LWJveDtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjEwMTtiYWNrZ3JvdW5kLWNvbG9yOndoaXRlO21hcmdpbi10b3A6MTRweDt0cmFuc2l0aW9uOi41c30uY3QtZHAtcGlja2VyLmN0LWRwLWR1YWxwaWNrZXJ7d2lkdGg6NDQwcHh9LmN0LWRwLXBpY2tlci5jdC1kcC1waWNrZXItdG97bWFyZ2luLWxlZnQ6MTVweH0uY3QtZHAtY2FyZXQtMiwuY3QtZHAtY2FyZXQtMXtib3R0b206MTAwJTtsZWZ0OjEwJTtib3JkZXI6c29saWQgdHJhbnNwYXJlbnQ7aGVpZ2h0OjA7d2lkdGg6MDtwb3NpdGlvbjphYnNvbHV0ZTtwb2ludGVyLWV2ZW50czpub25lO3RyYW5zaXRpb246LjVzfS5jdC1kcC1jYXJldC0ye2JvcmRlci1jb2xvcjpyZ2JhKDEzNiwxODMsMjEzLDApO2JvcmRlci1ib3R0b20tY29sb3I6d2hpdGU7Ym9yZGVyLXdpZHRoOjE0cHg7bWFyZ2luLWxlZnQ6LTE0cHh9LmN0LWRwLWNhcmV0LTF7Ym9yZGVyLWNvbG9yOnJnYmEoMTk0LDIyNSwyNDUsMCk7Ym9yZGVyLWJvdHRvbS1jb2xvcjojODA4MDgwO2JvcmRlci13aWR0aDoxNnB4O21hcmdpbi1sZWZ0Oi0xNnB4fS5jdC1kcC1oZWFkZXJ7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzgwODA4MH0uY3QtZHAtY2Fse3BhZGRpbmc6NXB4O3dpZHRoOjIyMHB4O2Zsb2F0OmxlZnR9LmN0LWRwLWNhbC1pbmFjdGl2ZXt2aXNpYmlsaXR5OmhpZGRlbn0uY3QtZHAtY2FsLWhlYWRlcntjb2xvcjojODA4MDgwfS5jdC1kcC1jYWwtZGF5e3dpZHRoOjMwcHg7aGVpZ2h0OjMwcHg7ZmxvYXQ6bGVmdDt0ZXh0LWFsaWduOmNlbnRlcn0uY3QtZHAtY2FsLWRheS5hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjpsaWdodGJsdWV9LmN0LWRwLWNhbC1kYXkuYmV0d2VlbntiYWNrZ3JvdW5kLWNvbG9yOmxpZ2h0Z3JheX0uY3QtZHAtbW9udGhzLC5jdC1kcC15ZWFyc3t3aWR0aDoyMjBweDtmbG9hdDpsZWZ0O3BhZGRpbmc6NXB4fS5jdC1kcC1tb250aCwuY3QtZHAteWVhcnt3aWR0aDozMy4zMyU7ZmxvYXQ6bGVmdDt0ZXh0LWFsaWduOmNlbnRlcn0uY3QtZHAtYnRue3BhZGRpbmc6NHB4O2JhY2tncm91bmQtY29sb3I6d2hpdGU7Ym9yZGVyOm5vbmV9LmN0LWRwLWJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiM5OTl9LmN0LWRwLWJ0bltkaXNhYmxlZF06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp3aGl0ZX0uY3QtZHAtYnRuW2Rpc2FibGVkXXtjb2xvcjp3aGl0ZX0uY3QtZHAtcGlja2VyIC5jdC1kcC1idG4tcHJldiwuY3QtZHAtcGlja2VyIC5jdC1kcC1idG4tbmV4dHt3aWR0aDoxMCV9LmN0LWRwLXBpY2tlciAuY3QtZHAtYnRuLW1vbnRoe3dpZHRoOjUwJTtmb250LXdlaWdodDo1MDB9LmN0LWRwLXBpY2tlciAuY3QtZHAtYnRuLXllYXJ7d2lkdGg6MzAlO2ZvbnQtd2VpZ2h0OjUwMH0uY3QtZHAtcGlja2VyLmN0LWRwLWR1YWxwaWNrZXIgLmN0LWRwLWJ0bi1wcmV2LC5jdC1kcC1waWNrZXIuY3QtZHAtZHVhbHBpY2tlciAuY3QtZHAtYnRuLW5leHR7d2lkdGg6NSV9LmN0LWRwLXBpY2tlci5jdC1kcC1kdWFscGlja2VyIC5jdC1kcC1idG4tbW9udGh7d2lkdGg6MjUlfS5jdC1kcC1waWNrZXIuY3QtZHAtZHVhbHBpY2tlciAuY3QtZHAtYnRuLXllYXJ7d2lkdGg6MTUlfS5jbGVhcmZpeCwuY3QtZHAtY2FsOmFmdGVyLC5jdC1kcC1tb250aHM6YWZ0ZXIsLmN0LWRwLXllYXJzOmFmdGVye3Zpc2liaWxpdHk6aGlkZGVuO2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjA7Y29udGVudDpcXFwiIFxcXCI7Y2xlYXI6Ym90aDtoZWlnaHQ6MH0ubm8tYnV0dG9uLC5jdC1kcC1jYWwtZGF5e2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmUgIWltcG9ydGFudH0ucHVsbC1yaWdodHtmbG9hdDpyaWdodH0uaGlkZGVue2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fVwiXG5cbi8qKiovIH0sXG4vKiAxNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0dmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG5cdCAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG5cdH07XHJcblx0dmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XHJcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcclxuXHR9O1xyXG5cdHZhciBjb3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5cdHZhciBtb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG5cdHZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XHJcblx0dmFyIGNhbGVuZGFyX2NvbXBvbmVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcclxuXHR2YXIgY2FsZW5kYXJfbW9kZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcclxuXHQvKipcclxuXHQgKiBEZWZpbmVzIHRoZSBtb2RlIG9mIHRoZSBwaWNrZXJcclxuXHQgKi9cclxuXHQoZnVuY3Rpb24gKER1YWxQaWNrZXJNb2RlKSB7XHJcblx0ICAgIC8qKiBBbGxvd3Mgc2VsZWN0aW9uIG9mIHRoZSB0byBkYXRlLiAqL1xyXG5cdCAgICBEdWFsUGlja2VyTW9kZVtEdWFsUGlja2VyTW9kZVtcIlRvXCJdID0gMF0gPSBcIlRvXCI7XHJcblx0ICAgIC8qKiBBbGxvd3Mgc2VsZWN0aW9uIG9mIHRoZSBmcm9tIGRhdGUuICovXHJcblx0ICAgIER1YWxQaWNrZXJNb2RlW0R1YWxQaWNrZXJNb2RlW1wiRnJvbVwiXSA9IDFdID0gXCJGcm9tXCI7XHJcblx0ICAgIC8qKiBNYWtlcyB0aGUgcGlja2VyIGhpZGRlbiwgZGVmYXVsdCBzdGF0ZS4gKi9cclxuXHQgICAgRHVhbFBpY2tlck1vZGVbRHVhbFBpY2tlck1vZGVbXCJIaWRkZW5cIl0gPSAyXSA9IFwiSGlkZGVuXCI7XHJcblx0fSkoZXhwb3J0cy5EdWFsUGlja2VyTW9kZSB8fCAoZXhwb3J0cy5EdWFsUGlja2VyTW9kZSA9IHt9KSk7XHJcblx0dmFyIER1YWxQaWNrZXJNb2RlID0gZXhwb3J0cy5EdWFsUGlja2VyTW9kZTtcclxuXHR2YXIgRHVhbFBpY2tlckNvbXBvbmVudCA9IChmdW5jdGlvbiAoKSB7XHJcblx0ICAgIGZ1bmN0aW9uIER1YWxQaWNrZXJDb21wb25lbnQobXlFbGVtZW50KSB7XHJcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cdCAgICAgICAgdGhpcy5teUVsZW1lbnQgPSBteUVsZW1lbnQ7XHJcblx0ICAgICAgICAvL0VudW0gZGVmaW5pdGlvbnMgZm9yIGFjY2VzcyBpbiB2aWV3XHJcblx0ICAgICAgICB0aGlzLkNhbGVuZGFyTW9kZSA9IGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGU7XHJcblx0ICAgICAgICB0aGlzLkR1YWxQaWNrZXJNb2RlID0gRHVhbFBpY2tlck1vZGU7XHJcblx0ICAgICAgICAvKiogRW1pdHRlciBmb3IgY2hhbmdlIChmcm9tKSovXHJcblx0ICAgICAgICB0aGlzLmRhdGVGcm9tQ2hhbmdlID0gbmV3IGNvcmVfMS5FdmVudEVtaXR0ZXIoKTtcclxuXHQgICAgICAgIC8qKiBFbWl0dGVyIGZvciBjaGFuZ2UgKHRvKSAqL1xyXG5cdCAgICAgICAgdGhpcy5kYXRlVG9DaGFuZ2UgPSBuZXcgY29yZV8xLkV2ZW50RW1pdHRlcigpO1xyXG5cdCAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cdCAgICAgICAgLyoqIE1vZGUgKi9cclxuXHQgICAgICAgIHRoaXMubW9kZSA9IER1YWxQaWNrZXJNb2RlLkhpZGRlbjtcclxuXHQgICAgICAgIHRoaXMubW9udGgxQ2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgX3RoaXMuc2hpZnRDYWwyKCk7XHJcblx0ICAgICAgICAgICAgX3RoaXMuY2hhbmdlTW9kZShjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyLCBfdGhpcy5jYWwxKTtcclxuXHQgICAgICAgICAgICBfdGhpcy5jaGFuZ2VNb2RlKGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuQ2FsZW5kYXIsIF90aGlzLmNhbDIpO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIHRoaXMubW9udGgyQ2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgX3RoaXMuc2hpZnRDYWwxKCk7XHJcblx0ICAgICAgICAgICAgX3RoaXMuY2hhbmdlTW9kZShjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyLCBfdGhpcy5jYWwxKTtcclxuXHQgICAgICAgICAgICBfdGhpcy5jaGFuZ2VNb2RlKGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuQ2FsZW5kYXIsIF90aGlzLmNhbDIpO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIHRoaXMueWVhcjFDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgICBfdGhpcy5zaGlmdENhbDIoKTtcclxuXHQgICAgICAgICAgICBfdGhpcy5jaGFuZ2VNb2RlKGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuQ2FsZW5kYXIsIF90aGlzLmNhbDEpO1xyXG5cdCAgICAgICAgICAgIF90aGlzLmNoYW5nZU1vZGUoY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhciwgX3RoaXMuY2FsMik7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgdGhpcy55ZWFyMkNoYW5nZUxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICAgIF90aGlzLnNoaWZ0Q2FsMSgpO1xyXG5cdCAgICAgICAgICAgIF90aGlzLmNoYW5nZU1vZGUoY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhciwgX3RoaXMuY2FsMSk7XHJcblx0ICAgICAgICAgICAgX3RoaXMuY2hhbmdlTW9kZShjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyLCBfdGhpcy5jYWwyKTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICB0aGlzLmRhdGVDbGlja0xpc3RlbmVyID0gZnVuY3Rpb24gKGRhdGUpIHtcclxuXHQgICAgICAgICAgICB2YXIgZCA9IG1vbWVudChkYXRlKTtcclxuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICAgICAgICBfdGhpcy5zZXREYXRlKGQpO1xyXG5cdCAgICAgICAgICAgIH07XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICB9XHJcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRlRnJvbVwiLCB7XHJcblx0ICAgICAgICAvKiogSW5wdXQgZGVmaW5pdGlvbiBmb3IgKGZyb20pICovXHJcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRlRnJvbVZhbHVlO1xyXG5cdCAgICAgICAgfSxcclxuXHQgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG5cdCAgICAgICAgICAgIHRoaXMuZGF0ZUZyb21TdHJpbmcgPSB2YWwuZm9ybWF0KFwiTU0vREQvWVlZWVwiKTtcclxuXHQgICAgICAgICAgICB0aGlzLmRhdGVGcm9tVmFsdWUgPSB2YWw7XHJcblx0ICAgICAgICAgICAgdGhpcy5kYXRlRnJvbUNoYW5nZS5lbWl0KHZhbCk7XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG5cdCAgICB9KTtcclxuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGVUb1wiLCB7XHJcblx0ICAgICAgICAvKiogSW5wdXQgZGVmaW5pdGlvbiBmb3IgKHRvKSAqL1xyXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZVRvVmFsdWU7XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5kYXRlVG9TdHJpbmcgPSB2YWwuZm9ybWF0KFwiTU0vREQvWVlZWVwiKTtcclxuXHQgICAgICAgICAgICB0aGlzLmRhdGVUb1ZhbHVlID0gdmFsO1xyXG5cdCAgICAgICAgICAgIHRoaXMuZGF0ZVRvQ2hhbmdlLmVtaXQodmFsKTtcclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcblx0ICAgIH0pO1xyXG5cdCAgICAvKipcclxuXHQgICAgICogQ2hhbmdlcyB0aGUgZ2xvYmFsIG1vZGUgb2YgdGhlIHBpY2tlciAobm90IHRoZSBtb2RlIG9mIHRoZSBjYWxlbmRhcilcclxuXHQgICAgICovXHJcblx0ICAgIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLmNoYW5nZUdsb2JhbE1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xyXG5cdCAgICAgICAgY29uc29sZS5sb2cobW9kZSk7XHJcblx0ICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xyXG5cdCAgICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcclxuXHQgICAgICAgICAgICBjYXNlIER1YWxQaWNrZXJNb2RlLlRvOlxyXG5cdCAgICAgICAgICAgICAgICB2YXIgbCA9ICQodGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCkuZmluZChcIi5jdC1kcC1pbnB1dC10b1wiKS5wb3NpdGlvbigpLmxlZnQ7XHJcblx0ICAgICAgICAgICAgICAgICQodGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCkuZmluZChcIi5jdC1kcC1jYXJldFwiKS5jc3MoeyBcImxlZnRcIjogbCB9KTtcclxuXHQgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICAgICAgY2FzZSBEdWFsUGlja2VyTW9kZS5Gcm9tOlxyXG5cdCAgICAgICAgICAgICAgICB2YXIgbGZyb20gPSAkKHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpLmZpbmQoXCIuY3QtZHAtaW5wdXQtZnJvbVwiKS5wb3NpdGlvbigpLmxlZnQ7XHJcblx0ICAgICAgICAgICAgICAgICQodGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCkuZmluZChcIi5jdC1kcC1jYXJldFwiKS5jc3MoeyBcImxlZnRcIjogbGZyb20gfSk7XHJcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgdGhpcy5jaGFuZ2VNb2RlKGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuQ2FsZW5kYXIsIHRoaXMuY2FsMSk7XHJcblx0ICAgICAgICB0aGlzLmNoYW5nZU1vZGUoY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhciwgdGhpcy5jYWwyKTtcclxuXHQgICAgfTtcclxuXHQgICAgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUub25EYXRlRnJvbVN0cmluZ0NoYW5nZSA9IGZ1bmN0aW9uICh2YWwpIHtcclxuXHQgICAgICAgIHRoaXMuZGF0ZUZyb21TdHJpbmcgPSB2YWw7XHJcblx0ICAgICAgICB2YXIgbSA9IG1vbWVudChuZXcgRGF0ZSh2YWwpKTtcclxuXHQgICAgICAgIGlmIChtLmlzVmFsaWQoKSkge1xyXG5cdCAgICAgICAgICAgIHRoaXMuZGF0ZUZyb21WYWx1ZS5zZXQobS50b09iamVjdCgpKTtcclxuXHQgICAgICAgICAgICB0aGlzLmNvcnJlY3REYXRlVG8oKTtcclxuXHQgICAgICAgICAgICB0aGlzLmNhbDEuZGF0ZSA9IHRoaXMuZGF0ZUZyb21WYWx1ZTtcclxuXHQgICAgICAgICAgICB0aGlzLnNoaWZ0Q2FsMigpO1xyXG5cdCAgICAgICAgICAgIHRoaXMuZGF0ZUZyb21DaGFuZ2UuZW1pdCh0aGlzLmRhdGVGcm9tVmFsdWUpO1xyXG5cdCAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUub25EYXRlVG9TdHJpbmdDaGFuZ2UgPSBmdW5jdGlvbiAodmFsKSB7XHJcblx0ICAgICAgICB0aGlzLmRhdGVUb1N0cmluZyA9IHZhbDtcclxuXHQgICAgICAgIHZhciBtID0gbW9tZW50KG5ldyBEYXRlKHZhbCkpO1xyXG5cdCAgICAgICAgaWYgKG0uaXNWYWxpZCgpKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5kYXRlVG9WYWx1ZS5zZXQobS50b09iamVjdCgpKTtcclxuXHQgICAgICAgICAgICB0aGlzLmNvcnJlY3REYXRlRnJvbSgpO1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2FsMi5kYXRlID0gdGhpcy5kYXRlVG9WYWx1ZTtcclxuXHQgICAgICAgICAgICB0aGlzLnNoaWZ0Q2FsMSgpO1xyXG5cdCAgICAgICAgICAgIHRoaXMuZGF0ZVRvQ2hhbmdlLmVtaXQodGhpcy5kYXRlVG9WYWx1ZSk7XHJcblx0ICAgICAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5zaGlmdENhbDEgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICB0aGlzLmNhbDEuZGF0ZSA9IG1vbWVudCh0aGlzLmNhbDIuZGF0ZSk7XHJcblx0ICAgICAgICB0aGlzLmNhbDEuZGF0ZS5zdWJ0cmFjdCh7IFwibW9udGhcIjogMSB9KTtcclxuXHQgICAgfTtcclxuXHQgICAgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUuc2hpZnRDYWwyID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgdGhpcy5jYWwyLmRhdGUgPSBtb21lbnQodGhpcy5jYWwxLmRhdGUpO1xyXG5cdCAgICAgICAgdGhpcy5jYWwyLmRhdGUuYWRkKHsgXCJtb250aFwiOiAxIH0pO1xyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5ibHVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcblx0ICAgICAgICBpZiAoKGV2ZW50LndoaWNoIHx8IGV2ZW50LmtleUNvZGUpID09IDkpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmNoYW5nZUdsb2JhbE1vZGUoRHVhbFBpY2tlck1vZGUuSGlkZGVuKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUuY2hhbmdlTW9kZSA9IGZ1bmN0aW9uIChtb2RlLCBjYWwpIHtcclxuXHQgICAgICAgIGNhbC5jaGFuZ2VNb2RlKG1vZGUpO1xyXG5cdCAgICAgICAgc3dpdGNoIChtb2RlKSB7XHJcblx0ICAgICAgICAgICAgY2FzZSBjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyOlxyXG5cdCAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5nb1ByZXYgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICBpZiAodGhpcy5jYWwxLm1vZGUgPT0gY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhciAmJiB0aGlzLmNhbDIubW9kZSA9PSBjYWxlbmRhcl9tb2RlXzEuQ2FsZW5kYXJNb2RlLkNhbGVuZGFyKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5jYWwxLmRhdGUubW9udGgodGhpcy5jYWwxLmRhdGUubW9udGgoKSAtIDEpO1xyXG5cdCAgICAgICAgICAgIHRoaXMuc2hpZnRDYWwyKCk7XHJcblx0ICAgICAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5jYWwxLmdvUHJldigpO1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2FsMi5nb1ByZXYoKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUuZ29OZXh0ID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgaWYgKHRoaXMuY2FsMS5tb2RlID09IGNhbGVuZGFyX21vZGVfMS5DYWxlbmRhck1vZGUuQ2FsZW5kYXIgJiYgdGhpcy5jYWwyLm1vZGUgPT0gY2FsZW5kYXJfbW9kZV8xLkNhbGVuZGFyTW9kZS5DYWxlbmRhcikge1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2FsMS5kYXRlLm1vbnRoKHRoaXMuY2FsMS5kYXRlLm1vbnRoKCkgKyAxKTtcclxuXHQgICAgICAgICAgICB0aGlzLnNoaWZ0Q2FsMigpO1xyXG5cdCAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2Uge1xyXG5cdCAgICAgICAgICAgIHRoaXMuY2FsMS5nb05leHQoKTtcclxuXHQgICAgICAgICAgICB0aGlzLmNhbDIuZ29OZXh0KCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLm5nT25Jbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgdGhpcy5jYWwxLmRhdGUgPSBtb21lbnQodGhpcy5kYXRlRnJvbSk7XHJcblx0ICAgICAgICB0aGlzLnNoaWZ0Q2FsMigpO1xyXG5cdCAgICAgICAgdGhpcy5jYWwxLnN1YnNjcmliZVRvQ2hhbmdlTW9udGgodGhpcy5tb250aDFDaGFuZ2VMaXN0ZW5lcik7XHJcblx0ICAgICAgICB0aGlzLmNhbDIuc3Vic2NyaWJlVG9DaGFuZ2VNb250aCh0aGlzLm1vbnRoMkNoYW5nZUxpc3RlbmVyKTtcclxuXHQgICAgICAgIHRoaXMuY2FsMS5zdWJzY3JpYmVUb0NoYW5nZVllYXIodGhpcy55ZWFyMUNoYW5nZUxpc3RlbmVyKTtcclxuXHQgICAgICAgIHRoaXMuY2FsMi5zdWJzY3JpYmVUb0NoYW5nZVllYXIodGhpcy55ZWFyMkNoYW5nZUxpc3RlbmVyKTtcclxuXHQgICAgfTtcclxuXHQgICAgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUubmdBZnRlclZpZXdJbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uRGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgfTtcclxuXHQgICAgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyQ2FsZW5kYXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICB0aGlzLmNhbDEucmVuZGVyQ2FsZW5kYXIodGhpcy5kYXRlQ2xpY2tMaXN0ZW5lciwgdGhpcy5kYXRlVG8sIHRoaXMuZGF0ZUZyb20pO1xyXG5cdCAgICAgICAgdGhpcy5jYWwyLnJlbmRlckNhbGVuZGFyKHRoaXMuZGF0ZUNsaWNrTGlzdGVuZXIsIHRoaXMuZGF0ZVRvLCB0aGlzLmRhdGVGcm9tKTtcclxuXHQgICAgfTtcclxuXHQgICAgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUuc2V0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7XHJcblx0ICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xyXG5cdCAgICAgICAgICAgIGNhc2UgRHVhbFBpY2tlck1vZGUuRnJvbTpcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5kYXRlRnJvbSA9IGRhdGU7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuZGF0ZUZyb21TdHJpbmcgPSBkYXRlLmZvcm1hdChcIk1NL0REL1lZWVlcIik7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdERhdGVUbygpO1xyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUdsb2JhbE1vZGUoRHVhbFBpY2tlck1vZGUuVG8pO1xyXG5cdCAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICBjYXNlIER1YWxQaWNrZXJNb2RlLlRvOlxyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmRhdGVUbyA9IGRhdGU7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuZGF0ZVRvU3RyaW5nID0gZGF0ZS5mb3JtYXQoXCJNTS9ERC9ZWVlZXCIpO1xyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmNvcnJlY3REYXRlRnJvbSgpO1xyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUdsb2JhbE1vZGUoRHVhbFBpY2tlck1vZGUuSGlkZGVuKTtcclxuXHQgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcblx0ICAgIH07XHJcblx0ICAgIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLmNvcnJlY3REYXRlVG8gPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICBpZiAodGhpcy5kYXRlVG8gJiYgdGhpcy5kYXRlRnJvbS5pc0FmdGVyKHRoaXMuZGF0ZVRvKSkge1xyXG5cdCAgICAgICAgICAgIHRoaXMuZGF0ZVRvID0gbW9tZW50KHRoaXMuZGF0ZUZyb20pO1xyXG5cdCAgICAgICAgICAgIHRoaXMuZGF0ZVRvLmFkZCh7IFwiZGF5XCI6IDEgfSk7XHJcblx0ICAgICAgICAgICAgdGhpcy5kYXRlVG9TdHJpbmcgPSB0aGlzLmRhdGVUby5mb3JtYXQoXCJNTS9ERC9ZWVlZXCIpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZS5jb3JyZWN0RGF0ZUZyb20gPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICBpZiAodGhpcy5kYXRlRnJvbSAmJiB0aGlzLmRhdGVUby5pc0JlZm9yZSh0aGlzLmRhdGVGcm9tKSkge1xyXG5cdCAgICAgICAgICAgIHRoaXMuZGF0ZUZyb20gPSBtb21lbnQodGhpcy5kYXRlVG8pO1xyXG5cdCAgICAgICAgICAgIHRoaXMuZGF0ZUZyb20uc3VidHJhY3QoeyBcImRheVwiOiAxIH0pO1xyXG5cdCAgICAgICAgICAgIHRoaXMuZGF0ZUZyb21TdHJpbmcgPSB0aGlzLmRhdGVGcm9tLmZvcm1hdChcIk1NL0REL1lZWVlcIik7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIF9fZGVjb3JhdGUoW1xyXG5cdCAgICAgICAgY29yZV8xLk91dHB1dCgpLCBcclxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgT2JqZWN0KVxyXG5cdCAgICBdLCBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRlRnJvbUNoYW5nZVwiLCB2b2lkIDApO1xyXG5cdCAgICBfX2RlY29yYXRlKFtcclxuXHQgICAgICAgIGNvcmVfMS5PdXRwdXQoKSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsIE9iamVjdClcclxuXHQgICAgXSwgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUsIFwiZGF0ZVRvQ2hhbmdlXCIsIHZvaWQgMCk7XHJcblx0ICAgIF9fZGVjb3JhdGUoW1xyXG5cdCAgICAgICAgY29yZV8xLklucHV0KCksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCBPYmplY3QpXHJcblx0ICAgIF0sIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGVGcm9tXCIsIG51bGwpO1xyXG5cdCAgICBfX2RlY29yYXRlKFtcclxuXHQgICAgICAgIGNvcmVfMS5JbnB1dCgpLCBcclxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgT2JqZWN0KVxyXG5cdCAgICBdLCBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRlVG9cIiwgbnVsbCk7XHJcblx0ICAgIF9fZGVjb3JhdGUoW1xyXG5cdCAgICAgICAgY29yZV8xLklucHV0KFwiY3REaXNhYmxlZFwiKSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsIEJvb2xlYW4pXHJcblx0ICAgIF0sIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHZvaWQgMCk7XHJcblx0ICAgIF9fZGVjb3JhdGUoW1xyXG5cdCAgICAgICAgY29yZV8xLklucHV0KCksIFxyXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCBPYmplY3QpXHJcblx0ICAgIF0sIER1YWxQaWNrZXJDb21wb25lbnQucHJvdG90eXBlLCBcImlucHV0Q2xhc3NcIiwgdm9pZCAwKTtcclxuXHQgICAgX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuVmlld0NoaWxkKCdjYWwxJywgY2FsZW5kYXJfY29tcG9uZW50XzEuQ2FsZW5kYXJDb21wb25lbnQpLCBcclxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgKHR5cGVvZiAoX2EgPSB0eXBlb2YgY2FsZW5kYXJfY29tcG9uZW50XzEuQ2FsZW5kYXJDb21wb25lbnQgIT09ICd1bmRlZmluZWQnICYmIGNhbGVuZGFyX2NvbXBvbmVudF8xLkNhbGVuZGFyQ29tcG9uZW50KSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYSkgfHwgT2JqZWN0KVxyXG5cdCAgICBdLCBEdWFsUGlja2VyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjYWwxXCIsIHZvaWQgMCk7XHJcblx0ICAgIF9fZGVjb3JhdGUoW1xyXG5cdCAgICAgICAgY29yZV8xLlZpZXdDaGlsZCgnY2FsMicsIGNhbGVuZGFyX2NvbXBvbmVudF8xLkNhbGVuZGFyQ29tcG9uZW50KSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsICh0eXBlb2YgKF9iID0gdHlwZW9mIGNhbGVuZGFyX2NvbXBvbmVudF8xLkNhbGVuZGFyQ29tcG9uZW50ICE9PSAndW5kZWZpbmVkJyAmJiBjYWxlbmRhcl9jb21wb25lbnRfMS5DYWxlbmRhckNvbXBvbmVudCkgPT09ICdmdW5jdGlvbicgJiYgX2IpIHx8IE9iamVjdClcclxuXHQgICAgXSwgRHVhbFBpY2tlckNvbXBvbmVudC5wcm90b3R5cGUsIFwiY2FsMlwiLCB2b2lkIDApO1xyXG5cdCAgICBEdWFsUGlja2VyQ29tcG9uZW50ID0gX19kZWNvcmF0ZShbXHJcblx0ICAgICAgICBjb3JlXzEuQ29tcG9uZW50KHtcclxuXHQgICAgICAgICAgICBzZWxlY3RvcjogJ2N0LWR1YWxwaWNrZXInLFxyXG5cdCAgICAgICAgICAgIHRlbXBsYXRlOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSxcclxuXHQgICAgICAgICAgICBzdHlsZXM6IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KSwgX193ZWJwYWNrX3JlcXVpcmVfXygxNildLFxyXG5cdCAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IGNvcmVfMS5WaWV3RW5jYXBzdWxhdGlvbi5Ob25lXHJcblx0ICAgICAgICB9KSwgXHJcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFsodHlwZW9mIChfYyA9IHR5cGVvZiBjb3JlXzEuRWxlbWVudFJlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgY29yZV8xLkVsZW1lbnRSZWYpID09PSAnZnVuY3Rpb24nICYmIF9jKSB8fCBPYmplY3RdKVxyXG5cdCAgICBdLCBEdWFsUGlja2VyQ29tcG9uZW50KTtcclxuXHQgICAgcmV0dXJuIER1YWxQaWNrZXJDb21wb25lbnQ7XHJcblx0ICAgIHZhciBfYSwgX2IsIF9jO1xyXG5cdH0oKSk7XHJcblx0ZXhwb3J0cy5EdWFsUGlja2VyQ29tcG9uZW50ID0gRHVhbFBpY2tlckNvbXBvbmVudDtcclxuXG5cbi8qKiovIH0sXG4vKiAxOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxpbnB1dCBcXHJcXG4gICAgY2xhc3M9XFxcImN0LWRwLWlucHV0IGN0LWRwLWlucHV0LWZyb21cXFwiIFxcclxcbiAgICB0eXBlPVxcXCJ0ZXh0XFxcIiBcXHJcXG4gICAgKGZvY3VzKT1cXFwiY2hhbmdlR2xvYmFsTW9kZShEdWFsUGlja2VyTW9kZS5Gcm9tKVxcXCJcXHJcXG4gICAgKGtleWRvd24pPVxcXCJibHVyKCRldmVudClcXFwiIFxcclxcbiAgICBbbmdNb2RlbF09XFxcImRhdGVGcm9tU3RyaW5nXFxcIlxcclxcbiAgICBbY2xhc3MuYWN0aXZlXT1cXFwibW9kZSAhPT0gRHVhbFBpY2tlck1vZGUuSGlkZGVuXFxcIlxcclxcbiAgICBbbmdDbGFzc109XFxcImlucHV0Q2xhc3NcXFwiXFxyXFxuICAgIChuZ01vZGVsQ2hhbmdlKT1cXFwib25EYXRlRnJvbVN0cmluZ0NoYW5nZSgkZXZlbnQpXFxcIlxcclxcbiAgICBbZGlzYWJsZWRdPVxcXCJkaXNhYmxlZFxcXCJcXHJcXG4gICAgdGFiaW5kZXg9XFxcIjBcXFwiXFxyXFxuICAgIGF1dG9jb21wbGV0ZT1cXFwib2ZmXFxcIlxcclxcbi8+PCEtLVxcclxcbi0tPjxpbnB1dCBcXHJcXG4gICAgY2xhc3M9XFxcImN0LWRwLWlucHV0IGN0LWRwLWlucHV0LXRvXFxcIiBcXHJcXG4gICAgdHlwZT1cXFwidGV4dFxcXCIgXFxyXFxuICAgIChmb2N1cyk9XFxcImNoYW5nZUdsb2JhbE1vZGUoRHVhbFBpY2tlck1vZGUuVG8pXFxcIlxcclxcbiAgICAoa2V5ZG93bik9XFxcImJsdXIoJGV2ZW50KVxcXCIgICAgICAgICAgXFxyXFxuICAgIFtuZ01vZGVsXT1cXFwiZGF0ZVRvU3RyaW5nXFxcIlxcclxcbiAgICBbY2xhc3MuYWN0aXZlXT1cXFwibW9kZSAhPT0gRHVhbFBpY2tlck1vZGUuSGlkZGVuXFxcIlxcclxcbiAgICBbbmdDbGFzc109XFxcImlucHV0Q2xhc3NcXFwiICAgICAgICBcXHJcXG4gICAgKG5nTW9kZWxDaGFuZ2UpPVxcXCJvbkRhdGVUb1N0cmluZ0NoYW5nZSgkZXZlbnQpXFxcIlxcclxcbiAgICBbZGlzYWJsZWRdPVxcXCJkaXNhYmxlZFxcXCIgICAgICAgICAgICAgIFxcclxcbiAgICB0YWJpbmRleD1cXFwiMFxcXCJcXHJcXG4gICAgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiXFxyXFxuLz5cXHJcXG48ZGl2IGNsYXNzPVxcXCJjdC1kcC1zaGFkb3ctYm94XFxcIiAoY2xpY2spPVxcXCJjaGFuZ2VHbG9iYWxNb2RlKER1YWxQaWNrZXJNb2RlLkhpZGRlbilcXFwiICpuZ0lmPVxcXCJtb2RlICE9IER1YWxQaWNrZXJNb2RlLkhpZGRlblxcXCI+XFxyXFxuPC9kaXY+XFxyXFxuPGRpdiBjbGFzcz1cXFwiY3QtZHAtcGlja2VyIGN0LWRwLWR1YWxwaWNrZXJcXFwiIFtjbGFzcy5oaWRkZW5dPVxcXCJtb2RlID09IER1YWxQaWNrZXJNb2RlLkhpZGRlblxcXCIgW2NsYXNzLmN0LWRwLXBpY2tlci10b109XFxcIm1vZGUgPT0gRHVhbFBpY2tlck1vZGUuVG9cXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjdC1kcC1jYXJldCBjdC1kcC1jYXJldC0xXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY3QtZHAtY2FyZXQgY3QtZHAtY2FyZXQtMlxcXCI+PC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImN0LWRwLWhlYWRlclxcXCI+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4tcHJldiAgY3QtZHAtYnRuXFxcIiAoY2xpY2spPVxcXCJnb1ByZXYoKVxcXCIgW2Rpc2FibGVkXT1cXFwiY2FsMS5tb2RlID09IENhbGVuZGFyTW9kZS5Nb250aCB8fCBjYWwyLm1vZGUgPT0gQ2FsZW5kYXJNb2RlLk1vbnRoXFxcIj4mbHQ7PC9idXR0b24+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4tbW9udGggY3QtZHAtYnRuXFxcIiBbZGlzYWJsZWRdPVxcXCJjYWwyLm1vZGUgIT0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyXFxcIiAoY2xpY2spPVxcXCJjaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5Nb250aCwgY2FsMSlcXFwiPnt7Y2FsMS5kYXRlLmZvcm1hdChcXFwiTU1NTVxcXCIpfX08L2J1dHRvbj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0bi15ZWFyICBjdC1kcC1idG5cXFwiIFtkaXNhYmxlZF09XFxcImNhbDIubW9kZSAhPSBDYWxlbmRhck1vZGUuQ2FsZW5kYXJcXFwiIChjbGljayk9XFxcImNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLlllYXIsIGNhbDEpXFxcIj57e2NhbDEuZGF0ZS5mb3JtYXQoXFxcIllZWVlcXFwiKX19PC9idXR0b24+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4tbmV4dCAgY3QtZHAtYnRuXFxcIiBbZGlzYWJsZWRdPVxcXCJ0cnVlXFxcIj48L2J1dHRvbj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0bi1wcmV2ICBjdC1kcC1idG5cXFwiIFtkaXNhYmxlZF09XFxcInRydWVcXFwiPjwvYnV0dG9uPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLW1vbnRoIGN0LWRwLWJ0blxcXCIgW2Rpc2FibGVkXT1cXFwiY2FsMS5tb2RlICE9IENhbGVuZGFyTW9kZS5DYWxlbmRhclxcXCIgKGNsaWNrKT1cXFwiY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuTW9udGgsIGNhbDIpXFxcIj57e2NhbDIuZGF0ZS5mb3JtYXQoXFxcIk1NTU1cXFwiKX19PC9idXR0b24+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4teWVhciAgY3QtZHAtYnRuXFxcIiBbZGlzYWJsZWRdPVxcXCJjYWwxLm1vZGUgIT0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyXFxcIiAoY2xpY2spPVxcXCJjaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5ZZWFyLCBjYWwyKVxcXCI+e3tjYWwyLmRhdGUuZm9ybWF0KFxcXCJZWVlZXFxcIil9fTwvYnV0dG9uPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLW5leHQgIGN0LWRwLWJ0blxcXCIgKGNsaWNrKT1cXFwiZ29OZXh0KClcXFwiIFtkaXNhYmxlZF09XFxcInRoaXMuY2FsMS5tb2RlID09IENhbGVuZGFyTW9kZS5Nb250aCB8fCB0aGlzLmNhbDIubW9kZSA9PSBDYWxlbmRhck1vZGUuTW9udGhcXFwiPiZndDs8L2J1dHRvbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxjdC1jYWxlbmRhciAjY2FsMSBbbmdDbGFzc109XFxcInsnY3QtZHAtY2FsLWluYWN0aXZlJzogY2FsMi5tb2RlICE9IENhbGVuZGFyTW9kZS5DYWxlbmRhcn1cXFwiPjwvY3QtY2FsZW5kYXI+XFxyXFxuICAgIDxjdC1jYWxlbmRhciAjY2FsMiBbbmdDbGFzc109XFxcInsnY3QtZHAtY2FsLWluYWN0aXZlJzogY2FsMS5tb2RlICE9IENhbGVuZGFyTW9kZS5DYWxlbmRhcn1cXFwiPjwvY3QtY2FsZW5kYXI+XFxyXFxuPC9kaXY+XCI7XG5cbi8qKiovIH0sXG4vKiAxOSAqL1xuMTFcbi8qKioqKiovIF0pKSlcbn0pO1xuO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBjdG5nLnVtZC5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA1ZDkxNmY4NjEwMDlmNTIzNDkzYSIsImV4cG9ydCB7RGF0ZVBpY2tlck1vZHVsZX0gZnJvbSAnLi9kYXRlcGlja2VyLm1vZHVsZSc7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9zcmMvbGliLnRzIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcblxyXG5pbXBvcnQgeyBEYXRlUGlja2VyQ29tcG9uZW50IH0gZnJvbSAnLi9kYXRlcGlja2VyL2RhdGVwaWNrZXIuY29tcG9uZW50JztcclxuaW1wb3J0IHsgRGF0ZVBpY2tlcklubmVyQ29tcG9uZW50IH0gZnJvbSAnLi9kYXRlcGlja2VyL2RhdGVwaWNrZXIuY29tcG9uZW50JztcclxuaW1wb3J0IHsgRHVhbFBpY2tlckNvbXBvbmVudCB9IGZyb20gJy4vZHVhbHBpY2tlci9kdWFscGlja2VyLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IENhbGVuZGFyQ29tcG9uZW50IH0gZnJvbSAnLi9jYWxlbmRhci9jYWxlbmRhci5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBDYWxlbmRhckdyaWRDb21wb25lbnQgfSBmcm9tICcuL2NhbGVuZGFyLWdyaWQvY2FsZW5kYXItZ3JpZC5jb21wb25lbnQnO1xyXG5cclxuQE5nTW9kdWxlKHtcclxuICBleHBvcnRzOiBbRGF0ZVBpY2tlckNvbXBvbmVudCwgRHVhbFBpY2tlckNvbXBvbmVudCwgRGF0ZVBpY2tlcklubmVyQ29tcG9uZW50XSxcclxuICBkZWNsYXJhdGlvbnM6IFtEYXRlUGlja2VySW5uZXJDb21wb25lbnQsIERhdGVQaWNrZXJDb21wb25lbnQsIER1YWxQaWNrZXJDb21wb25lbnQsIENhbGVuZGFyQ29tcG9uZW50LCBDYWxlbmRhckdyaWRDb21wb25lbnRdLFxyXG4gIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIEZvcm1zTW9kdWxlXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgRGF0ZVBpY2tlck1vZHVsZSB7XHJcbiAgICBcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vc3JjL2RhdGVwaWNrZXIubW9kdWxlLnRzIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzJfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIkBhbmd1bGFyL2NvcmVcIlxuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfM19fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiQGFuZ3VsYXIvY29tbW9uXCJcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIkBhbmd1bGFyL2Zvcm1zXCJcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgRGlyZWN0aXZlLCBDb21wb25lbnQsIEFmdGVyVmlld0luaXQsIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgQ29tcG9uZW50RmFjdG9yeSwgVmlld0NvbnRhaW5lclJlZiwgT25EZXN0cm95LCBFbGVtZW50UmVmLCBPbkluaXQsIFJlbmRlcmVyLCBWaWV3RW5jYXBzdWxhdGlvbiwgSW5wdXQsIFZpZXdDaGlsZCwgUXVlcnlMaXN0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgKiBhcyBtb21lbnQgZnJvbSAnbW9tZW50JztcclxuaW1wb3J0IHsgQ2FsZW5kYXJDb21wb25lbnQgfSBmcm9tICcuLi9jYWxlbmRhci9jYWxlbmRhci5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBDYWxlbmRhck1vZGUgfSBmcm9tICcuLi9jb21tb24vY2FsZW5kYXItbW9kZSc7XHJcblxyXG5leHBvcnQgZW51bSBEYXRlUGlja2VyTW9kZSB7XHJcbiAgVmlzaWJsZSwgSGlkZGVuXHJcbn1cclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnY3QtZGF0ZXBpY2tlci1pbm5lcicsXHJcbiAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vZGF0ZXBpY2tlci5jb21wb25lbnQuaHRtbCcpLFxyXG4gIHN0eWxlczogW3JlcXVpcmUoJy4vZGF0ZXBpY2tlci5jb21wb25lbnQubGVzcycpLCByZXF1aXJlKCcuLi9jb21tb24vY29tbW9uLmxlc3MnKV0sXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxufSlcclxuZXhwb3J0IGNsYXNzIERhdGVQaWNrZXJJbm5lckNvbXBvbmVudCB7XHJcbiAgcHVibGljIENhbGVuZGFyTW9kZSA9IENhbGVuZGFyTW9kZTtcclxuICBwdWJsaWMgRGF0ZVBpY2tlck1vZGUgPSBEYXRlUGlja2VyTW9kZTtcclxuXHJcbiAgcHVibGljIHBhcmVudDogRGF0ZVBpY2tlckNvbXBvbmVudDtcclxuICBASW5wdXQoXCJjdERpc2FibGVkXCIpIGRpc2FibGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgQElucHV0KCkgaW5wdXRDbGFzczogYW55O1xyXG5cclxuICBAVmlld0NoaWxkKENhbGVuZGFyQ29tcG9uZW50KSBwdWJsaWMgY2FsOiBDYWxlbmRhckNvbXBvbmVudDtcclxuICBwdWJsaWMgbW9kZTogRGF0ZVBpY2tlck1vZGUgPSBEYXRlUGlja2VyTW9kZS5IaWRkZW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlFbGVtZW50OiBFbGVtZW50UmVmLCBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcikge1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNoYW5nZUdsb2JhbE1vZGUobW9kZTogRGF0ZVBpY2tlck1vZGUpIHtcclxuICAgIHRoaXMubW9kZSA9IG1vZGU7XHJcbiAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xyXG4gICAgICBjYXNlIERhdGVQaWNrZXJNb2RlLlZpc2libGU6XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5DYWxlbmRhcik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYmx1cihldmVudCkge1xyXG4gICAgaWYgKChldmVudC53aGljaCB8fCBldmVudC5rZXlDb2RlKSA9PSA5KSB7XHJcbiAgICAgIHRoaXMuY2hhbmdlR2xvYmFsTW9kZShEYXRlUGlja2VyTW9kZS5IaWRkZW4pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGNoYW5nZU1vZGUobW9kZTogQ2FsZW5kYXJNb2RlKSB7XHJcbiAgICB0aGlzLmNhbC5jaGFuZ2VNb2RlKG1vZGUpO1xyXG4gICAgc3dpdGNoIChtb2RlKSB7XHJcbiAgICAgIGNhc2UgQ2FsZW5kYXJNb2RlLkNhbGVuZGFyOlxyXG4gICAgICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnb1ByZXYoKSB7XHJcbiAgICBpZiAodGhpcy5jYWwubW9kZSA9PSBDYWxlbmRhck1vZGUuQ2FsZW5kYXIpIHtcclxuICAgICAgdGhpcy5jYWwuZGF0ZS5tb250aCh0aGlzLmNhbC5kYXRlLm1vbnRoKCkgLSAxKTtcclxuICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jYWwuZ29QcmV2KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ29OZXh0KCkge1xyXG4gICAgaWYgKHRoaXMuY2FsLm1vZGUgPT0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyKSB7XHJcbiAgICAgIHRoaXMuY2FsLmRhdGUubW9udGgodGhpcy5jYWwuZGF0ZS5tb250aCgpICsgMSk7XHJcbiAgICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2FsLmdvTmV4dCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICBpZiAodGhpcy5wYXJlbnQuZGF0ZSBpbnN0YW5jZW9mIG1vbWVudCAmJiB0aGlzLnBhcmVudC5kYXRlLmlzVmFsaWQoKSkge1xyXG4gICAgICB0aGlzLmNhbC5kYXRlID0gbW9tZW50KHRoaXMucGFyZW50LmRhdGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jYWwuZGF0ZSA9IG1vbWVudCgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jYWwuc3Vic2NyaWJlVG9DaGFuZ2VNb250aCh0aGlzLm1vbnRoQ2hhbmdlTGlzdGVuZXIpO1xyXG4gICAgdGhpcy5jYWwuc3Vic2NyaWJlVG9DaGFuZ2VZZWFyKHRoaXMueWVhckNoYW5nZUxpc3RlbmVyKTtcclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcclxuICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKTtcclxuICB9XHJcblxyXG4gIG5nT25EZXN0cm95KCkge1xyXG5cclxuICB9XHJcblxyXG4gIHJlbmRlckNhbGVuZGFyKCkge1xyXG4gICAgdGhpcy5jYWwucmVuZGVyQ2FsZW5kYXIodGhpcy5kYXRlQ2xpY2tMaXN0ZW5lciwgdGhpcy5wYXJlbnQuZGF0ZSwgdGhpcy5wYXJlbnQuZGF0ZSk7XHJcbiAgfVxyXG5cclxuICBkYXRlQ2xpY2tMaXN0ZW5lciA9IChkYXRlOiBtb21lbnQuTW9tZW50KSA9PiB7XHJcbiAgICBsZXQgZCA9IG1vbWVudChkYXRlKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0RGF0ZShkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgbW9udGhDaGFuZ2VMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgIHRoaXMuY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuQ2FsZW5kYXIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB5ZWFyQ2hhbmdlTGlzdGVuZXIgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLkNhbGVuZGFyKTtcclxuICB9XHJcblxyXG4gIHNldERhdGUoZGF0ZTogbW9tZW50Lk1vbWVudCkge1xyXG4gICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcclxuICAgICAgY2FzZSBEYXRlUGlja2VyTW9kZS5WaXNpYmxlOlxyXG4gICAgICAgIHRoaXMucGFyZW50LmRhdGVDaGFuZ2UuZW1pdChkYXRlKTtcclxuICAgICAgICB0aGlzLnBhcmVudC5kYXRlVmFsdWUgPSBkYXRlO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlR2xvYmFsTW9kZShEYXRlUGlja2VyTW9kZS5IaWRkZW4pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG4gIH1cclxuXHJcbiAgXHJcbiAgcHVibGljIG9uRGF0ZVN0cmluZ0NoYW5nZSh2YWwpIHtcclxuICAgICBsZXQgbSA9IG1vbWVudChuZXcgRGF0ZSh2YWwpKTtcclxuICAgICB0aGlzLnBhcmVudC5kYXRlVmFsdWUuc2V0KG0udG9PYmplY3QoKSk7XHJcbiAgICAgdGhpcy5wYXJlbnQuZGF0ZUNoYW5nZS5lbWl0KHRoaXMucGFyZW50LmRhdGVWYWx1ZSk7XHJcbiAgICAgaWYgKG0uaXNWYWxpZCgpKSB7XHJcbiAgICAgICB0aGlzLmNhbC5kYXRlID0gdGhpcy5wYXJlbnQuZGF0ZVZhbHVlO1xyXG4gICAgIH0gZWxzZSB7XHJcbiAgICAgICB0aGlzLmNhbC5kYXRlID0gbW9tZW50KCk7XHJcbiAgICAgfVxyXG4gICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKTtcclxuICB9XHJcbn1cclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnaW5wdXRbY3REYXRlcGlja2VyXScsXHJcbiAgdGVtcGxhdGU6ICcnLFxyXG4gIGVudHJ5Q29tcG9uZW50czogW0RhdGVQaWNrZXJJbm5lckNvbXBvbmVudF1cclxufSlcclxuZXhwb3J0IGNsYXNzIERhdGVQaWNrZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIEBPdXRwdXQoKSBkYXRlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gIGRhdGVWYWx1ZTogbW9tZW50Lk1vbWVudDtcclxuICBASW5wdXQoKVxyXG4gIGdldCBkYXRlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0ZVZhbHVlO1xyXG4gIH1cclxuICBzZXQgZGF0ZSh2YWwpIHtcclxuICAgIGlmICh2YWwgaW5zdGFuY2VvZiBtb21lbnQgJiYgdmFsLmlzVmFsaWQoKSkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC52YWx1ZSA9IHZhbC5mb3JtYXQoXCJNTS9ERC9ZWVlZXCIpO1xyXG4gICAgICB0aGlzLmRhdGVWYWx1ZSA9IHZhbDtcclxuICAgICAgdGhpcy5kYXRlQ2hhbmdlLmVtaXQodmFsKTtcclxuICAgIH1cclxuICB9XHJcbiAgcHJpdmF0ZSBkYXRlUGlja2VySW5uZXJDb21wb25lbnQ6IERhdGVQaWNrZXJJbm5lckNvbXBvbmVudDtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50UmVmLFxyXG4gICAgcHJpdmF0ZSB2aWV3Q29udGFpbmVyOiBWaWV3Q29udGFpbmVyUmVmLCBwcml2YXRlIGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKSB7XHJcbiAgICBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoZXZlbnQpID0+IHsgdGhpcy5kYXRlUGlja2VySW5uZXJDb21wb25lbnQuY2hhbmdlR2xvYmFsTW9kZShEYXRlUGlja2VyTW9kZS5WaXNpYmxlKTsgfSk7XHJcbiAgICBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4geyB0aGlzLmRhdGVQaWNrZXJJbm5lckNvbXBvbmVudC5ibHVyKGV2ZW50KSB9KTtcclxuICAgIGVsZW1lbnQubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4geyB0aGlzLmRhdGVQaWNrZXJJbm5lckNvbXBvbmVudC5vbkRhdGVTdHJpbmdDaGFuZ2UoZWxlbWVudC5uYXRpdmVFbGVtZW50LnZhbHVlKX0pO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICBsZXQgcGlja2VyQ29tcG9uZW50RmFjdG9yeSA9IHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERhdGVQaWNrZXJJbm5lckNvbXBvbmVudCk7XHJcbiAgICBsZXQgcmVmID0gdGhpcy52aWV3Q29udGFpbmVyLmNyZWF0ZUNvbXBvbmVudChwaWNrZXJDb21wb25lbnRGYWN0b3J5KTtcclxuICAgIHRoaXMuZGF0ZVBpY2tlcklubmVyQ29tcG9uZW50ID0gcmVmLmluc3RhbmNlO1xyXG4gICAgdGhpcy5kYXRlUGlja2VySW5uZXJDb21wb25lbnQucGFyZW50ID0gdGhpcztcclxuICB9XHJcblxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vc3JjL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5jb21wb25lbnQudHMiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNl9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwibW9tZW50XCJcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIE9uRGVzdHJveSwgRWxlbWVudFJlZiwgUmVuZGVyZXIsIFZpZXdFbmNhcHN1bGF0aW9uLCBJbnB1dCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCAqIGFzIG1vbWVudCBmcm9tICdtb21lbnQnO1xyXG5pbXBvcnQgeyBDYWxlbmRhck1vZGUgfSBmcm9tICcuLi9jb21tb24vY2FsZW5kYXItbW9kZSc7XHJcbmltcG9ydCB7IENhbGVuZGFyR3JpZENvbXBvbmVudCB9IGZyb20gJy4uL2NhbGVuZGFyLWdyaWQvY2FsZW5kYXItZ3JpZC5jb21wb25lbnQnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2N0LWNhbGVuZGFyJyxcclxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL2NhbGVuZGFyLmNvbXBvbmVudC5odG1sJyksXHJcbiAgICBzdHlsZXM6IFtyZXF1aXJlKCcuL2NhbGVuZGFyLmNvbXBvbmVudC5sZXNzJyldLFxyXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxyXG59KVxyXG5leHBvcnQgY2xhc3MgQ2FsZW5kYXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XHJcbiAgICAvKiogRGV0ZXJtaW5lcyBob3cgbWFueSB5ZWFyIGJ1dHRvbnMgYXJlIHNob3duLiAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgbnVtWWVhcnNTaG93biA9IDE1O1xyXG4gICAgLyoqIGNvbnZlbmllbmNlIHZhcmlhYmxlIGZvciBnZW5lcmF0aW5nIHllYXJzICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBoYWxmTnVtWWVhcnNTaG93biA9IE1hdGguZmxvb3IoQ2FsZW5kYXJDb21wb25lbnQubnVtWWVhcnNTaG93biAvIDIpO1xyXG4gICAgLyoqIEFjY2Vzc29yIHRvIHRoZSBtb2RlIGZvciBodG1sICovXHJcbiAgICBwdWJsaWMgQ2FsZW5kYXJNb2RlID0gQ2FsZW5kYXJNb2RlO1xyXG4gICAgcHVibGljIG1vZGU6IENhbGVuZGFyTW9kZSA9IENhbGVuZGFyTW9kZS5DYWxlbmRhcjtcclxuICAgIC8qKiBEYXRlIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIG1vbnRoL3llYXIgc2hvd24gb24gdGhpcyBjYWxlbmRhciAqL1xyXG4gICAgcHVibGljIGRhdGU6IG1vbWVudC5Nb21lbnQ7XHJcbiAgICAvKiogQXJyYXkgb2YgbW9udGhzIHRvIHNob3cgd2hlbiBzZWxlY3RpbmcgYSBuZXcgbW9udGggKi9cclxuICAgIHByaXZhdGUgbW9udGhzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgLyoqIEFycmF5IG9mIHllYXJzIHRvIHNob3cgd2hlbiBzZWxlY3RpbmcgYSBuZXcgeWVhciAqL1xyXG4gICAgcHJpdmF0ZSB5ZWFyczogbnVtYmVyW10gPSBbXTtcclxuICAgIGdldCB5ZWFyRGF0YSgpOiBudW1iZXJbXSB7cmV0dXJuIHRoaXMueWVhcnN9O1xyXG4gICAgLyoqIExpc3RlbmVycyBmb3IgbW9udGggY2hhbmdlICovXHJcbiAgICBwcml2YXRlIG1vbnRoTGlzdGVuZXJzOiBGdW5jdGlvbltdID0gW107XHJcbiAgICAvKiogTGlzdGVuZXJzIGZvciB5ZWFyIGNoYW5nZSAqL1xyXG4gICAgcHJpdmF0ZSB5ZWFyTGlzdGVuZXJzOiBGdW5jdGlvbltdID0gW107XHJcbiAgICAvKiogR3JpZCB2aWV3IGNoaWxkIGNvbXBvbmVudCAoYWN0dWFsbHkgc2hvd3MgdGhlIG51bWJlciBncmlkKSAqL1xyXG4gICAgQFZpZXdDaGlsZChDYWxlbmRhckdyaWRDb21wb25lbnQpIHB1YmxpYyBncmlkOiBDYWxlbmRhckdyaWRDb21wb25lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0ZU1vbnRoRGF0YSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25Jbml0KCkgeyB9XHJcbiAgICBuZ09uRGVzdHJveSgpIHsgfVxyXG5cclxuICAgIHN1YnNjcmliZVRvQ2hhbmdlTW9udGgobGlzdGVuZXI6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5tb250aExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBzdWJzY3JpYmVUb0NoYW5nZVllYXIobGlzdGVuZXI6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy55ZWFyTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZU1vZGUobW9kZTogQ2FsZW5kYXJNb2RlKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcclxuICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBDYWxlbmRhck1vZGUuWWVhcjpcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVZZWFyRGF0YSh0aGlzLmRhdGUueWVhcigpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdlbmVyYXRlTW9udGhEYXRhKCkge1xyXG4gICAgICAgIGxldCBkYXRlID0gbW9tZW50KG5ldyBEYXRlKCkpOyAvL2RvZXNuJ3QgY2hhbmdlXHJcbiAgICAgICAgZGF0ZS5tb250aCgwKTtcclxuICAgICAgICBsZXQgZCA9IG1vbWVudChuZXcgRGF0ZSgpKTtcclxuICAgICAgICBkLm1vbnRoKDApO1xyXG4gICAgICAgIHdoaWxlIChkYXRlLnllYXIoKSA9PT0gZC55ZWFyKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5tb250aHMucHVzaChkLmZvcm1hdChcIk1NTVwiKSk7XHJcbiAgICAgICAgICAgIGQubW9udGgoZC5tb250aCgpICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2VuZXJhdGVZZWFyRGF0YSh5ZWFyOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnllYXJzID0gW107XHJcbiAgICAgICAgbGV0IHkgPSB5ZWFyIC0gQ2FsZW5kYXJDb21wb25lbnQuaGFsZk51bVllYXJzU2hvd247XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDYWxlbmRhckNvbXBvbmVudC5udW1ZZWFyc1Nob3duOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy55ZWFycy5wdXNoKHkgKyBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ29QcmV2KCkge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FsZW5kYXJNb2RlLkNhbGVuZGFyOlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FsZW5kYXJNb2RlLk1vbnRoOlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FsZW5kYXJNb2RlLlllYXI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlWWVhckRhdGEodGhpcy55ZWFyc1tDYWxlbmRhckNvbXBvbmVudC5oYWxmTnVtWWVhcnNTaG93bl0gLSBDYWxlbmRhckNvbXBvbmVudC5udW1ZZWFyc1Nob3duKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ29OZXh0KCkge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FsZW5kYXJNb2RlLkNhbGVuZGFyOlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FsZW5kYXJNb2RlLk1vbnRoOlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FsZW5kYXJNb2RlLlllYXI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlWWVhckRhdGEodGhpcy55ZWFyc1tDYWxlbmRhckNvbXBvbmVudC5oYWxmTnVtWWVhcnNTaG93bl0gKyBDYWxlbmRhckNvbXBvbmVudC5udW1ZZWFyc1Nob3duKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyQ2FsZW5kYXIoY2xpY2tDYWxsYmFjazogRnVuY3Rpb24sIGRhdGVUbzogbW9tZW50Lk1vbWVudCwgZGF0ZUZyb206IG1vbWVudC5Nb21lbnQpIHtcclxuICAgICAgICB0aGlzLmdyaWQucmVuZGVyQ2FsZW5kYXIodGhpcy5kYXRlLCBjbGlja0NhbGxiYWNrLCBkYXRlVG8sIGRhdGVGcm9tKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRNb250aChpbmRleDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5kYXRlLm1vbnRoKGluZGV4KTtcclxuICAgICAgICBmb3IgKGxldCBmbiBvZiB0aGlzLm1vbnRoTGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgIGZuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFllYXIoeWVhcjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5kYXRlLnllYXIoeWVhcik7XHJcbiAgICAgICAgZm9yIChsZXQgZm4gb2YgdGhpcy55ZWFyTGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgIGZuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vc3JjL2NhbGVuZGFyL2NhbGVuZGFyLmNvbXBvbmVudC50cyIsImV4cG9ydCBlbnVtIENhbGVuZGFyTW9kZSB7XHJcbiAgICBDYWxlbmRhciwgTW9udGgsIFllYXJcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vc3JjL2NvbW1vbi9jYWxlbmRhci1tb2RlLnRzIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIE9uRGVzdHJveSwgRWxlbWVudFJlZiwgUmVuZGVyZXIsIFZpZXdFbmNhcHN1bGF0aW9uLCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgKiBhcyBtb21lbnQgZnJvbSAnbW9tZW50JztcclxuaW1wb3J0IHsgQ2FsZW5kYXJDb21wb25lbnQgfSBmcm9tICcuLi9jYWxlbmRhci9jYWxlbmRhci5jb21wb25lbnQnO1xyXG5pbXBvcnQgKiBhcyAkIGZyb20gJ2pxdWVyeSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAnY3QtY2FsZW5kYXItZ3JpZCcsXHJcbiAgICB0ZW1wbGF0ZTogJycsXHJcbiAgICBzdHlsZXM6IFtyZXF1aXJlKCcuL2NhbGVuZGFyLWdyaWQuY29tcG9uZW50Lmxlc3MnKV0sXHJcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDYWxlbmRhckdyaWRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15RWxlbWVudDogRWxlbWVudFJlZiwgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIpIHtcclxuICAgIH1cclxuXHJcbiAgICBuZ09uSW5pdCgpIHtcclxuICAgIH1cclxuXHJcbiAgICBuZ09uRGVzdHJveSgpIHtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVycyBhIGNhbGVuZGFyIGJhc2VkIG9uIHRoZSBkYXRlLCBzZWxlY3RpbmcgdGhlIHByb3BlciBmcm9tL3RvIGlmIHZpc2libGUuXHJcbiAgICAgKi9cclxuICAgIHJlbmRlckNhbGVuZGFyKGRhdGU6IG1vbWVudC5Nb21lbnQsIGNsaWNrQ2FsbGJhY2s6IEZ1bmN0aW9uLCBkYXRlVG86IG1vbWVudC5Nb21lbnQsIGRhdGVGcm9tOiBtb21lbnQuTW9tZW50KSB7XHJcbiAgICAgICAgbGV0IGQgPSBtb21lbnQoZGF0ZSk7XHJcbiAgICAgICAgZC5kYXRlKDEpOyAvL3Jlc2V0IGRhdGUuXHJcblxyXG4gICAgICAgIGxldCBoZWFkZXIgPSAkKFwiPGRpdiBjbGFzcz0nY3QtZHAtY2FsLWhlYWRlcic+PC9kaXY+XCIpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICAgICAgICAgIGQuZGF5KGkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGVsID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4gICAgICAgICAgICBlbC50ZXh0KGQuZm9ybWF0KFwiZGRcIikpO1xyXG4gICAgICAgICAgICBlbC5hdHRyKFwiY3QtY2FsLWRwLWRheVwiLCBpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBlbC5hZGRDbGFzcyhcImN0LWRwLWNhbC1kYXlcIik7IFxyXG5cclxuICAgICAgICAgICAgaGVhZGVyLmFwcGVuZChlbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkLmRhdGUoMSk7IC8vcmVzZXQgZGF0ZS5cclxuICAgICAgICBcclxuICAgICAgICBsZXQgYm9keSA9ICQoXCI8ZGl2IGNsYXNzPSdjdC1kcC1jYWwtYm9keSc+PC9kaXY+XCIpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZC5kYXkoKTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBlbCA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuXHJcbiAgICAgICAgICAgIGVsLmF0dHIoXCJjdC1kcC1jYWwtZGF5XCIsIGkudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIGVsLmFkZENsYXNzKFwiY3QtZHAtY2FsLWRheVwiKTtcclxuXHJcbiAgICAgICAgICAgIGJvZHkuYXBwZW5kKGVsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdoaWxlIChkLm1vbnRoKCkgPT09IGRhdGUubW9udGgoKSkge1xyXG4gICAgICAgICAgICBsZXQgZWwgPSAkKFwiPGJ1dHRvbj48L2J1dHRvbj5cIik7XHJcbiAgICAgICAgICAgIGVsLnRleHQoKGQuZGF0ZSgpKS50b1N0cmluZygpKVxyXG4gICAgICAgICAgICBlbC5hdHRyKFwiY3QtZHAtY2FsLWRheVwiLCBkLmRhdGUoKS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgZWwuYXR0cihcInRhYkluZGV4XCIsIFwiLTFcIik7XHJcbiAgICAgICAgICAgIGVsLmFkZENsYXNzKFwiY3QtZHAtY2FsLWRheVwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmICgoZGF0ZVRvICYmIGQuaXNTYW1lKGRhdGVUbywgXCJkYXlcIikpIHx8IChkYXRlRnJvbSAmJiBkLmlzU2FtZShkYXRlRnJvbSwgXCJkYXlcIikpKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGF0ZUZyb20gJiYgZGF0ZVRvICYmIGQuaXNCZXR3ZWVuKGRhdGVGcm9tLCBkYXRlVG8pKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5hZGRDbGFzcyhcImJldHdlZW5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWwuY2xpY2soY2xpY2tDYWxsYmFjayhkKSk7XHJcbiAgICAgICAgICAgIGQuZGF0ZShkLmRhdGUoKSArIDEpO1xyXG5cclxuICAgICAgICAgICAgYm9keS5hcHBlbmQoZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpLmVtcHR5KCk7XHJcbiAgICAgICAgaGVhZGVyLmFwcGVuZFRvKHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpO1xyXG4gICAgICAgIGJvZHkuYXBwZW5kVG8odGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXByZWNhdGVkIHVudGlsIHN1cHBvcnQgb2YgcmVuZGVyZXIgaXMgbW9yZSBzdGFibGUuXHJcbiAgICAgKi9cclxuICAgIHJlbmRlckNhbGVuZGFyUmVuZGVyZXIoY2FsOiBDYWxlbmRhckNvbXBvbmVudCwgY2xpY2tDYWxsYmFjazogRnVuY3Rpb24sIGRhdGVUbzogbW9tZW50Lk1vbWVudCwgZGF0ZUZyb206IG1vbWVudC5Nb21lbnQpIHtcclxuICAgICAgICBsZXQgZCA9IG1vbWVudChjYWwuZGF0ZSk7XHJcbiAgICAgICAgZC5kYXRlKDEpOyAvL3Jlc2V0IGRhdGUuXHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2VsZWN0Um9vdEVsZW1lbnQodGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGhlYWRlckVsZW1lbnQgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQodGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50Q2xhc3MoaGVhZGVyRWxlbWVudCwgXCIuY3QtZHAtY2FsLWhlYWRlclwiLCB0cnVlKTtcclxuICAgICAgICBjb25zdCBjYWxFbGVtZW50ID0gdGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKGhlYWRlckVsZW1lbnQsIFwiLmN0LWRwLWNhbC1ib2R5XCIsIHRydWUpO1xyXG5cclxuICAgICAgICAvL0FkZCBuYW1lIGZvciBkYXkgb2Ygd2Vla1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICAgICAgICAgIGQuZGF5KGkpO1xyXG4gICAgICAgICAgICBsZXQgZWw6IEVsZW1lbnRSZWYgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoaGVhZGVyRWxlbWVudCwgXCJkaXZcIik7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0VGV4dChlbCwgZC5mb3JtYXQoXCJkZFwiKSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgXCJjdC1jYWwtZHAtZGF5XCIsIGkudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKGVsLCBcImN0LWRwLWNhbC1kYXlcIiwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkLmRhdGUoMSk7IC8vcmVzZXQgZGF0ZS5cclxuXHJcbiAgICAgICAgLy9BZGQgYmxhbmsgZmlsbGVyIGRheXMuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkLmRheSgpOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGVsOiBFbGVtZW50UmVmID0gdGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KGNhbEVsZW1lbnQsIFwiZGl2XCIpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRBdHRyaWJ1dGUoZWwsIFwiY3QtZHAtY2FsLWRheVwiLCBpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRDbGFzcyhlbCwgXCJjdC1kcC1jYWwtZGF5XCIsIHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9BZGQgY2FsZW5kYXJcclxuICAgICAgICB3aGlsZSAoZC5tb250aCgpID09PSBjYWwuZGF0ZS5tb250aCgpKSB7XHJcbiAgICAgICAgICAgIGxldCBjb21wb25lbnQgPSB0aGlzO1xyXG4gICAgICAgICAgICBsZXQgZWw6IEVsZW1lbnRSZWYgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoY2FsRWxlbWVudCwgXCJidXR0b25cIik7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0VGV4dChlbCwgKGQuZGF0ZSgpKS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50QXR0cmlidXRlKGVsLCBcImN0LWRwLWNhbC1kYXlcIiwgZC5kYXRlKCkudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgXCJ0YWJpbmRleFwiLCBcIi0xXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRDbGFzcyhlbCwgXCJjdC1kcC1jYWwtZGF5XCIsIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAoKGRhdGVUbyAmJiBkLmlzU2FtZShkYXRlVG8sIFwiZGF5XCIpKSB8fCAoZGF0ZUZyb20gJiYgZC5pc1NhbWUoZGF0ZUZyb20sIFwiZGF5XCIpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50Q2xhc3MoZWwsIFwiYWN0aXZlXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkYXRlRnJvbSAmJiBkYXRlVG8gJiYgZC5pc0JldHdlZW4oZGF0ZUZyb20sIGRhdGVUbykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKGVsLCBcImJldHdlZW5cIiwgdHJ1ZSk7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIubGlzdGVuKGVsLCBcImNsaWNrXCIsIGNsaWNrQ2FsbGJhY2soZCkpO1xyXG4gICAgICAgICAgICBkLmRhdGUoZC5kYXRlKCkgKyAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9zcmMvY2FsZW5kYXItZ3JpZC9jYWxlbmRhci1ncmlkLmNvbXBvbmVudC50cyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xMF9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwianF1ZXJ5XCJcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCJcIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NhbGVuZGFyLWdyaWQvY2FsZW5kYXItZ3JpZC5jb21wb25lbnQubGVzc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcImN0LWRwLWNhbFxcXCIgW25nQ2xhc3NdPVxcXCJ7J2hpZGRlbic6IG1vZGUgIT0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyfVxcXCI+XFxyXFxuICAgIDxjdC1jYWxlbmRhci1ncmlkPjwvY3QtY2FsZW5kYXItZ3JpZD5cXHJcXG48L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVxcXCJjdC1kcC1tb250aHNcXFwiIFtuZ0NsYXNzXT1cXFwieydoaWRkZW4nOiBtb2RlICE9IENhbGVuZGFyTW9kZS5Nb250aH1cXFwiPlxcclxcbiAgICA8dGVtcGxhdGUgbmdGb3IgbGV0LWl0ZW0gW25nRm9yT2ZdPVxcXCJtb250aHNcXFwiIFtuZ0ZvclRyYWNrQnldPVxcXCJteVRyYWNrQnlcXFwiIGxldC1pPVxcXCJpbmRleFxcXCI+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4gY3QtZHAtbW9udGhcXFwiIChjbGljayk9XFxcInNldE1vbnRoKGkpXFxcIj57e2l0ZW19fTwvYnV0dG9uPlxcclxcbiAgICA8L3RlbXBsYXRlPlxcclxcbjwvZGl2PlxcclxcbjxkaXYgY2xhc3M9XFxcImN0LWRwLXllYXJzXFxcIiBbbmdDbGFzc109XFxcInsnaGlkZGVuJzogbW9kZSAhPSBDYWxlbmRhck1vZGUuWWVhcn1cXFwiPlxcclxcbiAgICA8dGVtcGxhdGUgbmdGb3IgbGV0LWl0ZW0gW25nRm9yT2ZdPVxcXCJ5ZWFyc1xcXCIgW25nRm9yVHJhY2tCeV09XFxcIm15VHJhY2tCeVxcXCIgbGV0LWk9XFxcImluZGV4XFxcIj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0biBjdC1kcC15ZWFyXFxcIiAoY2xpY2spPVxcXCJzZXRZZWFyKGl0ZW0pXFxcIj57e2l0ZW19fTwvYnV0dG9uPlxcclxcbiAgICA8L3RlbXBsYXRlPlxcclxcbjwvZGl2PlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NhbGVuZGFyL2NhbGVuZGFyLmNvbXBvbmVudC5odG1sXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPCEtLTxpbnB1dCBcXHJcXG4gICAgY2xhc3M9XFxcImN0LWRwLWlucHV0XFxcIiBcXHJcXG4gICAgdHlwZT1cXFwidGV4dFxcXCIgXFxyXFxuICAgIChmb2N1cyk9XFxcImNoYW5nZUdsb2JhbE1vZGUoRGF0ZVBpY2tlck1vZGUuVmlzaWJsZSlcXFwiXFxyXFxuICAgIChrZXlkb3duKT1cXFwiYmx1cigkZXZlbnQpXFxcIiBcXHJcXG4gICAgW25nTW9kZWxdPVxcXCJkYXRlU3RyaW5nXFxcIlxcclxcbiAgICAobmdNb2RlbENoYW5nZSk9XFxcIm9uRGF0ZVN0cmluZ0NoYW5nZSgkZXZlbnQpXFxcIlxcclxcbiAgICBbZGlzYWJsZWRdPVxcXCJkaXNhYmxlZFxcXCJcXHJcXG4gICAgW2NsYXNzLmFjdGl2ZV09XFxcIm1vZGUgIT09IERhdGVQaWNrZXJNb2RlLkhpZGRlblxcXCJcXHJcXG4gICAgW25nQ2xhc3NdPVxcXCJpbnB1dENsYXNzXFxcIlxcclxcbiAgICB0YWJpbmRleD1cXFwiMFxcXCJcXHJcXG4gICAgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiXFxyXFxuLz4tLT5cXHJcXG48ZGl2IGNsYXNzPVxcXCJjdC1kcC1zaGFkb3ctYm94XFxcIiAoY2xpY2spPVxcXCJjaGFuZ2VHbG9iYWxNb2RlKERhdGVQaWNrZXJNb2RlLkhpZGRlbilcXFwiICpuZ0lmPVxcXCJtb2RlICE9IERhdGVQaWNrZXJNb2RlLkhpZGRlblxcXCI+XFxyXFxuPC9kaXY+XFxyXFxuPGRpdiBjbGFzcz1cXFwiY3QtZHAtcGlja2VyXFxcIiBbY2xhc3MuaGlkZGVuXT1cXFwibW9kZSA9PSBEYXRlUGlja2VyTW9kZS5IaWRkZW5cXFwiIGNhcmV0LWxlZnQ9XFxcIjEwJVxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImN0LWRwLWNhcmV0LTFcXFwiPjwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjdC1kcC1jYXJldC0yXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY3QtZHAtaGVhZGVyXFxcIj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0bi1wcmV2ICBjdC1kcC1idG5cXFwiIChjbGljayk9XFxcImdvUHJldigpXFxcIiBbZGlzYWJsZWRdPVxcXCJjYWwubW9kZSA9PSBDYWxlbmRhck1vZGUuTW9udGhcXFwiPiZsdDs8L2J1dHRvbj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0bi1tb250aCBjdC1kcC1idG5cXFwiIChjbGljayk9XFxcImNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLk1vbnRoKVxcXCI+e3tjYWwuZGF0ZS5mb3JtYXQoXFxcIk1NTU1cXFwiKX19PC9idXR0b24+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4teWVhciAgY3QtZHAtYnRuXFxcIiAoY2xpY2spPVxcXCJjaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5ZZWFyKVxcXCI+e3tjYWwuZGF0ZS5mb3JtYXQoXFxcIllZWVlcXFwiKX19PC9idXR0b24+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4tbmV4dCAgY3QtZHAtYnRuXFxcIiAoY2xpY2spPVxcXCJnb05leHQoKVxcXCIgW2Rpc2FibGVkXT1cXFwiY2FsLm1vZGUgPT0gQ2FsZW5kYXJNb2RlLk1vbnRoXFxcIj4mZ3Q7PC9idXR0b24+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8Y3QtY2FsZW5kYXI+PC9jdC1jYWxlbmRhcj5cXHJcXG48L2Rpdj5cIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9kYXRlcGlja2VyL2RhdGVwaWNrZXIuY29tcG9uZW50Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCIuY3QtZHAtaW5wdXQuYWN0aXZle3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MTAxfS5jdC1kcC1zaGFkb3ctYm94e3Bvc2l0aW9uOmZpeGVkO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7bGVmdDowO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7ei1pbmRleDoxMDB9LmN0LWRwLXBpY2tlcnt3aWR0aDoyMjBweDtib3JkZXI6MXB4IHNvbGlkICM4MDgwODA7Ym94LXNpemluZzpjb250ZW50LWJveDtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjEwMTtiYWNrZ3JvdW5kLWNvbG9yOndoaXRlO21hcmdpbi10b3A6MTRweDt0cmFuc2l0aW9uOi41c30uY3QtZHAtcGlja2VyLmN0LWRwLWR1YWxwaWNrZXJ7d2lkdGg6NDQwcHh9LmN0LWRwLXBpY2tlci5jdC1kcC1waWNrZXItdG97bWFyZ2luLWxlZnQ6MTVweH0uY3QtZHAtY2FyZXQtMiwuY3QtZHAtY2FyZXQtMXtib3R0b206MTAwJTtsZWZ0OjEwJTtib3JkZXI6c29saWQgdHJhbnNwYXJlbnQ7aGVpZ2h0OjA7d2lkdGg6MDtwb3NpdGlvbjphYnNvbHV0ZTtwb2ludGVyLWV2ZW50czpub25lO3RyYW5zaXRpb246LjVzfS5jdC1kcC1jYXJldC0ye2JvcmRlci1jb2xvcjpyZ2JhKDEzNiwxODMsMjEzLDApO2JvcmRlci1ib3R0b20tY29sb3I6d2hpdGU7Ym9yZGVyLXdpZHRoOjE0cHg7bWFyZ2luLWxlZnQ6LTE0cHh9LmN0LWRwLWNhcmV0LTF7Ym9yZGVyLWNvbG9yOnJnYmEoMTk0LDIyNSwyNDUsMCk7Ym9yZGVyLWJvdHRvbS1jb2xvcjojODA4MDgwO2JvcmRlci13aWR0aDoxNnB4O21hcmdpbi1sZWZ0Oi0xNnB4fS5jdC1kcC1oZWFkZXJ7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzgwODA4MH0uY3QtZHAtY2Fse3BhZGRpbmc6NXB4O3dpZHRoOjIyMHB4O2Zsb2F0OmxlZnR9LmN0LWRwLWNhbC1pbmFjdGl2ZXt2aXNpYmlsaXR5OmhpZGRlbn0uY3QtZHAtY2FsLWhlYWRlcntjb2xvcjojODA4MDgwfS5jdC1kcC1jYWwtZGF5e3dpZHRoOjMwcHg7aGVpZ2h0OjMwcHg7ZmxvYXQ6bGVmdDt0ZXh0LWFsaWduOmNlbnRlcn0uY3QtZHAtY2FsLWRheS5hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjpsaWdodGJsdWV9LmN0LWRwLWNhbC1kYXkuYmV0d2VlbntiYWNrZ3JvdW5kLWNvbG9yOmxpZ2h0Z3JheX0uY3QtZHAtbW9udGhzLC5jdC1kcC15ZWFyc3t3aWR0aDoyMjBweDtmbG9hdDpsZWZ0O3BhZGRpbmc6NXB4fS5jdC1kcC1tb250aCwuY3QtZHAteWVhcnt3aWR0aDozMy4zMyU7ZmxvYXQ6bGVmdDt0ZXh0LWFsaWduOmNlbnRlcn0uY3QtZHAtYnRue3BhZGRpbmc6NHB4O2JhY2tncm91bmQtY29sb3I6d2hpdGU7Ym9yZGVyOm5vbmV9LmN0LWRwLWJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiM5OTl9LmN0LWRwLWJ0bltkaXNhYmxlZF06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp3aGl0ZX0uY3QtZHAtYnRuW2Rpc2FibGVkXXtjb2xvcjp3aGl0ZX0uY3QtZHAtcGlja2VyIC5jdC1kcC1idG4tcHJldiwuY3QtZHAtcGlja2VyIC5jdC1kcC1idG4tbmV4dHt3aWR0aDoxMCV9LmN0LWRwLXBpY2tlciAuY3QtZHAtYnRuLW1vbnRoe3dpZHRoOjUwJTtmb250LXdlaWdodDo1MDB9LmN0LWRwLXBpY2tlciAuY3QtZHAtYnRuLXllYXJ7d2lkdGg6MzAlO2ZvbnQtd2VpZ2h0OjUwMH0uY3QtZHAtcGlja2VyLmN0LWRwLWR1YWxwaWNrZXIgLmN0LWRwLWJ0bi1wcmV2LC5jdC1kcC1waWNrZXIuY3QtZHAtZHVhbHBpY2tlciAuY3QtZHAtYnRuLW5leHR7d2lkdGg6NSV9LmN0LWRwLXBpY2tlci5jdC1kcC1kdWFscGlja2VyIC5jdC1kcC1idG4tbW9udGh7d2lkdGg6MjUlfS5jdC1kcC1waWNrZXIuY3QtZHAtZHVhbHBpY2tlciAuY3QtZHAtYnRuLXllYXJ7d2lkdGg6MTUlfS5jbGVhcmZpeCwuY3QtZHAtY2FsOmFmdGVyLC5jdC1kcC1tb250aHM6YWZ0ZXIsLmN0LWRwLXllYXJzOmFmdGVye3Zpc2liaWxpdHk6aGlkZGVuO2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjA7Y29udGVudDpcXFwiIFxcXCI7Y2xlYXI6Ym90aDtoZWlnaHQ6MH0ubm8tYnV0dG9uLC5jdC1kcC1jYWwtZGF5e2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmUgIWltcG9ydGFudH0ucHVsbC1yaWdodHtmbG9hdDpyaWdodH0uaGlkZGVue2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fVwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tbW9uL2NvbW1vbi5sZXNzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBDb21wb25lbnQsIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSwgT25Jbml0LCBSZW5kZXJlciwgVmlld0VuY2Fwc3VsYXRpb24sIElucHV0LCBWaWV3Q2hpbGQsIFF1ZXJ5TGlzdCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIEVsZW1lbnRSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0ICogYXMgbW9tZW50IGZyb20gJ21vbWVudCc7XHJcbmltcG9ydCAqIGFzICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IHsgQ2FsZW5kYXJDb21wb25lbnQgfSBmcm9tICcuLi9jYWxlbmRhci9jYWxlbmRhci5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBDYWxlbmRhck1vZGUgfSBmcm9tICcuLi9jb21tb24vY2FsZW5kYXItbW9kZSc7XHJcblxyXG4vKiogXHJcbiAqIERlZmluZXMgdGhlIG1vZGUgb2YgdGhlIHBpY2tlclxyXG4gKi9cclxuZXhwb3J0IGVudW0gRHVhbFBpY2tlck1vZGUge1xyXG4gICAgLyoqIEFsbG93cyBzZWxlY3Rpb24gb2YgdGhlIHRvIGRhdGUuICovXHJcbiAgICBUbywgXHJcbiAgICAvKiogQWxsb3dzIHNlbGVjdGlvbiBvZiB0aGUgZnJvbSBkYXRlLiAqL1xyXG4gICAgRnJvbSwgXHJcbiAgICAvKiogTWFrZXMgdGhlIHBpY2tlciBoaWRkZW4sIGRlZmF1bHQgc3RhdGUuICovXHJcbiAgICBIaWRkZW5cclxufVxyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2N0LWR1YWxwaWNrZXInLFxyXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vZHVhbHBpY2tlci5jb21wb25lbnQuaHRtbCcpLFxyXG4gICAgc3R5bGVzOiBbcmVxdWlyZSgnLi9kdWFscGlja2VyLmNvbXBvbmVudC5sZXNzJyksIHJlcXVpcmUoJy4uL2NvbW1vbi9jb21tb24ubGVzcycpXSxcclxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcclxufSlcclxuZXhwb3J0IGNsYXNzIER1YWxQaWNrZXJDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3ksIE9uSW5pdCB7XHJcblxyXG4gICAgLy9FbnVtIGRlZmluaXRpb25zIGZvciBhY2Nlc3MgaW4gdmlld1xyXG4gICAgcHVibGljIENhbGVuZGFyTW9kZSA9IENhbGVuZGFyTW9kZTtcclxuICAgIHB1YmxpYyBEdWFsUGlja2VyTW9kZSA9IER1YWxQaWNrZXJNb2RlO1xyXG5cclxuICAgIC8qKiBEYXRlIGZyb20gKGJpbmRpbmcgdmFsdWUpICovXHJcbiAgICBwcml2YXRlIGRhdGVGcm9tVmFsdWU6IG1vbWVudC5Nb21lbnQ7XHJcbiAgICAvKiogRGF0ZSB0byAoYmluZGluZyB2YWx1ZSkgKi9cclxuICAgIHByaXZhdGUgZGF0ZVRvVmFsdWU6IG1vbWVudC5Nb21lbnQ7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgY2hhbmdlIChmcm9tKSovXHJcbiAgICBAT3V0cHV0KCkgZGF0ZUZyb21DaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgY2hhbmdlICh0bykgKi9cclxuICAgIEBPdXRwdXQoKSBkYXRlVG9DaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAvKiogSW5wdXQgZGVmaW5pdGlvbiBmb3IgKGZyb20pICovXHJcbiAgICBASW5wdXQoKVxyXG4gICAgZ2V0IGRhdGVGcm9tKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGVGcm9tVmFsdWU7XHJcbiAgICB9XHJcbiAgICBzZXQgZGF0ZUZyb20odmFsKSB7XHJcbiAgICAgICAgdGhpcy5kYXRlRnJvbVN0cmluZyA9IHZhbC5mb3JtYXQoXCJNTS9ERC9ZWVlZXCIpO1xyXG4gICAgICAgIHRoaXMuZGF0ZUZyb21WYWx1ZSA9IHZhbDtcclxuICAgICAgICB0aGlzLmRhdGVGcm9tQ2hhbmdlLmVtaXQodmFsKTtcclxuICAgIH1cclxuICAgIC8qKiBJbnB1dCBkZWZpbml0aW9uIGZvciAodG8pICovXHJcbiAgICBASW5wdXQoKVxyXG4gICAgZ2V0IGRhdGVUbygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRlVG9WYWx1ZTtcclxuICAgIH1cclxuICAgIHNldCBkYXRlVG8odmFsKSB7XHJcbiAgICAgICAgdGhpcy5kYXRlVG9TdHJpbmcgPSB2YWwuZm9ybWF0KFwiTU0vREQvWVlZWVwiKTtcclxuICAgICAgICB0aGlzLmRhdGVUb1ZhbHVlID0gdmFsO1xyXG4gICAgICAgIHRoaXMuZGF0ZVRvQ2hhbmdlLmVtaXQodmFsKTtcclxuICAgIH1cclxuICAgIEBJbnB1dChcImN0RGlzYWJsZWRcIikgZGlzYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIEBJbnB1dCgpIGlucHV0Q2xhc3M6IGFueTtcclxuXHJcbiAgICAvKiogU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGZyb20gKi9cclxuICAgIHB1YmxpYyBkYXRlRnJvbVN0cmluZzogc3RyaW5nO1xyXG4gICAgLyoqIFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0byAqL1xyXG4gICAgcHVibGljIGRhdGVUb1N0cmluZzogc3RyaW5nO1xyXG5cclxuICAgIC8qKiBDYWwxIHZpZXcgY2hpbGQgY29tcG9uZW50LCB1c2UgdG8gY29udHJvbCByZW5kZXJpbmcgKi9cclxuICAgIEBWaWV3Q2hpbGQoJ2NhbDEnLCBDYWxlbmRhckNvbXBvbmVudCkgcHVibGljIGNhbDE6IENhbGVuZGFyQ29tcG9uZW50O1xyXG4gICAgLyoqIENhbDIgdmlldyBjaGlsZCBjb21wb25lbnQsIHVzZSB0byBjb250cm9sIHJlbmRlcmluZyAqLyAgICBcclxuICAgIEBWaWV3Q2hpbGQoJ2NhbDInLCBDYWxlbmRhckNvbXBvbmVudCkgcHVibGljIGNhbDI6IENhbGVuZGFyQ29tcG9uZW50O1xyXG4gICAgLyoqIE1vZGUgKi9cclxuICAgIHB1YmxpYyBtb2RlOiBEdWFsUGlja2VyTW9kZSA9IER1YWxQaWNrZXJNb2RlLkhpZGRlbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15RWxlbWVudDpFbGVtZW50UmVmKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hhbmdlcyB0aGUgZ2xvYmFsIG1vZGUgb2YgdGhlIHBpY2tlciAobm90IHRoZSBtb2RlIG9mIHRoZSBjYWxlbmRhcilcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNoYW5nZUdsb2JhbE1vZGUobW9kZTogRHVhbFBpY2tlck1vZGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhtb2RlKTtcclxuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRHVhbFBpY2tlck1vZGUuVG86XHJcbiAgICAgICAgICAgICAgICBsZXQgbCA9ICQodGhpcy5teUVsZW1lbnQubmF0aXZlRWxlbWVudCkuZmluZChcIi5jdC1kcC1pbnB1dC10b1wiKS5wb3NpdGlvbigpLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMubXlFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpLmZpbmQoXCIuY3QtZHAtY2FyZXRcIikuY3NzKHtcImxlZnRcIjpsfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBEdWFsUGlja2VyTW9kZS5Gcm9tOlxyXG4gICAgICAgICAgICAgICAgbGV0IGxmcm9tID0gJCh0aGlzLm15RWxlbWVudC5uYXRpdmVFbGVtZW50KS5maW5kKFwiLmN0LWRwLWlucHV0LWZyb21cIikucG9zaXRpb24oKS5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzLm15RWxlbWVudC5uYXRpdmVFbGVtZW50KS5maW5kKFwiLmN0LWRwLWNhcmV0XCIpLmNzcyh7XCJsZWZ0XCI6bGZyb219KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLkNhbGVuZGFyLCB0aGlzLmNhbDEpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuQ2FsZW5kYXIsIHRoaXMuY2FsMik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRGF0ZUZyb21TdHJpbmdDaGFuZ2UodmFsKSB7XHJcbiAgICAgICAgdGhpcy5kYXRlRnJvbVN0cmluZyA9IHZhbDtcclxuICAgICAgICBsZXQgbSA9IG1vbWVudChuZXcgRGF0ZSh2YWwpKTtcclxuICAgICAgICBpZiAobS5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRlRnJvbVZhbHVlLnNldChtLnRvT2JqZWN0KCkpO1xyXG4gICAgICAgICAgICB0aGlzLmNvcnJlY3REYXRlVG8oKTtcclxuICAgICAgICAgICAgdGhpcy5jYWwxLmRhdGUgPSB0aGlzLmRhdGVGcm9tVmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2hpZnRDYWwyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZUZyb21DaGFuZ2UuZW1pdCh0aGlzLmRhdGVGcm9tVmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRhdGVUb1N0cmluZ0NoYW5nZSh2YWwpIHtcclxuICAgICAgICB0aGlzLmRhdGVUb1N0cmluZyA9IHZhbDtcclxuICAgICAgICBsZXQgbSA9IG1vbWVudChuZXcgRGF0ZSh2YWwpKTtcclxuICAgICAgICBpZiAobS5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRlVG9WYWx1ZS5zZXQobS50b09iamVjdCgpKTtcclxuICAgICAgICAgICAgdGhpcy5jb3JyZWN0RGF0ZUZyb20oKTtcclxuICAgICAgICAgICAgdGhpcy5jYWwyLmRhdGUgPSB0aGlzLmRhdGVUb1ZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLnNoaWZ0Q2FsMSgpO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGVUb0NoYW5nZS5lbWl0KHRoaXMuZGF0ZVRvVmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hpZnRDYWwxKCkge1xyXG4gICAgICAgIHRoaXMuY2FsMS5kYXRlID0gbW9tZW50KHRoaXMuY2FsMi5kYXRlKTtcclxuICAgICAgICB0aGlzLmNhbDEuZGF0ZS5zdWJ0cmFjdCh7IFwibW9udGhcIjogMSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNoaWZ0Q2FsMigpIHtcclxuICAgICAgICB0aGlzLmNhbDIuZGF0ZSA9IG1vbWVudCh0aGlzLmNhbDEuZGF0ZSk7XHJcbiAgICAgICAgdGhpcy5jYWwyLmRhdGUuYWRkKHsgXCJtb250aFwiOiAxIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBibHVyKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKChldmVudC53aGljaCB8fCBldmVudC5rZXlDb2RlKSA9PSA5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlR2xvYmFsTW9kZShEdWFsUGlja2VyTW9kZS5IaWRkZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2hhbmdlTW9kZShtb2RlOiBDYWxlbmRhck1vZGUsIGNhbDogQ2FsZW5kYXJDb21wb25lbnQpIHtcclxuICAgICAgICBjYWwuY2hhbmdlTW9kZShtb2RlKTtcclxuICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBDYWxlbmRhck1vZGUuQ2FsZW5kYXI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdvUHJldigpIHtcclxuICAgICAgICBpZiAodGhpcy5jYWwxLm1vZGUgPT0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyICYmIHRoaXMuY2FsMi5tb2RlID09IENhbGVuZGFyTW9kZS5DYWxlbmRhcikge1xyXG4gICAgICAgICAgICB0aGlzLmNhbDEuZGF0ZS5tb250aCh0aGlzLmNhbDEuZGF0ZS5tb250aCgpIC0gMSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hpZnRDYWwyKCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNhbDEuZ29QcmV2KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsMi5nb1ByZXYoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdvTmV4dCgpIHtcclxuICAgICAgICBpZiAodGhpcy5jYWwxLm1vZGUgPT0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyICYmIHRoaXMuY2FsMi5tb2RlID09IENhbGVuZGFyTW9kZS5DYWxlbmRhcikge1xyXG4gICAgICAgICAgICB0aGlzLmNhbDEuZGF0ZS5tb250aCh0aGlzLmNhbDEuZGF0ZS5tb250aCgpICsgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hpZnRDYWwyKCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNhbDEuZ29OZXh0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsMi5nb05leHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtb250aDFDaGFuZ2VMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNoaWZ0Q2FsMigpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuQ2FsZW5kYXIsIHRoaXMuY2FsMSk7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5DYWxlbmRhciwgdGhpcy5jYWwyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vbnRoMkNoYW5nZUxpc3RlbmVyID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hpZnRDYWwxKCk7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5DYWxlbmRhciwgdGhpcy5jYWwxKTtcclxuICAgICAgICB0aGlzLmNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLkNhbGVuZGFyLCB0aGlzLmNhbDIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgeWVhcjFDaGFuZ2VMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNoaWZ0Q2FsMigpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuQ2FsZW5kYXIsIHRoaXMuY2FsMSk7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5DYWxlbmRhciwgdGhpcy5jYWwyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHllYXIyQ2hhbmdlTGlzdGVuZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zaGlmdENhbDEoKTtcclxuICAgICAgICB0aGlzLmNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLkNhbGVuZGFyLCB0aGlzLmNhbDEpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuQ2FsZW5kYXIsIHRoaXMuY2FsMik7XHJcbiAgICB9XHJcblxyXG4gICAgbmdPbkluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5jYWwxLmRhdGUgPSBtb21lbnQodGhpcy5kYXRlRnJvbSk7XHJcbiAgICAgICAgdGhpcy5zaGlmdENhbDIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYWwxLnN1YnNjcmliZVRvQ2hhbmdlTW9udGgodGhpcy5tb250aDFDaGFuZ2VMaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5jYWwyLnN1YnNjcmliZVRvQ2hhbmdlTW9udGgodGhpcy5tb250aDJDaGFuZ2VMaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5jYWwxLnN1YnNjcmliZVRvQ2hhbmdlWWVhcih0aGlzLnllYXIxQ2hhbmdlTGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMuY2FsMi5zdWJzY3JpYmVUb0NoYW5nZVllYXIodGhpcy55ZWFyMkNoYW5nZUxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25EZXN0cm95KCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJDYWxlbmRhcigpIHtcclxuICAgICAgICB0aGlzLmNhbDEucmVuZGVyQ2FsZW5kYXIodGhpcy5kYXRlQ2xpY2tMaXN0ZW5lciwgdGhpcy5kYXRlVG8sIHRoaXMuZGF0ZUZyb20pO1xyXG4gICAgICAgIHRoaXMuY2FsMi5yZW5kZXJDYWxlbmRhcih0aGlzLmRhdGVDbGlja0xpc3RlbmVyLCB0aGlzLmRhdGVUbywgdGhpcy5kYXRlRnJvbSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGF0ZUNsaWNrTGlzdGVuZXIgPSAoZGF0ZTogbW9tZW50Lk1vbWVudCkgPT4ge1xyXG4gICAgICAgIGxldCBkID0gbW9tZW50KGRhdGUpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGF0ZShkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGF0ZShkYXRlOiBtb21lbnQuTW9tZW50KSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBEdWFsUGlja2VyTW9kZS5Gcm9tOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRlRnJvbSA9IGRhdGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGVGcm9tU3RyaW5nID0gZGF0ZS5mb3JtYXQoXCJNTS9ERC9ZWVlZXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb3JyZWN0RGF0ZVRvKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUdsb2JhbE1vZGUoRHVhbFBpY2tlck1vZGUuVG8pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRHVhbFBpY2tlck1vZGUuVG86XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGVUbyA9IGRhdGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGVUb1N0cmluZyA9IGRhdGUuZm9ybWF0KFwiTU0vREQvWVlZWVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdERhdGVGcm9tKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUdsb2JhbE1vZGUoRHVhbFBpY2tlck1vZGUuSGlkZGVuKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb3JyZWN0RGF0ZVRvKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGVUbyAmJiB0aGlzLmRhdGVGcm9tLmlzQWZ0ZXIodGhpcy5kYXRlVG8pKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZVRvID0gbW9tZW50KHRoaXMuZGF0ZUZyb20pO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGVUby5hZGQoeyBcImRheVwiOiAxIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGVUb1N0cmluZyA9IHRoaXMuZGF0ZVRvLmZvcm1hdChcIk1NL0REL1lZWVlcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29ycmVjdERhdGVGcm9tKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGVGcm9tICYmIHRoaXMuZGF0ZVRvLmlzQmVmb3JlKHRoaXMuZGF0ZUZyb20pKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZUZyb20gPSBtb21lbnQodGhpcy5kYXRlVG8pO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGVGcm9tLnN1YnRyYWN0KHsgXCJkYXlcIjogMSB9KTtcclxuICAgICAgICAgICAgdGhpcy5kYXRlRnJvbVN0cmluZyA9IHRoaXMuZGF0ZUZyb20uZm9ybWF0KFwiTU0vREQvWVlZWVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vc3JjL2R1YWxwaWNrZXIvZHVhbHBpY2tlci5jb21wb25lbnQudHMiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGlucHV0IFxcclxcbiAgICBjbGFzcz1cXFwiY3QtZHAtaW5wdXQgY3QtZHAtaW5wdXQtZnJvbVxcXCIgXFxyXFxuICAgIHR5cGU9XFxcInRleHRcXFwiIFxcclxcbiAgICAoZm9jdXMpPVxcXCJjaGFuZ2VHbG9iYWxNb2RlKER1YWxQaWNrZXJNb2RlLkZyb20pXFxcIlxcclxcbiAgICAoa2V5ZG93bik9XFxcImJsdXIoJGV2ZW50KVxcXCIgXFxyXFxuICAgIFtuZ01vZGVsXT1cXFwiZGF0ZUZyb21TdHJpbmdcXFwiXFxyXFxuICAgIFtjbGFzcy5hY3RpdmVdPVxcXCJtb2RlICE9PSBEdWFsUGlja2VyTW9kZS5IaWRkZW5cXFwiXFxyXFxuICAgIFtuZ0NsYXNzXT1cXFwiaW5wdXRDbGFzc1xcXCJcXHJcXG4gICAgKG5nTW9kZWxDaGFuZ2UpPVxcXCJvbkRhdGVGcm9tU3RyaW5nQ2hhbmdlKCRldmVudClcXFwiXFxyXFxuICAgIFtkaXNhYmxlZF09XFxcImRpc2FibGVkXFxcIlxcclxcbiAgICB0YWJpbmRleD1cXFwiMFxcXCJcXHJcXG4gICAgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiXFxyXFxuLz48IS0tXFxyXFxuLS0+PGlucHV0IFxcclxcbiAgICBjbGFzcz1cXFwiY3QtZHAtaW5wdXQgY3QtZHAtaW5wdXQtdG9cXFwiIFxcclxcbiAgICB0eXBlPVxcXCJ0ZXh0XFxcIiBcXHJcXG4gICAgKGZvY3VzKT1cXFwiY2hhbmdlR2xvYmFsTW9kZShEdWFsUGlja2VyTW9kZS5UbylcXFwiXFxyXFxuICAgIChrZXlkb3duKT1cXFwiYmx1cigkZXZlbnQpXFxcIiAgICAgICAgICBcXHJcXG4gICAgW25nTW9kZWxdPVxcXCJkYXRlVG9TdHJpbmdcXFwiXFxyXFxuICAgIFtjbGFzcy5hY3RpdmVdPVxcXCJtb2RlICE9PSBEdWFsUGlja2VyTW9kZS5IaWRkZW5cXFwiXFxyXFxuICAgIFtuZ0NsYXNzXT1cXFwiaW5wdXRDbGFzc1xcXCIgICAgICAgIFxcclxcbiAgICAobmdNb2RlbENoYW5nZSk9XFxcIm9uRGF0ZVRvU3RyaW5nQ2hhbmdlKCRldmVudClcXFwiXFxyXFxuICAgIFtkaXNhYmxlZF09XFxcImRpc2FibGVkXFxcIiAgICAgICAgICAgICAgXFxyXFxuICAgIHRhYmluZGV4PVxcXCIwXFxcIlxcclxcbiAgICBhdXRvY29tcGxldGU9XFxcIm9mZlxcXCJcXHJcXG4vPlxcclxcbjxkaXYgY2xhc3M9XFxcImN0LWRwLXNoYWRvdy1ib3hcXFwiIChjbGljayk9XFxcImNoYW5nZUdsb2JhbE1vZGUoRHVhbFBpY2tlck1vZGUuSGlkZGVuKVxcXCIgKm5nSWY9XFxcIm1vZGUgIT0gRHVhbFBpY2tlck1vZGUuSGlkZGVuXFxcIj5cXHJcXG48L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVxcXCJjdC1kcC1waWNrZXIgY3QtZHAtZHVhbHBpY2tlclxcXCIgW2NsYXNzLmhpZGRlbl09XFxcIm1vZGUgPT0gRHVhbFBpY2tlck1vZGUuSGlkZGVuXFxcIiBbY2xhc3MuY3QtZHAtcGlja2VyLXRvXT1cXFwibW9kZSA9PSBEdWFsUGlja2VyTW9kZS5Ub1xcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImN0LWRwLWNhcmV0IGN0LWRwLWNhcmV0LTFcXFwiPjwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjdC1kcC1jYXJldCBjdC1kcC1jYXJldC0yXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY3QtZHAtaGVhZGVyXFxcIj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0bi1wcmV2ICBjdC1kcC1idG5cXFwiIChjbGljayk9XFxcImdvUHJldigpXFxcIiBbZGlzYWJsZWRdPVxcXCJjYWwxLm1vZGUgPT0gQ2FsZW5kYXJNb2RlLk1vbnRoIHx8IGNhbDIubW9kZSA9PSBDYWxlbmRhck1vZGUuTW9udGhcXFwiPiZsdDs8L2J1dHRvbj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0bi1tb250aCBjdC1kcC1idG5cXFwiIFtkaXNhYmxlZF09XFxcImNhbDIubW9kZSAhPSBDYWxlbmRhck1vZGUuQ2FsZW5kYXJcXFwiIChjbGljayk9XFxcImNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLk1vbnRoLCBjYWwxKVxcXCI+e3tjYWwxLmRhdGUuZm9ybWF0KFxcXCJNTU1NXFxcIil9fTwvYnV0dG9uPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLXllYXIgIGN0LWRwLWJ0blxcXCIgW2Rpc2FibGVkXT1cXFwiY2FsMi5tb2RlICE9IENhbGVuZGFyTW9kZS5DYWxlbmRhclxcXCIgKGNsaWNrKT1cXFwiY2hhbmdlTW9kZShDYWxlbmRhck1vZGUuWWVhciwgY2FsMSlcXFwiPnt7Y2FsMS5kYXRlLmZvcm1hdChcXFwiWVlZWVxcXCIpfX08L2J1dHRvbj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0bi1uZXh0ICBjdC1kcC1idG5cXFwiIFtkaXNhYmxlZF09XFxcInRydWVcXFwiPjwvYnV0dG9uPjwhLS1cXHJcXG4gICAgICAgIC0tPjxidXR0b24gdGFiaW5kZXg9XFxcIi0xXFxcIiBjbGFzcz1cXFwiY3QtZHAtYnRuLXByZXYgIGN0LWRwLWJ0blxcXCIgW2Rpc2FibGVkXT1cXFwidHJ1ZVxcXCI+PC9idXR0b24+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4tbW9udGggY3QtZHAtYnRuXFxcIiBbZGlzYWJsZWRdPVxcXCJjYWwxLm1vZGUgIT0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyXFxcIiAoY2xpY2spPVxcXCJjaGFuZ2VNb2RlKENhbGVuZGFyTW9kZS5Nb250aCwgY2FsMilcXFwiPnt7Y2FsMi5kYXRlLmZvcm1hdChcXFwiTU1NTVxcXCIpfX08L2J1dHRvbj48IS0tXFxyXFxuICAgICAgICAtLT48YnV0dG9uIHRhYmluZGV4PVxcXCItMVxcXCIgY2xhc3M9XFxcImN0LWRwLWJ0bi15ZWFyICBjdC1kcC1idG5cXFwiIFtkaXNhYmxlZF09XFxcImNhbDEubW9kZSAhPSBDYWxlbmRhck1vZGUuQ2FsZW5kYXJcXFwiIChjbGljayk9XFxcImNoYW5nZU1vZGUoQ2FsZW5kYXJNb2RlLlllYXIsIGNhbDIpXFxcIj57e2NhbDIuZGF0ZS5mb3JtYXQoXFxcIllZWVlcXFwiKX19PC9idXR0b24+PCEtLVxcclxcbiAgICAgICAgLS0+PGJ1dHRvbiB0YWJpbmRleD1cXFwiLTFcXFwiIGNsYXNzPVxcXCJjdC1kcC1idG4tbmV4dCAgY3QtZHAtYnRuXFxcIiAoY2xpY2spPVxcXCJnb05leHQoKVxcXCIgW2Rpc2FibGVkXT1cXFwidGhpcy5jYWwxLm1vZGUgPT0gQ2FsZW5kYXJNb2RlLk1vbnRoIHx8IHRoaXMuY2FsMi5tb2RlID09IENhbGVuZGFyTW9kZS5Nb250aFxcXCI+Jmd0OzwvYnV0dG9uPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGN0LWNhbGVuZGFyICNjYWwxIFtuZ0NsYXNzXT1cXFwieydjdC1kcC1jYWwtaW5hY3RpdmUnOiBjYWwyLm1vZGUgIT0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyfVxcXCI+PC9jdC1jYWxlbmRhcj5cXHJcXG4gICAgPGN0LWNhbGVuZGFyICNjYWwyIFtuZ0NsYXNzXT1cXFwieydjdC1kcC1jYWwtaW5hY3RpdmUnOiBjYWwxLm1vZGUgIT0gQ2FsZW5kYXJNb2RlLkNhbGVuZGFyfVxcXCI+PC9jdC1jYWxlbmRhcj5cXHJcXG48L2Rpdj5cIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9kdWFscGlja2VyL2R1YWxwaWNrZXIuY29tcG9uZW50Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=